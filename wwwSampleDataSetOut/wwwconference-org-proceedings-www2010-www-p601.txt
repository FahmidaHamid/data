Randomization Tests for Distinguishing
Social Inﬂuence and Homophily Effects

Timothy La Fond and Jennifer Neville

Computer Science Department

Purdue University

West Lafayette, IN 47907

[tlafond|neville]@cs.purdue.edu

ABSTRACT
Relational autocorrelation is ubiquitous in relational domains.
This observed correlation between class labels of linked in-
stances in a network (e.g., two friends are more likely to
share political beliefs than two randomly selected people)
can be due to the eﬀects of two diﬀerent social processes.
If social inﬂuence eﬀects are present, instances are likely to
change their attributes to conform to their neighbor values.
If homophily eﬀects are present, instances are likely to link to
other individuals with similar attribute values. Both these
eﬀects will result in autocorrelated attribute values. When
analyzing static relational networks it is impossible to de-
termine how much of the observed correlation is due each of
these factors. However, the recent surge of interest in social
networks has increased the availability of dynamic network
data. In this paper, we present a randomization technique
for temporal network data where the attributes and links
change over time. Given data from two time steps, we mea-
sure the gain in correlation and assess whether a signiﬁcant
portion of this gain is due to inﬂuence and/or homophily. We
demonstrate the eﬃcacy of our method on semi-synthetic
data and then apply the method to a real-world social net-
works dataset, showing the impact of both inﬂuence and
homophily eﬀects.

Categories and Subject Descriptors
H.4.m [Information Systems]: Miscellaneous
General Terms
Algorithms, Design
Keywords
Social networks, randomization, homophily, social inﬂuence

1.

INTRODUCTION

Autocorrelation is a common characteristic of relational
and social network datasets, which refers to a statistical de-
pendency between the values of the same variable on related
entities. For example, friends are more likely to share polit-
ical views than randomly selected pairs of individuals. The
presence of autocorrelation oﬀers a unique opportunity to
improve predictive models because inferences about one ob-
ject can be used to improve inferences about related objects.
Copyright is held by the International World Wide Web Conference Com-
mittee (IW3C2). Distribution of these papers is limited to classroom use,
and personal use by others.
WWW 2010, April 26–30, 2010, Raleigh, North Carolina, USA.
ACM 978-1-60558-799-8/10/04.

Indeed, recent work in relational learning has exploited this
property in the development of collective inference models,
which can make more accurate predictions by jointly infer-
ring class label values throughout a network (see e.g., [5, 18,
24]).
In addition, the gains that collective model achieve
over conditional models (which reason about each instance
independently) increase as autocorrelation levels increase in
the data [10].

A number of widely occurring phenomena give rise to
autocorrelation dependencies. Social phenomena, including
social inﬂuence [13], diﬀusion processes [7], and the princi-
ple of homophily [15], can cause autocorrelated observations
through their inﬂuence on social interactions that govern
the data generation process. Alternatively, a hidden condi-
tion or event, whose inﬂuence is correlated among instances
that are closely located in time or space, can produce auto-
correlated observations through joint inﬂuence on link and
attribute changes [17, 2].

A key question for understanding and exploiting behavior
in social network domains is to determine the root cause
of observed autocorrelation. Since autocorrelation is the
primary motivation to use relational and network models
over conventional machine learning techniques, it stands to
reason that a better understanding of the causes of auto-
correlation will inform the development of improved models
and learning algorithms. For example, although previous
work in relational learning and statistical network analysis
has focused primarily on static graphs, recent eﬀorts have
turned to the analysis of dynamic networks and develop-
ment of temporally-evolving models (e.g., [9, 21]). In order
to deal with the enormous increase in dimensionality asso-
ciated with modeling both temporal and relational depen-
dencies, these methods restrict the set of dependencies that
they consider (e.g., through choice of model form). The
ability to accurately distinguish which temporal-relational
patterns (e.g., homophily) occur in real-world datasets will
ensure that researchers can include the most promising set
of dependencies in their restricted set of patterns.

Research in social psychology and sociology has developed
two main theories of social processes that can indicate why
autocorrelation is often observed in social systems. Social
inﬂuence refers to processes in which interactions with oth-
ers causes individuals to conform (e.g., people change their
attitudes to be more similar to their friends). Homophily
refers to processes of social selection, where individuals are
more likely to form ties with “similar” individuals (e.g., peo-
ple choose to be friends with people who share their beliefs).
Both homophily and social inﬂuence can produce autocorre-

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA601lation, since their outcome results in linked individual shar-
ing attribute values.

In this work we focus on the task of diﬀerentiating between
inﬂuence and homophily eﬀects and determining, from the
observed autocorrelation dependencies, whether the eﬀects
are signiﬁcant. Recently, there have been a number of empir-
ical studies that investigate (and model) either social inﬂu-
ence or homophily eﬀects in real-world datasets (e.g., [4, 22,
6]. However, these eﬀorts have focused primarily on demon-
strating the presence of homophily and inﬂuence—they do
not provide the means to estimate eﬀects sizes from data
or determine whether the eﬀects are statistically signiﬁcant.
Exceptions include the work of Snijders et al. [23], Anag-
nostopoulos et al. [1], and Aral et al. [3]. Snijders et al. [23]
develop a time-evolving exponential random graph model
that can represent homophily and inﬂuence eﬀects. Their
method support hypothesis tests for each eﬀect, but the ap-
plicability of the approach is limited by the suitability of
the model form (e.g., random graph model, Markov assump-
tion). On the other hand, the recent work of Anagnostopou-
los et al. [1] presents a model-free approach to assessing inﬂu-
ence eﬀects with randomization tests. The limitation of their
framework, however, is an assumption that that the network
structure (i.e., links) does not change over time, thus they
cannot distinguish homophily eﬀects. Aral et al. [3] correct
this issue with a development of matched sample estima-
tion framework that accounts for homophily eﬀects, but the
method uses additional node behaviors and characteristics
in the matching process, so it will have limited applicability
in data with few observed attributes and/or time steps.

In this paper, we outline a more general randomization
framework for datasets where both attribute values and links
change over time, where changes can consist of either addi-
tions or deletions. Our aim is to determine the signiﬁcance
of each eﬀect and to distinguish the contribution of inﬂu-
ence and homophily eﬀects. We outline a randomization test
based on randomization of action choices. We consider the
gain in correlation over one time step in the graph and assess
the amount of gain that is due to each of the eﬀects. The
randomization procedure then produce an empirical sam-
pling distribution of expected gains under the null hypothe-
sis (that there is no inﬂuence and/or homophily eﬀect) and
if the observed gain is greater than expected under the null,
we can conclude there is a signiﬁcant inﬂuence/homophily
eﬀect.

We evaluate our proposed method on semi-synthetic so-
cial network data, showing that the test has low Type I error
(i.e., it does not incorrectly conclude there is an eﬀect when
in fact the data are random) and high power when the data
exhibit suﬃcient change over time (i.e., they correctly con-
clude there is an eﬀect when there is one). We then apply
our method to a real-world dataset to investigate the as-
pects of observed autocorrelation. Our analysis of a public
university Facebook network shows that autocorrelation in
group memberships is due to signiﬁcant inﬂuence and ho-
mophily eﬀects, yet diﬀerent groups exhibit diﬀerent types
of behavior.

2. PROBLEM DEFINITION

In this work, we consider relational data represented as
an undirected, attributed graph G = (V, E), with V (nodes)
representing objects and E (edges) representing relation-
ships. The nodes V represent objects in the data (e.g.,

Graph(t)

Graph(t+1)

Graph(t+2)

Inﬂuence

Inﬂuence

Attributes(t)

Homophily

Attributes(t+1)

Homophily

Attributes(t+1)

Figure 1:
aﬀect on attributes and links over time.

Illustration of homophily and inﬂuence

1 , ..., X v

1t, ..., X v

t } = {(X v

m) (e.g., age, gender).

people) and the edges E represent relationships (e.g., friend-
ships) between pairs of objects (eij : vi and vj are friends).
Each node v ∈ V and has a number of associated attributes
Xv = (X v
We assume that both the attributes and links may vary
over time. First, attribute values may change at each time
step t: Xt = {Xv
mt)}. Second, relation-
ships may change at each time step. This results in a dif-
ferent data graph Gt = (V, Et) for each time step t, where
the nodes remain constant but the edge set may vary (i.e.,
Et "= Et! for some t, t!).
Figure 1 illustrates inﬂuence and homophily dependencies.
If there is a signiﬁcant inﬂuence eﬀect then we expect the
attribute values in t + 1 will depend on the link structure
in t. On the other hand, if there is a signiﬁcant homophily
eﬀect then we expect the link structure in t + 1 will depend
on the attributes in t.

If either inﬂuence or homophily eﬀects are present in the
data, the data will exhibit relational autocorrelation at any
given time step t. Relational autocorrelation refers to a sta-
tistical dependency between values of the same variable on
related objects—it involves a set of related instance pairs, a
variable X deﬁned on the nodes in the pairs, and it corre-
sponds to the correlation between the values of X on pairs
of related instances. Any traditional measure of association,
such as Pearson’s correlation coeﬃcient or information gain,
can be used to assess the association between these pairs of
values of X. In this work, we use the chi-square statistic.

Deﬁnition 1. Relational Autocorrelation

Let PR = {(vi, vj) : eij ∈ E} be a set of related instance
pairs in G. Let X be a binary attribute deﬁned on the
nodes V . Then we compute the relational autocorrelation
of X in G with the following contingency table T :

X i = X j = x ¬(X i = X j = x)

(vi, vj) ∈ PR
(vi, vj) "∈ PR

a
c

b
d

We deﬁne relational autocorrelation as the chi-square statis-
tic that is computed from T (with dof=1):
(ad − cb)2 · N

C(X, G) = χ2 =

(a + b)(c + d)(b + d)(a + c)

where N = a + b + c + d, is the total count of all cells in T .

The ﬁrst column of the contingency table counts pairs of
nodes that both have the same value for attribute X. The
second column counts pairs of nodes that do not match on

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA602X. The ﬁrst row counts pairs of nodes that are related in
G. The second row counts pairs of nodes that are not linked
in G. Note that this contingency table encompasses every
possible combination of nodes in the graph and thus has a
stable size even when the total number of links change in
the graph (i.e., it doesn’t depend on the size of E).

To measure the autocorrelation between attributes and
relationships at time t, we compute the chi-square statistic
C(Xt, Gt) from the graph Gt using the attribute values in
Xt. Using a similar table for the attributes and links in t+1,
we can compute C(Xt+1, Gt+1).

Now that we have a method of computing the correlation
at any time step, we can can use correlation gain to assess
the eﬀects of homophily and inﬂuence, where the observed
correlation gain G from t to t + 1 is:

gain(t, t + 1) = C(Xt+1, Gt+1) − C(Xt, Gt)

The gain in correlation from one time step to the next can
be due to: (1) homophily gains due changes in the graph
structure in t + 1, or (2) inﬂuence gains due to changes in
attributes in t + 1. To show this, we will deﬁne inﬂuence
and homophily and show how they impact the chi-square
statistic from one time step to the next.

“Homophily” is typically used to refer to the general ten-

dency of people to associate with similar others (see e.g., [15])—
we operationalize this in the following way to investigate
whether attribute similarity inﬂuences choice of friends (i.e.,
are friendships formed based on a pair’s attribute similar-
ity).

Deﬁnition 2. Homophily

Let Xt and Xt+1 be the attribute values at time t and t + 1
respectively. Let PR(t) and PR(t+1) be the related pairs at
time t and t+1 respectively. Let Lij
t+1 refer to the case when
pair (vi, vj) form a link at time t + 1 (i.e., (vi, vj) /∈ PR(t)
and (vi, vj) ∈ PR(t+1)). Let U ij
t+1 refer to the case when pair
(vi, vj) drops a link at time t + 1 (i.e., (vi, vj) ∈ PR(t) and
(vi, vj) /∈ PR(t+1)). Then a dataset exhibits homophily if the
following hold:
t+1|(X i
t+1|¬(X i

t = x)) > p(Lij
t = x)) > p(U ij

t+1|¬(X i
t+1|(X i

t = x))
t = x))

t = X j
t = X j

p(Lij
p(U ij

t = X j

t = X j

In other words, the probability of link formation over time
(from t to t + 1) is higher for pairs with matching attribute
values and the probability of link dissolution over time is
higher for non-matching pairs.

“Social inﬂuence” is typically used to refer to the general
case of a person’s behavior being inﬂuenced by others (see
e.g., [14])—we operationalize this in the following way to in-
vestigate whether a person’s friends inﬂuence their intrinsic
attributes (i.e., are attribute values changed to match one’s
friends).

Deﬁnition 3. Social Inﬂuence

Let Xt and Xt+1 be the attribute values at time t and t + 1
respectively. Let PR(t) and PR(t+1) be the related pairs at
time t and t + 1 respectively. Let Aij
t+1 refer to the case
when pair (vi, vj) change their attribute values to agree at
time t + 1 (i.e., ¬(X i
t+1 = x)).
Let Dij
t+1 refer to the case when pair (vi, vj) change their
attribute values to diverge at time t + 1 (i.e., (X i
t = x)

t = x) and (X i

t+1 = X j

t = X j

t = X j

and ¬(X i
inﬂuence if the following hold:

t+1 = X j

t+1 = x)). Then a dataset exhibits social

p(Aij
p(Dij

t+1|(vi, vj) ∈ PR(t)) > p(Aij
t+1|(vi, vj) /∈ PR(t)) > p(Dij

t+1|(vi, vj) /∈ PR(t))
t+1|(vi, vj) ∈ PR(t))

In other words, the probability of agreement over time (from
t to t + 1) is higher for related pairs and the probability of
disagreement over time is higher for unrelated pairs.

Given these deﬁnitions we can show that homophily and

inﬂuence will result in a correlation gain over time.

Theorem 1. Inﬂuence Gain

Let Xt and Xt+1 be attribute values at time t and t + 1
respectively and let PR(t) be the related pairs at time t. Let
k = |Aij
t+1| be the number of agreements from t to t + 1. Let
m = |Dij
t+1| be the number of disagreements from t to t + 1
and let k = m. Then if an inﬂuence eﬀect is present in the
data, the autocorrelation will increase when we consider the
attribute changes from time t to time t + 1:

C(Xt+1, Gt) > C(Xt, Gt)

The proof of this theorem is included in Appendix A.

Theorem 2. Homophily Gain

Let PR(t) and PR(t+1) be the set of related nodes at time t
and t + 1 respectively and let Xt be the attributes at time t.
Let k = |Lij
t+1| be the number of link additions from t to t+1.
Let m = |U ij
t+1| be the number of link dissolutions from t to
t + 1 and let k = m. Then if a homophily eﬀect is present in
the data, the autocorrelation will increase when we consider
the link changes from time t to time t + 1:

C(Xt, Gt+1) > C(Xt, Gt)

The proof of this theorem follows the same form and argu-
ment as for Theorem 1.

Now that we have illustrated the connection between gains
in autocorrelation and inﬂuence/homophily, we can deﬁne
the correlation decomposition problem as follows. Given
an observed network change over two time steps, Gt, Xt,
Gt+1, Xt+1, determine whether (1) the attribute changes
from t to t + 1 exhibit a signiﬁcant amount of inﬂuence,
and (2) the link changes from t to t + 1 exhibit a signiﬁcant
amount of homophily. In section 4, we will outline a novel
randomization test to separate these eﬀects and assess their
signiﬁcance.

3. RELATED WORK

Current approaches relevant to this work fall into three
categories: empirical investigation and modeling of social
inﬂuence and homophily eﬀects, signiﬁcance tests for rela-
tional and social network data, and modeling techniques for
distinguishing homophily and inﬂuence eﬀects.

Researchers in social psychology and sociology have stud-
ied social inﬂuence and homophily for much of the past forty
years (see [14] for an extensive review). This work has fo-
cused primarily on developing theory about underlying psy-
chological processes such as persuasion, conformity, assimi-
lation, and selection. Experimental investigation is typically
performed in smaller-scale laboratory environments, with in-
dividual or dyad-level analysis. Consequently, the modeling
techniques do not need to model the interdependence among

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA603individuals, nor do they need to be applicable for large-scale
networks of thousands of nodes.

Recently, with the surge of interest in online social net-
works and relational data, there has been a growing body
of research in the data mining community that has focused
on modeling network and behavior change over time. For
example, Backstrom et al. [4] investigated the evolution of
network structure and group membership in MySpace and
LiveJournal and showed that homophily can be used to im-
prove predictive models of group membership. Singla and
Richardson [22] investigate the correlation between individ-
ual search topics among people that interact using instant
messaging, and show that not only does a correlation exist
but that it increases with the amount of time the users com-
municate. Crandell et al. [6] study the temporal evolution of
link structure and attribute similarity in Wikipedia and pro-
pose a mathematical model that includes both inﬂuence and
homophily eﬀects to predict future behavior in the network.
The majority of this recent work is empirically-based—

focused primarily on demonstrating the presence of homophily
and inﬂuence in real-world data. The proposed methods and
analysis techniques do not provide the means to estimate ef-
fects sizes from data or determine whether the eﬀects are
statistically signiﬁcant.

There has been some work on developing signiﬁcance tests
for social network and relational domains, but this work
has focused primarily on static networks, so the null mod-
els clearly limit the types of conclusions that can be drawn
from the analysis. For example, Milo et al. [16] generate
randomized network structures while holding node degree
constant to assess whether subgraph motifs are observed a
signiﬁcantly higher frequency than would be expected due
to random chance. Karrer et al. [12] consider the signiﬁ-
cance of community structure in the network, by using net-
work perturbations to assess the variance of community pat-
terns. Jensen et al. [11] propose attribute-based random-
ization tests to accurately assess the signiﬁcance of feature
association in the presence of relational autocorrelation. El-
dardiry and Neville [8] develop resampling procedures for
attributed networks that can also be used to assess variance
of feature scores in static networks. In addition, work in so-
ciology on exponential random graph models (see e.g., [20])
includes methods for determining the signiﬁcance of param-
eter estimates learned from data (again on static networks).
The work most relevant to our proposed method is that
of Snijders et al. [23], Anagnostopoulos et al. [1], and Aral
et al. [3]. Snijders et al. [23] extend the exponential ran-
dom graph models to incorporate time evolution (in both
attributes and links) with a Markov model assumption (i.e.,
attribute/links at one time step depend only the previous
time step). The method facilitates the inclusion of social in-
ﬂuence and homophily dependencies in the model and gen-
eralized Neyman-Rao score tests, based on methods of mo-
ments estimators, are used to test hypotheses of the form:
H0 : θi = 0, H1 : θi "= 0. The main limitation of this ap-
proach is that it is model-based so the accuracy of hypoth-
esis tests will be impacted by the suitability of the model
form (e.g., random graph model, Markov assumption). In
contrast to the work of Snijders et al. [23], our method is
a data-driven, model-free approach based on randomization
tests.

The recent work of Anagnostopoulos et al. [1] also out-
lines a randomization procedure for assessing whether an

observational datasets exhibits a signiﬁcant inﬂuence eﬀect.
However, their framework assumes that the network struc-
ture (i.e., links) does not change over time, thus they do
not present a method for assessing whether a signiﬁcant ho-
mophily eﬀect is present as well. In particular, their times-
tamp shuﬄing test requires a longitudinal view of the evolu-
tion of the data. To estimate the eﬀects of social inﬂuence,
they compare the number of people the adopt a trait, given
they have a neighbors with that trait already, to the num-
ber of people that do not adopt, given the same a neighbors
with the trait. This calculation requires future knowledge
about who will not adopt a trait. Otherwise, if the com-
parison is made using a single time step, the vast majority
of users will not have adopted and the eﬀect will lost in the
noise. Furthermore, their method only considers data where
attributes are added over time.

Concurrent work by Aral et al. [3] has corrected the main
limitation of [1] in their development of a matched sample
estimation framework, which accounts for homophily eﬀects
as well as inﬂuence. However, their method uses additional
node behaviors and characteristics in the matching process,
so it will have limited applicability in data with few observed
attributes and/or time steps. In this work, we outline a gen-
eral randomization framework where both attribute values
and links change over time, changes can consist of additions
or deletions, and focus on assessing both inﬂuence and ho-
mophily eﬀects in data with few available time slices.

4. METHOD

Randomization tests are a model-free, computationally-
intensive statistical technique for hypothesis testing [19].
The tests generate many replicates of an actual data set—
typically called pseudosamples—and uses the pseudosamples
to estimate a score distribution. Pseudosamples are gener-
ated by randomly reordering (or permuting) the values of
one or more variables in an actual data set. A score is then
calculated for each pseudosample, and the distribution of
these randomized scores is used to estimate a sampling dis-
tribution for the score statistic under the null hypothesis.
The value of the observed score on the original data is then
compared to the distribution of scores on the randomized
pseudosamples, and if it is signiﬁcantly higher (or lower)
than this distribution, the observed score will be deemed
signiﬁcant.

In contrast to conventional hypothesis tests, randomiza-
tion tests make a relatively small number of assumptions
about the data. For example, randomization tests make no
assumptions about the form of the distributions from which
variable values are drawn.
In addition, they can be used
to form sampling distributions for estimators whose precise
statistical properties are not known. The key issue in devel-
oping a randomization test is to formulate an appropriate
null hypothesis and permute the data in a way that accu-
rately reﬂects the null hypothesis.

Tables 1-2 outline the speciﬁc signiﬁcance tests that we
use throughout this work. The signiﬁcance tests determine
whether an observed gain in autocorrelation is signiﬁcant by
using a randomization test to estimate an empirical sampling
distribution of gains that would be expected if change in
links (attributes) is random and thus not due to homophily
(inﬂuence).

The empirical sampling distribution is estimated from the
gains observed in pseudosamples generated by the random-

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA604HomophilySigT est(Gt, Gt+1, Xt, Xt+1, numIters,α )
gainsR = ∅
// compute original gain
gainO = C(Xt, Gt+1) − C(Xt, Gt)
// randomize
For iter in 1.. numIters

G!t+1 = Randomize(Gt, Gt+1)
Compute gainr = C(Xt, G!t+1) − C(Xt, Gt)
gainsR = gainsR ∪{ gainr}

// test signiﬁcance of gain
If gainO > 1 − α
Else if gainO < α

Return signiﬁcant/positive

Return signiﬁcant/negative

2 critical value of gainsR

2 critical value of gainsR

Else

Return not signiﬁcant

Table 1: Homophily signiﬁcance test method

Inf luenceSigT est(Gt, Gt+1, Xt, Xt+1, numIters,α )
gainsR = ∅
// compute original gain
gainO = C(Xt+1, Gt) − C(Xt, Gt)
// randomize
For iter in 1.. numIters

X!t+1 = Randomize(Xt, Xt+1)
Compute gainr = C(X!t+1, Gt) − C(Xt, Gt)
gainsR = gainsR ∪{ gainr}

// test signiﬁcance of gain
If gainO > 1 − α
Else if gainO < α

Return signiﬁcant/positive

Return signiﬁcant/negative

2 critical value of gainsR

2 critical value of gainsR

Else

Return not signiﬁcant

Table 2: Inﬂuence signiﬁcance test method

ization procedure. The method compares the observed gain
value to the empirical sampling distribution, if the value is
higher than (1 − α
2 %) of the scores ob-
served in the randomized data, the gain is deemed to be
signiﬁcant and the null is rejected.

2 )% (or lower than α

The gain in autocorrelation from one time step to the next
can be due to: (1) homophily gains due to friend changes
in t + 1, or (2) inﬂuence gains due to changes in attributes
in t + 1. To separate the eﬀects of inﬂuence and homophily,
we deﬁne two diﬀerent randomization tests to use as the
Randomize( ) method inside the signiﬁcance test.

The key issue in developing a randomization test is to for-
mulate an appropriate null hypothesis and permute the data
in a way that accurately reﬂects the null hypothesis. We for-
mulate three null hypotheses with respect to homophily and
inﬂuence:
• H H

0 : link changes are random and are not due to at-

tribute values in t (i.e., no homophily eﬀect)

• H I

• H F

0 : attribute changes are random and are not due to

friends in t (i.e., no social inﬂuence eﬀect)

0 : both attribute and link changes are random (i.e.,

no homophily nor inﬂuence eﬀect)

To identify possible permutations for these null hypotheses,
we consider four types of data changes that can occur in the
data from time t to time t + 1:

Edge additions:∆ +
E = {eij ∈ Et+1 ∧ eij "∈ Et}
Edge deletions:∆ −E = {eij ∈ Et ∧ eij "∈ Et+1}
Attribute additions:∆ +
X = {xv ∈ Xt+1 ∧ xv "∈ Xt}
Attribute deletions:∆ −X = {xv ∈ Xt ∧ xv "∈ Xt+1}
Note that attribute value changes can be easily modeled as
an addition/deletion pair. Clearly, homophily will impact
edge changes and inﬂuence will aﬀect attribute changes.

For the null hypothesis concerning homophily (H H

0 ), we
want to randomize the edge changes to remove any associa-
tion with attribute values in t. To do this, we can randomize
the choice of edge target so that it does not depend on the
attributes of the source node. For example, if node i adds
a link to node j at time t + 1, then we can maintain the
edge addition in t + 1 but randomize the choice of target
node j to replace eij with eij! so that any association of
attribute similarity between i and j is destroyed. However,
to ensure that the degree of j! remains the same after ran-
domization, j! must have been part of an edge addition ekj!
in the original set. The randomization procedure for edges
can be thought of as swapping the endpoints of edge ad-
ditions/deletions such that each node will have the same
number of additions and deletions in the randomized set,
but the partner of those links will have changed.

Randomization for the null hypothesis concerning inﬂu-
ence (H I
0 ) will follow a similar procedure by swapping at-
tribute adoptions and abandonments between nodes, remov-
ing any inﬂuence of edges in t. If node i adds a attribute
value x at time t + 1, then we can maintain the attribute
addition in t+1 but randomize the choice of value to replace
x with x! so that any similarity of the attribute value x with
the attribute values of i’s linked friends in t is destroyed.

We call the procedures based on this form of randomiza-
tion choice-based methods, since they randomize the results
of choices (attribute/link changes). Tables 3-4 outline the
speciﬁcs of the choice-based method for H H
(homophily)
0
and H I
0 (inﬂuence) respectively. We can combine the two
methods, randomizing both the attribute and link changes
to estimate a distribution for H F
0 .

However, calculating choice-based randomizations are non-
trivial. A particular target edge or attribute can be selected
for swapping only if it has not been selected before, and
nodes cannot add edges or attributes if they had them in
time step t, nor can they drop edges or attributes if they
lack them in t. Given these sets of constraints, it may be
diﬃcult to ﬁnd a valid random assignments (apart from the
original), which is problematic for a test that depends on
generating a distribution of random pseudosamples.

We address this issue by taking a greedy assignment ap-
proach. First, we collate the edge and attribute changes
such that all additions and deletions for a node or attribute
can be decided at once. Then, we sort the nodes and at-
tributes from those with the least number of random op-
tions to those with the largest number of random options.
Random options here refers to the amount of freedom the
node has when selecting additions or deletions and is given
by the number of available selections minus the number of
assignments needed. This value can be calculated for edge

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA605choice(Gt, Gt+1)

Randomizehom
∆+
E = {eij ∈ Et+1 ∧ eij "∈ Et} (added links in t + 1)
∆−E = {eij ∈ Et ∧ eij "∈ Et+1} (dropped links in t + 1)
// targets for random selections
T + =∆ +
E
T − =∆ −E
// randomize
For eij ∈ ∆+

E

For eij ∈ ∆−E

t

Randomly select ekj! ∈ T +, where j! "∈ Ei
Replace eij in G!t+1 with eij!
Remove ekj! from T +
Randomly select ekj! ∈ T −, where j! ∈ Ei
Add eij to G!t+1
Remove eij! from G!t+1
Remove ekj! from T −

t

Return (G!t+1)

Table 3: Choice-based randomization method for as-
sessing homophily

choice(Xt, Xt+1)

Randomizeinf
∆+
X = {xv ∈ Xt+1 ∧ xv "∈ Xt} (added attributes in t + 1)
∆−X = {xv ∈ Xt ∧ xv "∈ Xt+1} (dropped attributes in t + 1)
// targets for random selections
T + =∆ +
X
T − =∆ −X
// randomize
For xv ∈ ∆+

X

Randomly select x!u ∈ T +, where xu "∈ X u
Replace xv in X!t+1 with x!v
Remove x!u from T +

t

For xv ∈ ∆−X

Randomly select x!u ∈ T −, where xu ∈ X u
Add xv to X!t+1
Remove xu from X!t+1
Remove x!u from T −

t

Return (X!t+1)

Table 4: Choice-based randomization method for as-
sessing inﬂuence

"∈ Ei

additions by |ekj! ∈ T : j!
t|−| eij|, and similar val-
ues can be calculated for the deletions, as well as attribute
cases. The assumption in the greedy approach is that nodes
and attributes with many random options, at the start, are
unlikely to run out of available options even if their assign-
ments are decided later in the algorithm.

However, the greedy approach cannot guarantee that a
node or attribute will have a valid random option at the
point in the algorithm in which it is assigned.
If this is
the case, the particular node or attribute will retain its
original assignment. This will not preserve the degree of
nodes and attributes in the original data (since those orig-
inal assignments may already have been given to others
in the randomization). However, since the assignment for
that node/attribute is identical to the original, it will pre-
vent Type I errors from occurring.
Ideally, after assign-
ing additions and deletions to a node or attribute we could
recompute the random options available to the remaining

nodes/attributes and resort the list of edges/deletions. How-
ever, recomputing in this manner during the algorithm is
computationally very expensive, and did not provide an in-
crease in performance in practice, so we do not consider it
further.

Finally, in addition to determining the signiﬁcance of each
eﬀect, the sampling distributions for the randomization tests
may also provide an estimate of the expected gain for each
eﬀect independently (where the full randomization is used
to remove any joint eﬀects from the estimation of gains due
to homophily and inﬂuence):

E[gainhom] = µgainsI
E[gaininf ] = µgainsH
E[gainoth] = µgainsF

R

R − µgainsF
R − µgainsF

R

R

We can deﬁne the overall expected gain as a function of
these independent components to compare the proportion of
gain due to each eﬀect:

E[gainobs] = E[gainhom] + E[gaininf ] + E[gainoth]

] +

= [µgainsI
[µgainsH
= µgainsI

R − µgainsF
R − µgainsF
+ µgainsH

R

R

R

] + µgainsF
R − µgainsF

R

R

5. SYNTHETIC DATA EXPERIMENTS

This section describes our investigation of the character-
istics of the proposed randomization tests on semi-synthetic
data. We are interested in two characteristics of statistical
tests. (1) Type I error: the probability of rejecting a true
null hypothesis (i.e., incorrectly concluding that there is a
signiﬁcant eﬀect when there is not). (2) Power: the proba-
bility of rejecting a false null hypothesis (i.e., correctly con-
cluding that there is a signiﬁcant eﬀect when there is one).
If a statistical test has elevated levels of Type I error, that
implies that many of the conclusions we draw from the test
may be incorrect. In contrast, if a statistical test has low
statistical power, that implies that legitimate performance
diﬀerences may not be detected as signiﬁcant.

We start with a base of real-world social network data
and use the distributions of observed changes to generate
data with diﬀerent characteristics. On data with random
changes we evaluate the Type I error of the test; on data
with simulated homophily/inﬂuence eﬀects, we evaluate the
statistical power of the tests. The results show that our
proposed tests have low Type I error and power increases as
the number of data changes increase.
5.1 Data

Using a small subset of the real-world data gathered from
Facebook (see section 6) as base for time t, we generated
semi-synthetic data sets for time t + 1 designed to either
maximize or minimize the presence of homophily or inﬂu-
ence eﬀects. The synthetic data in time t + 1 uses the dis-
tribution of changes in the original Facebook sample (i.e.,
number of adds/drops per person), however our data gener-
ation procedure chooses a new set of changes to ensure the
data have certain characteristics (e.g., homophily).

More speciﬁcally, we hold Gt and Xt constant but gen-
erate new data for Gt+1 and Xt+1 to create three types of
datasets:

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA606Random: Changes are made randomly so there is no ho-

mophily or inﬂuence eﬀect.

Homophily-rich: Attribute changes are made randomly,

link changes are designed to maximize homophily.

Inﬂuence-rich: Link changes are made randomly, attribute

changes are designed to maximize inﬂuence.

To generate data with homophily, link additions are cho-
sen to maximize similarity among the incident nodes. When
selecting a new link, the following weights are assigned to
each possible link: 1+γ∗(#overlaps). Here #overlaps is the
number of attribute values that the nodes share. The link
weights are then normalized over all possible new links (pairs
of unlinked nodes) to produce a probability of selecting any
given link. The probabilities are used to randomly select the
appropriate number of link additions, while weighting the
likelihood heavily toward similar pairs of nodes. Dropping
links is done in a similar manner except that this probability
is calculated across current links in t and the inverse is used
to drop links among pairs of nodes that are most dissimilar.
To generate data with inﬂuence, we add attribute values
in a similar way. Here we again compute a weight for each
attribute value: 1 + γ ∗ (#overlaps), but #overlaps is de-
ﬁned to be the number of neighbors who have the attribute
value under consideration. Likewise the inverse is used to
determine which attribute values are dropped.
5.2 Methodology

Type I errors correspond to cases when the null hypothesis
is incorrectly rejected—in other words, false positive assess-
ments of signiﬁcance, when there is in fact no signiﬁcant
homophily/inﬂuence eﬀect. To estimate the Type I error
rate for each of the tests, we generated data with random
changes in time t+1. Thus any observed gain in C is entirely
random—so any assessment of signiﬁcance will correspond
to a Type I error. To evaluate the Type I error of the tests,
we used the procedure outlined in Table 5.

Type II errors correspond to cases when the null hypoth-
esis is incorrectly accepted—in other words, false negative
assessments of signiﬁcance, when there is in fact a signiﬁcant
homophily/inﬂuence eﬀect. Power is the complement of the
Type II error rate—the proportion of signiﬁcant eﬀects that
are correctly identiﬁed (1 − P (T ypeII)). To estimate Type
II error of the tests, we generated data for time t + 1 with ei-
ther homophily or inﬂuence eﬀects. Thus all observed gains
in C should be deemed signiﬁcant—any test that fails will
correspond to a Type II error. To evaluate the statistical
power of the tests, we used the procedure outlined in Ta-
ble 6.
5.3 Experimental Results

We evaluated the Type I error rates of each test using
semi-synthetic data, where the attribute and link changes
are made at random. The power of the homophily and in-
ﬂuence tests were evaluated using the Homophily-rich and
Inﬂuence-rich data, respectively. For these experiments, un-
less otherwise noted, we used N = 20,α = 0.05, γ = 100,
and report average rates over 50 attribute values (i.e., group
meberships).

The ﬁrst column of Table 7 reports the Type I rates of the
choice-based randomization test. Since we used α = 0.05, we
expect the error rates to be less than 0.05. This is indeed

T ypeIError(Gt, Xt, ∆G, ∆X , N,α )
For i in 1..N

t+1, X i

Generate Gi
numIncorrectSigT ests = 0
For j in 1..N

t+1 with random changes

Signif icanceT est(Gt, Xt, Gi
If signiﬁcant: numIncorrectSigTests++
N numIncorrectSigT ests

typeIError(i) = 1

t+1, X i

t+1, N,α )

avgT ypeIError = 1

NPi typeIError(i)

Table 5: Method to measure Type I error rate.

P ower(Gt, Xt, ∆G, ∆X , N,α )
For i in 1..N

t+1, X i

Generate Gi
numIncorrectSigT ests = 0
For j in 1..N

t+1 with homophily/inﬂuence

Signif icanceT est(Gt, Xt, Gi
t+1, N,α )
If not signiﬁcant: numIncorrectSigTests++

t+1, X i

avgP ower = 1

typeIIError(i) = 1

N numIncorrectSigT ests

NPi(1 − typeIIError(i))

Table 6: Method to measure statistical power.

the case for both the homophily and the inﬂuence tests,
indicating that the tests are likely to be accurate in practice.
Next we evaluated statistical power. In this case we cre-
ated data with only the eﬀect we were trying to identify:
(1) random attribute changes, homophily-based link changes
(2) random link changes, inﬂuence-based attribute changes.
These results are shown in columns 2 and 3 of Table 7.

The average power of the test for identifying homophily
was 0.57, meaning an eﬀect was correctly identiﬁed 57% of
the time on data generated to include homophily. The aver-
age power for detecting inﬂuence based on our initial semi-
synthetic datasets was signiﬁcantly lower at 0.20. We con-
jectured that this was due to the presence of fewer changes in
attribute values in the original data, compared to changes
in the link structure.
In particular, many fewer attribute
values were being added—in the Facebook sample, the aver-
age number of link adds per node was 4.08 while the average
number of attribute adds was 0.26 for the same set.

Figure 2(a) shows the interaction between the number of
attribute additions and statistical power. As we increase
the number of additions for each node in the graph, the
power increase, reaching a maximum of 0.65 given a γ of
50. This is partially due to an increase in eﬀect size (i.e.,
increase in overall level of inﬂuence) but the quantity of
attribute changes adds an additional eﬀect, over and above
any increase in correlation gain due to increased inﬂuence.
The synthetic data generates homophily and inﬂuence by
selecting link and attribute changes such that the correlation
between node neighbors is maximized. If there are no such
changes available, there will be less homophily and inﬂuence
present in the synthetic data which degrades the power of
the randomization tests.
In addition, the distribution af-
ter randomizing will be closer to the original data as fewer
changes can be randomized, which also reduces the power
of the tests. In future work, we will attempt to tease apart
these eﬀects.

Figure 2(b)-2(c) shows the increase in statistical power

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA607!

!

!

0
.
1

8
.
0

6
.
0

4
.
0

r
e
w
o
P

2
.
0

!

0
.
0

!

!

!

!

!

!

r
e
w
o
P

7
.
0

6
.
0

5
.
0

4
.
0

3
.
0

!

0

2

4

6

8

10

0

20

40

60

80

100 120

Boost to Attribute Additions (per!Node)

Chi Gain

r
e
w
o
P

5
.
0

4
.
0

3
.
0

2
.
0

1
.
0

!

0

!

!

!

20

40

60

80

100

Chi Gain

(a) Inﬂuence test power, as number of
group additions increases.

(b) Inﬂuence test power, as eﬀect size
increases.

(c) Homophily test power, as eﬀect size
increases.

Figure 2: Power analysis of inﬂuence and homophily randomization tests.

Power

P(TypeI)
Power
Rand.∆ X Rand.∆ X
Inﬂ.∆ X
Rand.∆ G Hom.∆ G Rand.∆ G

Homophily test
Inﬂuence test

0.035
0.04

0.57
na

na
0.76

Table 7: Type I error and power for the choice-based
randomization method.

as we systematically decrease the eﬀect size for either inﬂu-
ence or homophily. Speciﬁcally, we varied γ to change the
probability of selecting links and groups that produce auto-
correlation in the synthetic data. For the inﬂuence test we
used γ values of 1, 10, 20, 50 and for the homophily test val-
ues of 1, 10, 50, 100. We then plotted the expected power of
the tests against the median chi gain of the groups. Greater
chi gain places the group further from the null distribution,
increasing the eﬀect size. As expected, the power of each
test decreases as the eﬀect size decreases.

6. REAL DATA EXPERIMENTS
6.1 Data

We evaluated our approach on data from the public Pur-
due Facebook network. Facebook is a popular online so-
cial network site with over 250 million members worldwide.
Members create and maintain a personal proﬁle page, which
contains information about their views, interests, and friends,
and can be listed as private or public. Friendship links are
undirected and are formed through an invitation by one user
along with a conﬁrmation by the other. To be aﬃliated with
a University network, users must have a valid email account
within the appropriate domain (e.g., purdue.edu), thus the
members consist of students, faculty, staﬀ, and alumni. The
network we considered comprised more than 3 million pub-
lic friendship links among 56,000 members. Users had an
average and median degree of 46 and 81 respectively.

In addition to the friendship links, we considered a set of
attributes corresponding to public group membership. Group
membership information is posted in the users’ proﬁle pages.
Each “group” maintains a separate page reﬂecting some in-

Homophily

Signiﬁcant
¬Signiﬁcant

7
25

Inﬂuence

Signiﬁcant ¬Signiﬁcant

111
351

Table 8: Number of groups detected by randomiza-
tion tests

terest (e.g., friends of AAAI), and users who share that in-
terest can become members of the group.

For this work, we considered the set of 2648 (public) Face-
book users belonging to the class of 2011 student network.
For the ﬁrst time step, we used the friendship links and
group memberships from March 2008. For the second time
step we used friendship links and group memberships from
March 2009. The students in this sample belong to 494
groups, so we consider each group membership as a binary
attribute that can change from one time step to the next.
6.2 Experimental results

To investigate homophily and inﬂuence in Facebook, we
computed the observed correlation gain for each group mem-
bership attribute from t = 2008 to t + 1 = 2009. We then
applied the choice-based randomization procedure to deter-
mine if the gains exhibited signiﬁcant homophily and/or in-
ﬂuence eﬀects. Due to the low type I error of the choice-
based test, the discovered signiﬁcant patterns are likely to
be correct. However, the low power for inﬂuence identiﬁ-
cation (given the observed number of attribute changes in
the sample) means that the inﬂuence test may not be able
detect all eﬀects in the data.

Of the 494 groups, notably 143 (29%) exhibited a sig-
niﬁcant correlation gain of some type. The assessments of
signiﬁcance are summarized in Table 8. Note that there
are more groups that exhibit signiﬁcant homophily eﬀects
(118) compared to signiﬁcant inﬂuence eﬀects (32). This is
likely due the larger number of link changes, which results
in higher power for the homophily test.

To explore the types of groups exhibiting each type of
eﬀect, we examined a set of group names selected at random
from each cell in Table 8. Table 9 list some examples from
each category.

Groups with signiﬁcant homophily eﬀects seem to include

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA608Homophily and Inﬂuence (7 groups)
Purdue Habitat for Humanity
Tell 10 to Tell 10
Levee Tan
I started doing homework but I ended up on Facebook
Homophily Only (111 groups)
Purdue Capture the Flag
Honors Engineering Community 2007-2008
Boiler Gold Rush 2008
Purdue Opportunity Awards 2007-2008
Inﬂuence Only (25 groups)
NOBAMA IN 08
I bet I can still ﬁnd 1,000,000 people who dislike

George Bush

Hokay, so here’s the Earth
i need numberss asap
No Eﬀect (351 groups)
I support Welcome Home
We miss Cody Lehe
4-H alumni
Harrison Band

Table 9: Example groups with each possible combi-
nation of eﬀect.

opportunities for members to meet in person. For exam-
ple, Boiler Gold Rush is a freshman orientation program for
Purdue where members are likely to meet, members of the
Capture the Flag group presumably meet to play the game,
and Levee Tan is a local tanning salon.

Groups with signiﬁcant inﬂuence eﬀects seem to have a po-
litical or activist aspect to them. This includes anti-Obama
and anti-Bush groups as well groups like Habitat for Human-
ity and Tell 10 to Tell 10, which is a breast cancer awareness
group.

Another group of note is i need numberss [sic] asap. This
group was created by a user who had lost his phone and
wanted his friends to post their phone numbers to the group
wall. The members of this group already had friendship links
between them and were joining the group to share phone
numbers with other friends which naturally produces a de-
tectable inﬂuence eﬀect.

7. CONCLUSION AND FUTURE WORK

In this paper, we presented a novel randomization proce-
dure to investigate the causes of observed autocorrelation in
network data. The test focuses on distinguishing social inﬂu-
ence eﬀects from homophily eﬀects, and enables the accurate
assessment of whether the eﬀects are statistically signiﬁcant.
The advantage of the proposed choice-based method in-
cludes: (1) a model-free approach which makes a relatively
small number of assumptions about the data, (2) the ability
to assess both homophily and inﬂuence eﬀects, and (3) low
Type I error with reasonable levels of power that increase as
the number of changes in the data increase.

We evaluated our proposed methods on semi-synthetic so-
cial network data, showing eﬃcacy of the approach. We then
applied the choice-based method to a real-world dataset to
investigate the aspects of its observed autocorrelation. Our
analysis of a public university Facebook network shows that
autocorrelation in group memberships is due to signiﬁcant

inﬂuence and homophily eﬀects. However, diﬀerent groups
exhibit diﬀerent behavior, which indicates homophily and
inﬂuence vary with respect to group properties. In future
work, we plan to investigate this variability more deeply, us-
ing multiple time steps to control for the amount of change
expected in a single time step and investigating the asso-
ciation of eﬀects with other group properties (e.g., density,
popularity).

In addition, herein we have only considered randomiza-
tion procedure for ﬁrst-order eﬀects (i.e., dyad-level depen-
dencies). Considering second-order eﬀects such as structural
similarity and community level change may help to decom-
pose additional external eﬀects that are not explicitly en-
coded in the data, but are implicit in the temporal-relational
dynamics.

Although we have investigated the characteristics of our
modeling approach on social network data, the methods are
broadly applicable to relational and network domains that
are changing over time. Relational data often record infor-
mation about people (e.g., organizational structure, email
transactions) or about artifacts created by people (e.g., ci-
tation networks, World Wide Web) so it is likely that social
phenomena such as homophily and inﬂuence will contribute
to autocorrelated observations in a wide array of relational
domains.

Acknowledgments
This research is supported by DARPA and NSF under con-
tract numbers NBCH1080005 and SES-0823313. The U.S.
Government is authorized to reproduce and distribute reprints
for governmental purposes notwithstanding any copyright
notation hereon. The views and conclusions contained herein
are those of the authors and should not be interpreted as
necessarily representing the oﬃcial policies or endorsements
either expressed or implied, of DARPA, NSF, or the U.S.
Government.

8. REFERENCES
[1] A. Anagnostopoulos, R. Kumar, and M. Mahdian.

Inﬂuence and correlation in social networks. In KDD
’08: Proceeding of the 14th ACM SIGKDD
international conference on Knowledge discovery and
data mining, pages 7–15, 2008.

[2] L. Anselin. Spatial Econometrics: Methods and

Models. Kluwer Academic Publisher, The Netherlands,
1998.

[3] S. Aral, L. Muchnika, and A. Sundararajan.

Distinguishing inﬂuence-based contagion from
homophily-driven diﬀusion in dynamic networks.
Proceedings of the National Academy of Sciences,
106(51):21544–21549, 2009.

[4] L. Backstrom, D. Huttenlocher, J. Kleinberg, and
X. Lan. Group formation in large social networks:
membership, growth, and evolution. In KDD ’06:
Proceedings of the 12th ACM SIGKDD international
conference on Knowledge discovery and data mining,
pages 44–54, 2006.

[5] S. Chakrabarti, B. Dom, and P. Indyk. Enhanced

hypertext categorization using hyperlinks. In
Proceedings of the ACM SIGMOD International
Conference on Management of Data, pages 307–318,
1998.

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA609[6] D. Crandall, D. Cosley, D. Huttenlocher, J. Kleinberg,

[22] P. Singla and M. Richardson. Yes, there is a

and S. Suri. Feedback eﬀects between similarity and
social inﬂuence in online communities. In KDD ’08:
Proceeding of the 14th ACM SIGKDD international
conference on Knowledge discovery and data mining,
pages 160–168, 2008.

[7] P. Doreian. Network autocorrelation models:

Problems and prospects. In Spatial Statistics: Past,
Present, and Future, chapter Monograph 12, pages pp.
369–389. Ann Arbor Institute of Mathematical
Geography, 1990.

[8] H. Eldardiry and J. Neville. A resampling technique
for relational data graphs. In Proceedings of the 2nd
SNA Workshop, 14th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining, 2008.

[9] F. Guo, S. Hanneke, W. Fu, and E. Xing. Recovering

temporally rewiring networks: A model-based
approach. In Proceedings of the 24th International
Conference on Machine Learning (ICML), 2007.

[10] D. Jensen, J. Neville, and B. Gallagher. Why

collective inference improves relational classiﬁcation.
In Proceedings of the 10th ACM SIGKDD
International Conference on Knowledge Discovery and
Data Mining, pages 593–598, 2004.

[11] D. Jensen, J. Neville, and M. Rattigan.

Randomization tests for relational learning. Technical
Report 03-05, Dept of Computer Science, University
of Massachusetts Amherst, 2003.

[12] B. Karrer, E. Levina, and M. Newman. Robustness of
community structure in networks. Physical Review E,
77:046119, 2008.

[13] P. Marsden and N. Friedkin. Network studies of social

inﬂuence. Sociological Methods and Research,
22(1):127–151, 1993.

[14] W. Mason, F. Conrey, and E. Smith. Situating social

inﬂuence processes: Dynamic, multidirectional ﬂows of
inﬂuence within social networks. Personality and
Social Psychology Review, 11:3:279–300, 2007.

[15] M. McPherson, L. Smith-Lovin, and J. Cook. Birds of

a feather: Homophily in social networks. Annual
Review of Sociology, 27:415–445, 2001.

[16] R. Milo, S. Shen-Orr, S. Itzkovitz, N. Kashtan,

D. Chklovskii, and U. Alon. Network motifs: Simple
building blocks of complex networks. Science,
298:5594:824–827, 2002.

[17] T. Mirer. Economic Statistics and Econometrics.

Macmillan Publishing Co, New York, 1983.

[18] J. Neville and D. Jensen. Iterative classiﬁcation in
relational data. In Proceedings of the Workshop on
Statistical Relational Learning, 17th National
Conference on Artiﬁcial Intelligence, pages 42–49,
2000.

[19] E. Noreen. Computer Intensive Methods for Testing

Hypotheses. Wiley, 1989.

[20] G. Robins, T. Snijders, P. Wang, M. Handcock, and

P. Pattison. Recent developments in exponential
random graph (p*) models for social networks. Social
Networks, 29:192–215, 2007.

[21] U. Sharan and J. Neville. Temporal-relational

classiﬁers for prediction in evolving domains. In
Proceedings of the 8th IEEE International Conference
on Data Mining, 2008.

correlation: - from social networks to personal
behavior on the web. In WWW ’08: Proceeding of the
17th international conference on World Wide Web,
pages 655–664, 2008.

[23] T. Snijders, C. Steglich, and M. Schweinberger.

Modeling the co-evolution of networks and behavior.
In Longitudinal models in the behavioral and related
sciences, pages 41–71, 2007.

[24] B. Taskar, E. Segal, and D. Koller. Probabilistic
classiﬁcation and clustering in relational data. In
Proceedings of the 17th International Joint Conference
on Artiﬁcial Intelligence, pages 870–878, 2001.

APPENDIX
A. PROOF OF THEOREM 1

Proof. As deﬁned in Section 2:

C(Xt, Gt) = χ2

t =

(ad − cb)2 · N

(a + b)(c + d)(b + d)(a + c)

where a, b, c, d, N are deﬁned with respect to Xt and PR(t).
Let ˆkr and ˆku be the expected number of agreements among
related and unrelated people respectively in time t + 1. Sim-
ilarly, let ˆmr and ˆmu be the expected number of disagree-
ments among related and unrelated people respectively. The
changes to the contingency table will be as follows:

(vi, vj) ∈ PR(t)
(vi, vj) "∈ PR(t)

t = x ¬(X i

X i

t = X j
ˆkr − ˆmr
ˆku − ˆmu

t = x)

t = X j
−ˆkr + ˆmr
−ˆku + ˆmu

Since there is inﬂuence in the data, the probability of
agreement is higher for related pairs and the probability of
disagreement is higher for unrelated pairs. Thus ˆkr > ˆku
and ˆmr < ˆmu.

Subsequently, the change to the a, d diagonal is positive:

∆ad = (ˆkr − ˆmr) + (−ˆku + ˆmu)
= (ˆkr − ˆku) + ( ˆmu − ˆmr)
> 0

And the change to the b, c diagonal is negative:

∆bc = (ˆku − ˆmu) + (−ˆkr + ˆmr)
= (ˆku − ˆkr) + ( ˆmr − ˆmu)
< 0

However, the net change to N and each marginal is 0
(since k = m, ˆkr + ˆku = k, and ˆmr + ˆmu = m). Let
[ad]! = (a+ˆkr− ˆmr)(d+ ˆmu−ˆku). From above we know that
[ad]! > ad. Similarly let [cb]! = (c + ˆku − ˆmu)(b + ˆmr − ˆkr).
Again, from above we know that [cb]! < cb.
Thus, the autocorrelation will be higher due to inﬂuence:

C(Xt+1, Gt) =

([ad]! − [cb]!)2 · N

(a + b)(c + d)(b + d)(a + c)

> C(Xt, Gt)

WWW 2010 • Full PaperApril 26-30 • Raleigh • NC • USA610