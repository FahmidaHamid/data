Delay Tolerant Applications for Low Bandwidth and

Intermittently Connected Users: the aAQUA Experience

Indian Institute of Technology Bombay, India

Indian Institute of Technology Bombay, India

Krithi Ramamritham

krithi@cse.iitb.ac.in

Saurabh Sahni

saurabh@it.iitb.ac.in

ABSTRACT
With the explosive growth and spread of Internet, web ac-
cess from mobile and rural users has become signiﬁcant. But
these users face problems of low bandwidth and intermittent
Internet connectivity. To make the beneﬁts of the Internet
reach the common man in developing countries, accessibil-
ity and availability of the information has to be improved.
aAQUA is an online multilingual, multimedia agricultural
portal for disseminating information from and to rural com-
munities. Considering resource constrained rural environ-
ments, we have designed and implemented an oﬄine solu-
tion which provides an online experience to users in dis-
connected mode. Our solution is based on heterogeneous
database synchronization which involves only a small syn-
chronization payload ensuring an eﬃcient use of available
bandwidth. Oﬄine aAQUA has been deployed in the ﬁeld
and systematic studies of our solution show that user expe-
rience has improved tremendously not only in disconnected
mode but also in connected mode.
Categories and Subject Descriptors
H.3.5 [Online Information Services]: Web-based services
General Terms
Performance, Design, Human Factors
Keywords
Oﬄine Access, Caching, Low-bandwidth Application, Infor-
mation and Communication Technologies for Development,
Heterogeneous database synchronization, Resource constrai-
ned low end PCs

1.

INTRODUCTION

Information is key to development. Collecting and dis-
seminating information relevant to rural folk is a daunting
task for several reasons. Large sections of the society do
not have access to the huge knowledge base acquired by sci-
entiﬁc development over the centuries. Keeping the factors
and the needs of Indian rural users in mind, a database-
backended agri-portal has been developed as part of the re-
search activities at the Developmental Informatics Lab, IIT
Bombay. aAQUA [2], which stands for almost All QUestions
Answered, provides a unique solution to this problem by al-
lowing content to be built ground-up in a locally meaningful

Copyright is held by the author/owner(s).
WWW 2007, May 8–12, 2007, Banff, Alberta, Canada.
ACM 978-1-59593-654-7/07/0005.

and contextually rich manner. Along with content, another
challenge faced in disseminating information to rural pop-
ulation is connectivity - it is intermittent, and even when
available, the eﬀective bandwidth is unpredictable.

Thus, when a farmer comes to a kiosk either he has to
be told to come back later since Internet connectivity is not
available or he gets connected to aAQUA but faces inordi-
nate delays while interacting with the aAQUA server. What
will be ideal is if the farmer is able to interact with aAQUA
as though he is connected via a high speed link. This is pre-
cisely what oﬄine aAQUA is designed for. aAQUA portal
(www.aaqua.org) includes a web-based forum which is asyn-
chronous and delay tolerant. The users do not expect an
immediate response to their queries but response must be
received within a reasonable delay, currently 24 hours. Ex-
ploiting this fact, we design oﬄine aAQUA to provide better
responsiveness to users.
2. OFFLINE BROWSING ALTERNATIVES
Most of the proposed and implemented techniques for of-
ﬂine browsing are based on caching pages by ﬁsh search
[1]. For caching a website, starting page is downloaded ﬁrst
and then links from the downloaded page are recursively re-
trieved. The key drawback of this approach is the repetitive
download of common fragments of diﬀerent pages that leads
to wastage of network resources and disk space. Further, a
single thread addition updates several pages in aAQUA [4],
making ﬁsh search based caching unsuitable.

Homogeneous database replication [4] is another model for
oﬄine access where a mirror of the website and the database
is ported on a machine nearer to end users which are syn-
chronized whenever connectivity is available.
It improves
the response time but deployment of such a system will re-
quire dedicated high performance systems.

Rhea et.

al. proposed a technique called value-based
caching [3] that eliminates redundant data transfer by break-
ing contents of a page into blocks and repetitive requests for
the same blocks are served by sending the hash of those
blocks. This technique improves response time but requires
a proxy to store soft state for each client.

A forum can be made oﬄine by using a RSS or a news
reader. RSS will require all common fragments to be sent
with every feed, while a news reader will be able to receive
only new forum posts. However, we require a solution which
allows all pages at aAQUA portal including polls, aAQUA
keyword browser, etc. to be available oﬄine eﬃciently.

Key approaches listed above are compared in Table 1 and
properties which make a given approach unsuitable for of-
ﬂine aAQUA are italicized.

WWW 2007 / Poster PaperTopic: Developing Regions1117Requirement DB

Repli-
cation

High

Value
based
caching

Fish
search
based
caching
Medium Low

RSS/
news-
group

Low

Hetero-
geneous
db
sync
Low

site

Oﬄine client
system
re-
sources
Security
Source
modiﬁcation
Size of oﬄine
repository
Synchronizati-
on payload
Stateless

Low
Medium Nil

High

High
Nil

High
Low

High
Low

Small

Huge

Medium Medium Medium

V.Low High

Medium Medium Low

Yes

Yes

No

Yes

Yes

Table 1: Comparing caching approaches

3. OFFLINE AAQUA’S ARCHITECTURE

AND PERFORMANCE

Oﬄine aAQUA allows users to navigate and search through
all aAQUA threads, forums and other pages without any
connectivity. The searching and browsing experience is very
fast as the content is stored on user’s computer itself, thereby
suﬀering no network delays. The local cache or repository
of oﬄine aAQUA can be updated whenever Internet con-
nectivity is present. The updates sent to the users are in-
cremental, only “deltas” are transferred between the clients
and the server. Users can also post an update in aAQUA
forum in oﬄine mode. The update is saved on the user’s ma-
chine and sent to aAQUA server whenever the client node
connects to it.

The oﬄine aAQUA architecture (Figure 1) is based on
what could be termed as heterogeneous database syn-
chronization. A subset of server’s database is stored on the
oﬄine client. On the server, the database stores complete
post, metadata and all other required information for ev-
ery thread. On the other hand, client stores only metadata
of the thread in a light weight database where metadata
includes attributes like thread id, thread subject, author
name, etc. Storing only metadata allows use of a small size
database which can be operated eﬃciently on a low end ma-
chine. Complete post is stored separately in a repository
(local cache), thus reducing the load on the database.

Figure 1: aAQUA oﬄine architecture

To minimize the data transfer overhead, oﬄine aAQUA
installation software is shipped with data which will not
change with further additions of threads including common
fragments, static pages and ﬁles, php source code for of-
ﬂine web-interface, etc. These php pages fetch data from
the local database which is updated during synchroniza-
tion and produce required dynamic content when requested.
So the “delta” referred to earlier only consists of metadata
about the thread and content of posts excluding common

fragments and ﬁles. During synchronization, the server eﬃ-
ciently resolves update and delete conﬂicts. Using a database
in oﬄine aAQUA at the client side avoids the need to send
common fragments of the dynamic pages more than once,
thereby ensuring that the payload of an update is small.
We found the heterogeneous database synchronization ap-
proach to be the best for an oﬄine browsing solution for
aAQUA (see Table 1), thus chose it for detailed design and
implementation.

We analysed 594 visits to www.aaqua.org over a period of
5 days using logs at server’s and client’s end to obtain the
following results. Table 2 shows the comparison of online
and oﬄine aAQUA data transfer and required connectivity
duration (assuming data transfer speed of 2.89 KBps) for
diﬀerent tasks. Apart from time spent in data transfer, sig-
niﬁcant amount of time is spent by end users in viewing the
page or typing a post [4] which is included in required net-
work connectivity duration. Other studies [4] indicate that
oﬄine aAQUA clearly outperforms all other approaches in-
cluding value based caching, RSS and newsgroup. After
deployment of oﬄine aAQUA at kiosks, Internet connectiv-
ity duration required has reduced drastically from about 1-2
hours to just 2-3 minutes per day.

Task

Total bytes
transferred

Estimated data
transfer dura-
tion (secs)

Online Oﬄine Online Oﬄine
359855 0
512255 12938

121.6
173.1

0
4.37

Network con-
nectivity du-
ration (secs)
Online Oﬄine
335.63 0
555

4.37

a

Browsing *
Creating
new post
Downloading
a thread

136841 14618

46.24

4.94

106

4.94

* In an average aAQUA session

Table 2: Comparing online and oﬄine aAQUA

4. CONCLUSION

In this paper, we have compared diﬀerent approaches for
users to access the websites in disconnected mode. Oﬄine
aAQUA gives them access to aAQUA’s website independent
of connectivity and lets them synchronize whenever connec-
tivity is present. It has not only increased the availability
and reduced the Internet costs but also has improved the
browsing experience tremendously.

5. ACKNOWLEDGMENTS

Authors would like to thank Anil, Subhasri, Chaitra, Mansi,

Sujith and other DIL members for their support in oﬄine
aAQUA development.

6. REFERENCES

[1] R. Post P. De Bra. Searching for arbitrary information in the

WWW: the ﬁsh-search for Mosaic. In Proceedings of the
WWW conference, 1994.

[2] K. Ramamritham, A. Bahuman, and S. Duttagupta. aAQUA:

A database-backended multilingual, multimedia community
forum. In ACM SIGMOD International Conference on
Management of Data, 2006.

[3] S. C. Rhea, K. Liang, and E. Brewer. Value-based web caching.

In WWW ’03: Proceedings of the 12th international
conference on World Wide Web, pages 619–628, New York,
NY, USA, 2003. ACM Press.

[4] S. Sahni and K. Ramamritham. Designing delay tolerant

applications for low bandwidth and intermittently connected
users: the aAQUA experience. Technical report, IIT Bombay,
2007.
http://www.it.iitb.ac.in/research/techreport/reports/43.pdf.

WWW 2007 / Poster PaperTopic: Developing Regions1118