Optimal Marketing Strategies over Social Networks

Jason Hartline∗

Electrical Engineering and

Computer Science

Northwestern University

Evanston, IL 60208
hartline@eecs.
northwestern.edu

Vahab S. Mirrokni
Microsoft Research
One Microsoft Way
Redmond, WA 98052
mirrokni@theory.

csail.mit.edu

Mukund Sundararajan†

Stanford University

mukunds@cs.stanford.edu

ABSTRACT
We discuss the use of social networks in implementing vi-
ral marketing strategies. While inﬂuence maximization has
been studied in this context (see Chapter 24 of [10]), we
study revenue maximization, arguably, a more natural ob-
jective. In our model, a buyer’s decision to buy an item is
inﬂuenced by the set of other buyers that own the item and
the price at which the item is oﬀered.

We focus on algorithmic question of ﬁnding revenue max-
imizing marketing strategies. When the buyers are com-
pletely symmetric, we can ﬁnd the optimal marketing strat-
egy in polynomial time. In the general case, motivated by
hardness results, we investigate approximation algorithms
for this problem. We identify a family of strategies called
inﬂuence-and-exploit strategies that are based on the fol-
lowing idea: Initially inﬂuence the population by giving the
item for free to carefully a chosen set of buyers. Then extract
revenue from the remaining buyers using a ‘greedy’ pricing
strategy. We ﬁrst argue why such strategies are reasonable
and then show how to use recently developed set-function
maximization techniques to ﬁnd the right set of buyers to
inﬂuence.

Categories and Subject Descriptors
F.2 [Theory of Computation]: Analysis of Algorithms
and Problem Complexity; J.4 [Computer Applications]:
Social and Behavioral Sciences—Economics

General Terms
Algorithm, Theory, and Economics.

Keywords
Pricing, Monetizing Social Networks, Marketing, and Sub-
modular Maximization.
∗

Work done while author was at Microsoft Research, Silicon

Work done while author was an intern at Microsoft Re-

Valley.
†

search.

Copyright is held by the International World Wide Web Conference Com-
mittee (IW3C2). Distribution of these papers is limited to classroom use,
and personal use by others.
WWW 2008, April 21–25, 2008, Beijing, China.
ACM 978-1-60558-085-2/08/04.

1.

INTRODUCTION

The proliferation of social-networks on the Internet, has

allowed companies to collect information about social-network
users and their social relationships. Social networks like
MySpace, Facebook, and Orkut allow us to determine who is
acquainted with whom, how frequently they interact online,
what interests they have in common, etc. Users are spend-
ing increasing amounts of time on social network websites.
For instance, a recent survey [11] that ranks websites based
on ‘average time spent by a user’, identiﬁes MySpace and
Facebook among the top 10 websites.

There have been several eﬀorts to monetize social net-
works [15, 18]. While most proposals are based on advertis-
ing [20], the focus of this paper is to monetize social networks
via the implementation of intelligent selling strategies. Con-
sider a seller interested in selling a speciﬁc good or service.
A sale to one buyer often has an impact on other poten-
tial buyers. Such an eﬀect is called the externality of the
transaction. Externalities that induce further sales and rev-
enue for the seller are called positive externalities. Here are
examples of how such positive externalities arise:

• Information about goods often propagates by word of
mouth. For instance, we may become aware of, and
even be inﬂuenced to buy, a speciﬁc good or service
because our friends own them. When our friends own
a copy of a good, we can assess its quality before we
make a decision to buy. With high quality goods, this
inﬂuences us to buy the good and even increases how
much we are willing to pay for it.

• Sometimes goods have features that explicitly aid social-
networking. For instance, Microsoft music player, the
Zune, has a music sharing feature that allows it to
wirelessly exchange music with other Zunes. Clearly,
the value of such a feature is a function of the number
of acquaintances who also own the good.

A far sighted seller can take advantage of the existence of
positive externalities to increase its revenue. For instance,
in order to inﬂuence many buyers to buy the good, the seller
could initially oﬀer some popular buyers the good for free.
Indeed such selling techniques are already employed in prac-
tice. TiVo, a company which makes digital video recorders,
initially gave away its digital video recorder for free to a se-
lect few video enthusiasts [19]. Such promotions may be an
eﬀective way to create a buzz about the product.

189WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, ChinaThe basic idea of giving away the item for free can be
generalized in a couple of ways: First, rather than oﬀering
the item for free, sellers could oﬀer discounts. There is a
trade-oﬀ: larger discounts decrease the revenue earned from
the transaction while increasing the likelihood of a sale and
the inﬂuence on future buyers. How large should the dis-
counts be? Second, the sequence in which sales happen has
an impact on the eﬀect of externalities.
Inﬂuence is gen-
erally not symmetric. Often popular, well-connected users
wield more inﬂuence. Clearly, we would like sales that have
the potential to cause further sales to occur earlier. In what
sequence should the selling happen? The goal of this paper
is to explore marketing strategies that optimize a seller’s
revenue.

Though the model and the algorithms that we propose are
not speciﬁc to online social networks, the algorithms may
be convenient to implement in such settings. First, in such
settings, it is easy to collect information about the inﬂuence
of buyers on each other;
links between user proﬁles may
be reasonable (though they are not likely to be completely
accurate) indicators of the inﬂuence that the owners of user
proﬁles have on each other. Second, sellers can easily target
social network users with speciﬁc oﬀers.

1.1 Our Contributions

We investigate marketing strategies that maximize rev-
enue from the sale of digital goods, goods where the cost
of producing a copy the good is zero. There is a seller and
set V of potential buyers. We assume that a buyer’s deci-
sion to buy an item is dependent on other buyers owning
the item and the price oﬀered to the buyer; for buyer i, the
value of the buyer for the good is deﬁned by a set function
vi : 2V → R+. These functions model the inﬂuence that
buyers have on other buyers. We assume that though the
seller does not know the value functions, but instead has
distributional information about them. In general, smaller
prices increase the probability of sale.
(See Section 2 for
details.)

We consider marketing strategies, where the seller consid-
ers buyers in some sequence and oﬀers each buyer a price.
When the buyer accepts the oﬀer, the seller earns the price
of the item as the revenue. As a result, a marketing strategy
has two elements: the sequence in which we oﬀer the item to
buyers, and the prices that we oﬀer. In general it is advan-
tageous to get inﬂuential buyers to buy the item early in the
sequence; it even makes sense to oﬀer such buyers smaller
prices to get them to buy the item. We now describe our
results:

Symmetric Settings. We start by studying a symmetric
setting where all the buyers appear (ex-ante) identical to
the seller, both in terms of the inﬂuence they exert and their
response to oﬀers.

In such a settings, the sequence in which to oﬀer prices is
immaterial and we can derive the optimal pricing policy us-
ing a dynamic programming (See Section 3.1). The optimal
marketing strategy demonstrates the following behavior: the
probability of buyers accepting their oﬀer decreases as the
marketing strategy progresses.
Initially, the optimal mar-
keting strategy oﬀers discounts in an attempt to get buyers

to buy the item. This increases the value that buyers later
in the sequence have for the item. This allows the optimal
strategy to extract more revenue from subsequent buyers. In
fact, early in the sequence the optimal strategy even gives
away the item for free.

General Settings. Next, we consider algorithms to ﬁnd the
optimal marketing strategy in general settings. We ﬁrst
show that ﬁnding the optimal marketing strategy is NP-
Hard by reduction from the maximum feedback arc set prob-
lem (See Section 3.2). This motivates us to consider approx-
imation algorithms.1

We identify a simple marketing strategy, called the inﬂuence-

and-exploit strategy. Recall that any marketing strategy has
two aspects: pricing and ﬁnding the right sequence of oﬀers.
In the initial inﬂuence step, motivated by the the form of
the optimal strategy in the symmetric case, the seller starts
by giving the item away for free to a speciﬁcally chosen set
of players A ⊆ V . In the exploit step, the seller visits the re-
maining buyers (V \ A) in a random sequence and attempts
to maximize the revenue that can be extracted from each
buyer by oﬀering it the (myopic) optimal price; note that
this eﬀectively ignores the inﬂuence that buyers in the set
V \ A exert on each other. (Note that the buyers in the set
A, that we give the item away free to, are similar to opinion
leaders [16] from the social contagion literature.)

We ﬁrst show (See Section 4.1) that such strategies are
a reasonable approximation of the optimal marketing strat-
egy, which, by a hardness result is not polynomial-time com-
putable. This is surprising because of the relative simplic-
ity of inﬂuence-and-exploit strategies, which only uses two
prices (the price zero and the optimal (myopic) price) and
does not attempt to ﬁnd the right oﬀer sequence (it visits
buyers in a random sequence).

This justiﬁes studying the computational problem of ﬁnd-
ing the optimal inﬂuence-and-exploit strategy. In Section 4.2,
show that if certain player speciﬁc revenue functions are
submodular, then the expected revenue as a function of
the set A is also submodular (Lemma 4.3). But as the
revenue function is not monotone, we cannot use the sim-
ple greedy strategies suggested by Nemhauser, Wolsey and
Fisher [13].
Instead, we use recent work by Feige, Mir-
rokni, and Vondrak [7] for maximizing non-monotone sub-
modular functions, that gives a deterministic local search
1
3 -approximation algorithm, and a randomized local search
0.4-approximation algorithm for this problem (Theorem 3).
1.2 Related work

Our work is inspired partly by the study of Social Conta-
gion in the mathematical social sciences and, more recently,
in computer science. Social contagion studies the dynam-
ics of adoption of ideas or technologies in social networks.
See Chapter 24 of [10] and the references therein. Typically,
these works propose models for the process by which people
in a social network adopt a new technology or idea. Kempe,
Kleinberg, and Tardos [9] study the algorithmic question
(posed by Domingos and Richardson [6]) of identifying a set
of inﬂuential nodes in a social network: Assuming that the
1An algorithm is a c-approximation if its revenue is at least
c times the revenue of the optimal marketing strategy.

190WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinaseller decides to give away k copies of an item, the question
is to ﬁnd a subset of k nodes in the network such that the
subsequent adoption of the good is maximized; the value of
k is externally speciﬁed.

As maximizing the spread of inﬂuence is often a means to
an end rather than an end in itself, we consider marketing
strategies that maximize revenue. While social contagion
models are adequate for the study of the spread of a free
good or service across society, they do not discuss the depen-
dence of adoption on price, which makes studying revenue
maximization hard in this setting. Our model deﬁnes the de-
pendence of adoption on inﬂuence and price. Further, our
model makes makes it possible to discuss how many people
the item should be given away free to.

There has also been work by economists that studies the
relationship of network externalities and pricing. These works
are not algorithmically motivated. For instance, [17] studies
the eﬀect of network topology on a monopolist’s proﬁts from
selling a networked good. Further, [5], studies a multi-round
pricing game As the rounds proceed, the seller may lower
his price in an attempt to price discriminate and attract low
value buyers. Their main result shows that early-round dis-
counting motivated by network externalities can overwhelm
the aforementioned tendency toward lower prices in later
rounds and result in an ascending price over time.

Finally, as we pointed out earlier, in the inﬂuence max-
imization problem formalized in [9], the authors use the
analysis of greedy algorithm for maximizing monotone sub-
modular functions [13]. However, in our settings, the prob-
lem of optimal inﬂuence-and-exploit strategy is a non-monotone
submodular function maximization; therefore, we make use
the recently developed local search algorithms for approxi-
mately maximizing non-monotone submodular functions.

2. PRELIMINARIES

In this section we discuss inﬂuence models, valid selling
strategies and upper bounds on the maximum revenue that
a seller can make.

Consider a seller who wants to sell a good to a set of po-
tential buyers, V . The cost of manufacturing a unit of the
good is zero and the seller has an unlimited supply of the
good. We assume that the seller is a monopolist and is in-
terested in maximizing its revenue. We start by discussing
the well-known, optimal selling strategy in the (standard)
setting with no externalities. As buyers do not inﬂuence
each other, the seller can consider each buyer separately.
We assume that though the seller does not know the buyer’s
exact value (maximum willingness to pay), it does know the
distribution F from which its values are drawn; F is the cu-
mulative distribution of the buyer’s valuation, i.e., F (t) is
the probability the buyer’s value is less than t. We now de-
ﬁne optimal pricing strategy (See for instance Myerson [12]).

Deﬁnition 1. Suppose that the player’s value is distrib-
∗
uted according to the distribution F . The optimal price p
maximizes the expected revenue extracted from buyer i, i.e.,
maximizes p · (1 − F (p)). The optimal revenue
∗
the price p
is p

∗ · (1 − F (p
∗

)) (in expectation).

2.1

Inﬂuence Model

We now describe a general setting where the buyer’s in-
ﬂuence each other; we also list concrete instances of this
model. A buyer i’s value for the good now depends on the
set of buyers that already own the good. It is determined by
the function vi : 2V → R+; suppose this is a set S ⊆ V \{i},
the value of buyer i is a non-negative number vi(S). When
the social network is modeled by a graph, vi(·) is a function
only of neighbors of i in the graph.

Again, as in the setting with no externality, we assume
the buyer knows the distributions from which the values are
drawn; we treat the quantities vi(·) as random variables.
The seller knows the distributions of Fi,S of the random
variables vi(S), for all S ⊆ V and for all i ∈ V . We as-
sume throughout the paper that buyers’ values are distrib-
uted independently of each other. Here are some concrete
instantiations of this model that we study in the paper:

Uniform Additive Model In the uniform additive model,
there weights wij for all i, j ∈ V . The value vi(S), for
all i ∈ V and S ⊆ V \ {i}, is drawn from the uniform
distribution [0,j∈S∪{i} wij].

Symmetric Model In the symmetric model, the valua-
tion vi(S) is distributed according to a distribution
Fk, where k = |S|.
(Note that the identities of the
buyer i and the set S do not play a role.)

Concave Graph Model In this model, each buyer i ∈ V
is associated with a non-negative, monotone, concave
function fi : R+ → R+. The value vi(S) for all i ∈
V , S ⊆ V \ {i}, is equal to fi(j∈S∪{i} wij). Each
weight wij is drawn independently from a distribution
Fij. The distributions Fi,S can be derived from the
distributions Fij for all j ∈ S.

We discuss modeling assumptions in Section 5.

2.2 Marketing Strategies

As discussed in the introduction, when buyers inﬂuence
each other, the seller can conduct sales in an intelligent se-
quence and oﬀer intelligent discounts so as to optimize its
revenue. In this section we formally describe the space of
possible selling strategies.

A marketing strategy has the seller visiting buyers in some
sequence and oﬀering each buyer a price. Each buyer either
accepts (buys the item and pays the oﬀered price) or rejects
(does not buy and does not pay the seller) the item; we
assume that each buyer is considered exactly once. Both the
prices oﬀered and the sequence in which buyers are visited
can be adaptive, i.e, they can be based on the history of
accepts and rejects. A marketing strategy thus identiﬁes
the next buyer to visit and the price to oﬀer it as a function
of the history. Throughout this paper, buyers are assumed
to be myopic, i.e., they are inﬂuenced only by buyers who
have already bought the item. At any point in time, if a set
S of buyers already owns the item, the value of buyer i is
vi(S).

A run of a marketing strategy consists of sequence of of-
fers, one to each buyer in V along with the set of accepted
and rejected oﬀers. The revenue from the run is the sum of

191WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinathe payments from the accepted oﬀers. A marketing strat-
egy and the value distributions together yield a distribution
over runs—this deﬁnes the expected revenue of the market-
ing strategy. We call the marketing strategy that optimizes
revenue the optimal marketing strategy.
2.3 An Upper Bound on Revenue

In this section we discuss why using the optimal price (De-
ﬁnition 1) is short-sighted. We also derive an upper bound
on the revenue of the optimal marketing strategy.

Suppose that the seller visits a speciﬁc buyer i at some
point in a run and a set S of buyers has already bought
the good. The value of the buyer i is now distributed as
Fi,S. What price should the seller oﬀer to the buyer? We
note that optimal pricing (Deﬁnition 1) is no longer opti-
mal; we may want to oﬀer the buyer a discount, so that it
buys the item and inﬂuences others. However if the seller is
myopic and ignores the buyer i’s ability to inﬂuence other
buyers it would oﬀer the optimal price; motivated by this,
we henceforth refer to the optimal price as the optimal (my-
opic) price.

We ﬁnish the section by deriving an upper bound on the
revenue of the optimal marketing strategy in terms of certain
player speciﬁc revenue functions. Let Ri(S) be the revenue
one can extract from player i given that set S of players
have bought the item using the optimal (myopic) price(See
Deﬁnition 1). Naturally, Ri is non-negative. We assume
that the functions Ri are monotone, i.e. for all i and A ⊆
B ⊆ V \ i, Ri(A) ≤ Ri(B)); this implies that buyers only
exert positive inﬂuence on each other. Monotonicity of the
revenue functions implies the following upper bound on the
revenue of the optimal marketing strategy.

Fact 1. The revenue of the optimal marketing strategy is

at most is at most i∈V Ri(V ).
In Section 4, we additionally assume that Ri is submodular
(for all i, for all A ⊂ V and B ⊂ V \{A}, Ri(A∪B)+Ri(A∩
B) ≤ Ri(A) + Ri(B)). Submodularity is the set analog of
concavity: it implies that the marginal inﬂuence of one buyer
on another decreases as the set of buyers who own the good
increases. We further discuss the submodularity assumption
in Section 5.
2.4 Some Technical Facts

In this section we list some technical facts that we use
in the paper. We repeatedly use the following fact about
monotone submodular functions. We leave its proof to the
appendix.
Lemma 2.1. Consider a monotone submodular function
f : 2V → R and subset S ⊂ V . Consider random set S
by
choosing each element of S independently with probability at
least p. Then E[f (S

)] ≥ p · f (S).

(cid:5)

(cid:5)

Some of our results rely on the value distributions sat-
isfying a certain monotone hazard rate condition. We ﬁrst
deﬁne the hazard rate function of a distribution.

Deﬁnition 2. The hazard rate h of a distribution with
a density function f , distribution function F and support
(1−F (t) . The distribution function can be ex-
[a, b] is h(t) =
pressed in terms of the hazard rate: F (t) = 1 − e
a h(x)dx.

− (cid:0)

f (t)

t

Deﬁnition 3. A distribution,with a density function f and
distribution function F , satisﬁes the monotone hazard rate
condition if and only if for any point t in the support, h(t) =
1−F (t) is monotone non-decreasing.

f (t)

The assumption that the values distribution satisﬁes the
monotone hazard rate condition is a fairly weak. Such an
assumption is commonly employed in auction theory [12]
to model value distributions—several distributions such as
the uniform, the exponential, the normal distribution satisfy
this condition. For instance, the uniform distribution in the
1
1−t . We further discuss the
interval [0, 1] has a hazard rate
monotone hazard rate assumption in Section 5.

3. OPTIMAL MARKETING STRATEGIES
3.1 Symmetric Settings

In this section, we study symmetric settings, and show
that we can identify the optimal marketing strategy based
on a simple dynamic programming approach. We assume
that buyer values are deﬁned according to the symmetric
model from the previous section, where the buyer values are
drawn from one of |V | distributions Fk.

We now derive the optimal marketing strategy. As the
model is completely symmetric in the buyers, the sequence
in which it visits buyers is irrelevant. Further, the oﬀered
prices are a function only of the number of buyers that have
accepted and the number of buyers who have not, as yet,
been considered. Let p(k, t) be the oﬀer price to the buyer
under consideration, used by the optimal marketing strat-
egy, given that k people have bought the good and t buyers
are not as yet considered (including the buyer currently un-
der consideration); and R(k, t) is the maximum expected
revenue that can be collected from these remaining buyers.
We now set-up and solve a recurrence in terms of the vari-
ables p and R. We assume that the density function of the
distribution Fk, fk(S), exists.
Given a price p, if the buyer accepts, we can collect the
revenue of p + R(k + 1, t− 1), and if it rejects, we can collect
revenue of R(k, t − 1). Moreover, the buyer accepts if and
only if its value is at least p, i.e with probability 1 − Fk(p).
As a result, we have to set the price p to maximize the
expected remaining revenue. For any price p, the expected
remaining revenue is:

Fk(p) · R(k, t − 1) + (1 − Fk(p)) · (R(k + 1, t − 1) + p)
The optimal price can be found by diﬀerentiating the

above expression with respect to p and setting to 0:

fk(p)(R(k, t − 1) − R(k + 1, t − 1) − p) + 1 − Fk(p) = 0
We can then set p(k, t) to the value which satisﬁes the
above equation. The variable R(k, t) is now easy to com-
pute. The above dynamic program can be solved in time
quadratic in the number of buyers. For the base case, note
that R(k, 0) = 0. This deﬁnes the optimal marketing strat-
egy; note that all we need is for the density functions to
exist, there were no additional assumptions in the analysis.
We now state the main result of this section (without proof):

192WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China900

800

700

600

500

400

300

200

100

i

n
a
m
e
r
 
s
r
e
y
u
b

 

0
0
0
1

 

n
e
h
w
e
c
i
r
p

 

 
l

a
m

i
t

p
O

↓

0

0

200

400

500

450

400

350

300

250

200

150

100

50

d
e

t

p
e
c
c
a

 
y
d
a
e
r
l
a

 

e
v
a
h

 
s
r
e
y
u
b

 

0
0
0
1

 

n
e
h
w
e
c
i
r
p

 

 
l

a
m

i
t

p
O

0

0

1600

1800

2000

↓

1000

2000

3000

4000

5000

6000

7000

8000

9000

10000

Number of buyers remaining

600
1400
Number of buyers who have accepted

1000

800

1200

Figure 1: The optimal price for additive inﬂuence
function when 1000 buyers remain changing the
number of buyers who have accepted. The arrow
shows the place at which the optimal price becomes
nonzero.

Figure 2: The optimal price for additive inﬂuence
function when 1000 buyers have accepted changing
the number of remaining buyers. The arrow shows
the place at which the optimal price becomes zero.

Lemma 3.1. In the symmetric inﬂuence model, the opti-

mal strategy can be computed in polynomial time.

We conclude the section by brieﬂy investigating a con-
crete symmetric setting: Suppose the value of agent i with
S served, vi(S), is uniform [0,|S| + 1]. (A symmetric set-
ting where the distribution Fk is the uniform distribution
on [0, k + 1].) Figures 1 and 2 depict the variation in the
optimal price as k and t vary; Figure 1 conﬁrms that for a
ﬁxed t, the optimal price increases as the number of buy-
ers who have already bought the item increases. Figure 2
conﬁrms that for a ﬁxed k, as the number of players who re-
main goes up, it makes more sense to ensure that the player
under consideration buys the good even if this means sacri-
ﬁcing the revenue earned from the player. Both monotonic-
ity properties hold more generally. Figure 2 also shows that
at the beginning of the marketing strategy, when a large of
number of buyers remain in the market, the optimal price
is zero. This observation motivates studying the inﬂuence-
and-exploit marketing strategy discussed in Section 4.
3.2 Hardness

We now consider the algorithmic problem of ﬁnding opti-
mal marketing strategies in general settings. In this section,
we show that the problem of computing the optimal strat-
egy is NP-Hard even when there is no uncertainty in the
input parameters. In particular, we assume that the values
vi(S) are precisely known to the seller; all the distributions
Fi,S are degenerate point distributions.
In such a setting
it is easy to see that the only problem is to ﬁnd the right
sequence of oﬀers. Given any oﬀer sequence, the prices to
oﬀer are obvious; if a set S of buyers have previously bought,
oﬀer the next buyer i price vi(S). This price simultaneously
extracts the maximum revenue possible and ensures that the
buyer buys and hence exerts inﬂuence on future buyers. We
now show that ﬁnding the optimal sequence is NP-Hard even
when the values are speciﬁed by a simple additive model. We
consider the additive model where , vi(S) = j∈S∪{i} wji.

The reduction is from the maximum feedback arc-set prob-
lem; the proof is in the appendix.

Lemma 3.2. Finding the optimal marketing strategy is NP-

hard even with complete information about buyer values.

The above hardness result shows that even with full in-
formation about the players’ values, computing the opti-
mal ordering is hard. Motivated by this hardness result,
we design approximately optimal marketing strategies that
can be found in polynomial time. As the above reduction
is approximation preserving, to achieve better than 1/2-
approximation for our problem, we must improve the ap-
proximation factor of the maximum feedback arc set prob-
lem. The best approximation algorithm known for the max-
imum feedback arc set problem is a 1
2 -approximation algo-
rithm [4, 8], and it is long-standing open question to achieve
better than 1
2 -approximation for. As our problem also in-
volves the pricing aspect, we shall content ourselves with
trying to get close to the benchmark of 1/2. In the appen-
dix we include an example that demonstrates the importance
of computing the right oﬀer sequence even in an undirected
setting.

4.

INFLUENCE-AND-EXPLOIT MARKET-
ING

Motivated by the hardness result from Section 3.2, we now
turn our attention to designing polynomial-time algorithms
that ﬁnd approximately optimal marketing strategies. Re-
call that a marketing strategy broadly has two elements, the
oﬀer sequence and the pricing. We identify a simple, eﬀec-
tive marketing strategy, called the inﬂuence-and-exploit(IE)
strategy. We start by motivating this strategy, then show
that it is eﬀective in a very general sense and ﬁnish by dis-
cussing techniques to ﬁnd optimal strategies of this form.

We now motivate the structure of the IE strategy; the
strategy has an inﬂuence step, which gives the item away
for free to a judiciously selected set of buyers; followed by

193WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinaan exploit step that is based on a random sequence of oﬀers
and a greedy pricing strategy.

1. The optimal marketing strategy in the symmetric set-
ting started by giving the item away for free to a sig-
niﬁcant fraction of the players; this motivates the in-
ﬂuence step.

2. In the previous section we noted that the best known
approximation algorithm for the maximum feedback
arc-set problem is a 1/2-approximation; surprisingly,
picking a random sequence of nodes yields this(As each
edge is selected with probability 1/2). Inspired by this,
during the exploit step, we will visit buyers in a se-
quence picked uniformly at random.

3. We will use optimal (myopic) pricing(See Deﬁnition 1)
in the exploit step; we will attempt to maximize rev-
enue extracted from a buyer, without worrying about
the inﬂuence that it exerts on others.

We now deﬁne the IE Strategy. The strategy has two

steps:

1. Inﬂuence: Give the item free to buyers in a set A.
2. Exploit: Visit the buyers of V \ A in a sequence σ
(picked uniformly at random from the set of all possible
sequences). Suppose that a set S ⊆ V \ {i} of buyers
have already bought the item before buyer i is made
an oﬀer. Oﬀer buyer i the optimal (myopic) price as a
function of the distribution Fi,S. Note that the optimal
(myopic) price is adaptive, and is based on the history
of sales.

Though, we do not extract any revenue from set A, we are
guaranteed that these buyers accept the item and inﬂuence
other buyers. This will allow us to extract added revenue
from the set V \ A of buyers that more than compensates for
the initial loss in revenue. There are two issues: How good
is the IE strategy compared to the optimal strategy? What
set A maximizes revenue? The next two sections answer
these questions.
4.1 How Good are Inﬂuence-and-Exploit

Strategies?

Note that IE strategies are fairly simple (they only use two
extreme prices and random orderings) and it is not clear how
much we lose, restricting our attention to this class of strate-
gies. In this section we show that they compare favorably
to the optimal revenue-maximizing strategy. Before stating
improved approximation guarantees for various settings, we
observe the following simple fact:

Remark 1. Given any set of submodular revenue func-
tions Ri, the expected revenue from the optimal IE strategy
is at least 1

4 of the optimal revenue.

Proof. We can prove this remark by taking the set A
of the IE strategies to be a random subset of buyers where
each buyer is chosen independently with probability 1
2 . By
Lemma 2.1, the expected revenue from this IE strategy is
at least i∈V \A Ri(A) = i∈V \A
. Since each buyer

Ri(V )

2

is in set V \A with probability 1
this strategy is at least i∈V
pected revenue of this IE strategy is a 1
the optimal revenue.

2 , the expected revenue of
Ri(V )
. By Fact 1, the ex-
4 -approximation of

4

Now, we prove several improved approximation guarantees
for IE strategies for special classes of the problem. For the
concrete setting studied at the end of Section 3.1, it is possi-
ble to show that the best IE strategy is a 0.94-approximation
to the optimal revenue. We now analyze the IE strategy in
the undirected additive model (See Section 2.1). We show
that there exists an IE strategy that gives a 2
3 -approximation
algorithm for this problem. We start by stating an easy fact
about such uniform distributions:

Fact 2. Suppose a buyer has value distributed uniformly
in an interval [0, M ], then the optimal (myopic) price is M/2,
which is also the mean of the distribution. The optimal
(myopic) revenue is M/4.

We now describe the IE strategy. All we need to specify
. Let q =
3E . Let A be a random subset of nodes where each node

is the set A. Let
E−2N

E={ij},i(cid:3)=j wij

N =i∈V wii

and

2

2

is sampled with probability q.

Theorem 1. In the undirected, additive model, IE with
3 of the maxi-

the set A constructed as above yields at least 2
mum possible revenue.

Proof. We start by showing an upper-bound on the rev-
enue that any strategy can attain. The upper bound is
tighter than the bound from Fact 1; we use the observa-
tion that only one of wij or wji for i (cid:10)= j, can contribute
to the revenue. For any strategy, ﬁx the order in which
the sales happened. Even assuming that every buyer buys
the item, by Fact 2 the revenue extracted from the ith

bidder in the sequence is 1/4 · (cid:2)wii + j∈Si−1 wji(cid:3); here
Sk is the ﬁrst k players in the ordering. Summing over
the bidders we have that the optimal revenue is at most
1/2 · (N + E/2). Let Ti be the set of buyers who buy the
item before buyer v. Ti includes A, and a random subset
of V \A. Thus, for any buyer v, a buyer u is in set Ti with
. Thus, for any buyer i ∈ V \A,
4 = 1+3q
probability q +
E[vi(Ti)] = wii/2 + j(cid:6)=i
8 wji, thus the expected rev-
enue from i ∈ V \A is 1
1+3q
16 wji
Moreover, a buyer v in set V \A with probability 1 − q. As
a result, the expected revenue of the above algorithm is at
least

4 wii + j(cid:6)=i

2 E[vi(Ti)] = 1

(1−q)

1+3q

4

1
2 (cid:4)
i∈V

(1 − q)E[vi(Ti)] = (cid:4)

i∈V

(1 − q)(cid:5)
(cid:6)

wii
4

=

1
4 (cid:4)
i∈V

(1 − q)wii + (cid:4){i,j},j(cid:6)=i

(

wji

1 + 3q

16

+ (cid:4)
j(cid:6)=i
1 + 2q − 3q2

(cid:7)
(cid:8)

)wji

.

16

2 (1−q)N +( 1+2q−3q2

Thus, the expected revenue is at least 1
In order to maximize the expected revenue, we should set:
q = E−2N
3E . For this value of q, the expected revenue is
3 . This proves the
at least
theorem.

≥ (E2+2EN )

6 + N

≥ E

(E+N )2

6E

6E

8

)E.

194WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, ChinaWe now show that IE strategies compare favorably to the
optimal strategy even in a fairly general setting—the rev-
enue functions are submodular, monotone and non-negative
and the value distributions satisfy the monotone hazard rate
condition. We start by showing that if the value distribu-
tion satisﬁes the monotone hazard rate condition, the buyer
accepts the optimal (myopic) price with a constant proba-
bility.

Lemma 4.1. If value distribution satisﬁes the monotone
hazard rate condition, the buyer accepts the optimal (my-
opic) price with probability at least 1/e.

t

Proof. By Deﬁnition 2, 1 − F (t) = e
a h(x)dx. As Fi
satisﬁes the monotone hazard rate condition, 1 − F (t) ≥
− (cid:0)
a h(t)dx. At the optimal price, we have that 1/t = h(t).
e
t ≥ 1, as ex is a monotone
So 1 − F (x) ≥ e
function.

a 1/tdx = e

− t−a

− (cid:0)

− (cid:0)

t

t

We now use the above lemma to prove the following the-

orem.

Theorem 2. Suppose that the revenue functions Ri(S),
for all i ∈ V and S ⊆ V \ {i} are monotone non-negative
and submodular and the distributions Fi,S for all i ∈ V and
S ⊆ V \ {i} satisfy the monotone hazard rate condition.
4e−2 -
Then there exists a set A for which the IE strategy is a
approximation of the optimal marketing strategy.

e

Proof. Let A be a random subset of buyers where each
buyer is picked with probability p. Consider the IE strategy
for this set A. For a buyer i ∈ V \A, let Ti be the random
subset of buyers who have bought the item before buyer i.
Each buyer j is in V \A with probability 1 − p, it appears
before i with probability 1
2 , and in this case, j buys the item
by probability at least 1
e (from Lemma 4.1), thus, each buyer
j ∈ V \A is in set Ti with probability at least 1−p
2e . Also each
buyer j is in A with probability p in which j ∈ Ti as well.
As a result, each buyer j ∈ V is in Ti with probability at
least p + 1−p
2e .

Let Ri be the expected revenue from buyer i in this al-
gorithm. Then by monotonicity and submodularity of the
expected revenue function Ri, and by Lemma 2.1, the ex-
pected revenue from Ti is at least (p + 1−p
2e )Ri(V ). Thus,
the expected revenue from this algorithm is at least (p +
2e )i∈V \A Ri(V ). Since each buyer i is in V \A with
1−p
probability 1− p, the expected revenue from the IE strategy
is at least (1 − p)(p + 1−p
2e )i∈V Ri(V ) which is maximized
by setting p = e−1

2e−1 . The theorem follows from Fact 1.

4.2 Finding Inﬂuence-and-Exploit Strategies
In the previous section, we showed that in various settings
inﬂuence and exploit strategies approximate the optimal rev-
enue within a reasonable constant factor. Motivated by this,
we attempt to ﬁnd good IE strategies in more general set-
tings. What set A of buyers, should we initially give the item
for free so that the revenue from the subsequent exploit stage
is maximized? In other words, we want to ﬁnd a set A that
maximizes g(A) where g(A) is the expected revenue of the
IE strategy when we give the item for free to set A in the
ﬁrst step. Though we do not compute optimal optimal set

A, we compute an A that gives a good approximation. The
main result of this section is the following:

Theorem 3. There is a deterministic polynomial-time al-
gorithm that computes a set A, such that the revenue of the
IE strategy with this set yields at least a 1
3 -fraction of the
revenue of the optimal IE strategy. Moreover, there exists
a randomized polynomial-time 0.4-approximation algorithm
for the optimal IE strategy.

We now describe the deterministic algorithm mentioned in
the above theorem. It is based on a local search approach.
Local Search

1. Initialize set A = {v} for the singleton set {v} with

the maximum value g({v}) among singletons.

2. If neither of the following two steps apply (there is no

local improvement), output the better of A and ¯A.

3. For any buyer i ∈ V \ A, if g(A ∪ {i}) > (1 + 

n2 )g(A)
(adding an element to A increases revenue) , then set
A := A ∪ {i} and go to 2.

4. For any buyer i ∈ A, if g(A\{i}) > (1+ 

n2 )g(A) (delet-
ing an element from A increases revenue), then set
A := A\{i} and go to 2.

n2 ) n = O( n3

Since at each step of the local search algorithm, the ex-
pected revenue improves by a factor of (1 + 
n2 ), and the
initial value of g(A) is at least 1
n of the maximum value, the
number of local improvements of this algorithm is at most
 ); this is also an explanation for why
log(1+ 
the algorithm necessarily terminates. Further, we can com-
pute g(A) for any set A in polynomial time by sampling a
polynomial number of scenarios, and taking the average of
the function for these samples. This shows that the above
algorithm runs in polynomial time.

The proof of Theorem 3 follows from the following more
general result by Feige, Mirrokni, and Vondrak [7] about
the use of the local search algorithm (above) in maximizing
non-monotone submodular functions. Though we omit the
details, there is a more complicated randomized algorithm
that can be used in place of the deterministic local search
algorithm to get a slightly better approximation ratio [7].

Lemma 4.2. [7] Suppose the set function g(·) is non-negative

and submodular. Let M be the maximum value of the sub-
modular set function. Then the deterministic local search
algorithm ﬁnds a set A such that g(A) ≥ 1
3 M . Moreover,
there exists a randomized local search algorithm that ﬁnds a
set A such that g(A) ≥ 2

5 M .

Given the above theorem, to complete the proof of Theo-
rem 3, it is suﬃcient to show that the function g(A) is non-
negative and submodular.In order to prove submodularity
of function g, we use the following facts about submodular
functions.

Fact 3. If f and g are submodular, for any two real num-
bers α and β, the set function h : 2V → R where h(S) =
αf (S)+βg(S) is also submodular. The set function h where
h(S) = f (V \S) is submodular. For a ﬁxed subset T ⊂ V ,
function h where h(S) = f (S ∪ T ) is also submodular.

195WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, ChinaWe now show that under certain conditions on the rev-
enue functions Ri for i ∈ V , the set function g(A) is a non-
negative submodular function.

Lemma 4.3. If all the revenue functions Ri for i ∈ V are
non-negative, monotone and submodular, then the expected
revenue function g(A) = i∈V \A Ri(A) is a non-negative
submodular set function.

Proof. It is easy to see that g is non-negative for all i.
We focus on proving that g is submodular: We need to prove
that for any set A ⊆ V and C ⊆ V :

g(A) + g(C) ≥ g(A ∪ C) + g(A ∩ C),

First, using monotonicity of Ri, for each i ∈ (A\ C)∪ (C \

A):
(cid:4)
i∈A\C
Now, using submodularity of Ri, for each i ∈ V \(A ∪ C),

Ri(A∩C)+ (cid:4)

Ri(A) ≥ (cid:4)

Ri(C)+ (cid:4)
i∈C\A

i∈C\A

i∈A\C

Ri(A∩C)

(1)

Ri(A) + Ri(C) ≥ Ri(A ∪ C) + Ri(A ∩ C).

Therefore, summing the above inequality for all i ∈ V \(A ∪
C), we get:

i∈V \(A∪C)

Ri(A) + (cid:4)

(cid:4)
Ri(A ∪ C) + (cid:4)

i∈V \(A∪C)

i∈V \(A∪C)

Ri(A ∩ C)

Ri(C)

≥ (cid:4)

i∈V \(A∪C)

Summing equations 1, 2,
(cid:4)
i∈V \A

Ri(A) + (cid:4)
i∈V \C

Ri(C) ≥

(cid:4)

i∈V \(A∪C)

Ri(A ∪ C) + (cid:4)

i∈V \(A∩C)

Ri(A ∩ C),

This proves the result.

Note that function g is not monotone and so we cannot
use the simple greedy algorithm developed by Nemhauser,
Wolsey, and Fischer [13], also used by Kempe, Kleinberg,
Tardos [9].
Instead, we need to use the local search and
randomized algorithms developed by Feige, Mirrokni, and
Vondrak [7].

5. DISCUSSING THE MODEL

In this section, we discuss the validity of the modeling
assumptions made in Section 4. We do so by discussing
the concave graph model from Section 2. After justifying
the concave graph model, we show that it satisﬁes the sub-
modularity and the monotone hazard assumptions from the
previous section.

Recall that in this model where the uncertainty is in the
inﬂuence that a buyer has on another buyer and the inﬂu-
ences are combined using buyer speciﬁc concave functions.
The concavity models the diminishing returns that one ex-
pects the inﬂuence function to have. Such concavity has
also been demonstrated by empirical studies: [1] studies the
eﬀect of inﬂuence on joining an online community; what is

the probability of joining an online community given that
n of your friends were already members. They show that
the probability increases almost logarithmically. (See Figure
24.1 in [10]). Such concave inﬂuence functions have another
implication: once suﬃciently many buyers have bought the
item, it is easy to see that additional sales have little in-
ﬂuence. From this point on it is optimal to use optimal
(myopic) prices. In particular, if buyers are relatively sym-
metric, optimal (myopic) pricing can be implemented via a
posted price.

It may be possible to use the link structure of online social
networks to estimate wij. Studies such as [1] can be used to
determine the precise form of the functions fi. In practice,
we could reduce the parameters that need to learn by making
intelligent symmetry assumptions. For instance, it might be
reasonable to assume that there are two categories of buyers,
buyers who wield considerable inﬂuence (opinion leaders)
and other buyers.

We now discuss the validity of the assumptions made
about the player speciﬁc revenue functions, namely non-
negativity, monotonicity and submodularity. Non-negativity
is obvious. Monotonicity follows from the non-negativity of
the weights and the non-negativity and monotonicity of fi.
We now show that the means of the values, vi(·), are sub-
modular.

Lemma 5.1. In the concave graph model, the expected value
of the random variable vi(S), vi(S) is a monotone, non-
negative, submodular set function.

Proof. Fix a buyer i. Condition on the values of the
(cid:5) ⊆ V and

random variables wij. For any subsets S ⊆ S
buyer k not in S

(cid:5)

, we claim that:
(vi(S ∪ {k}) − vi(S)) − (vi(S

(cid:5) ∪ {k}) − vi(S

(cid:5)

)) ≥ 0

This follows from the concavity of fi. Thus the function
vi(·) is point-wise submodular. We can now use Fact 3 to
complete the proof.

Though we cannot quite prove that the player-speciﬁc rev-
enue functions are submodular (essentially revenue does not
allow for a simple point-wise argument as above), we con-
jecture that this is true; it is easy to prove the conjecture
in a setting where, for a ﬁxed buyer i, the random variables
vi(S) for all S ⊆ V \ {i} are identically distributed up to a
scale factor; note that this is a generalization of the additive
model from Section 2.1.

We now argue why it is reasonable to assume that the
value distributions satisfy the monotone hazard rate condi-
tion. First in many situations, we may expect a signiﬁcant
fraction of the value of a buyer i to be independent of ex-
ternal inﬂuence (wii dominates wij for i (cid:10)= j); in such cases
the monotone hazard rate assumption is commonly made
in auction theory. Second, by the well-known Central Limit
Theorem, the sum of the independently distributed inﬂuence
variables (wijs for some ﬁxed i) will be approximately like
a normal distribution, so long as the variables are roughly
identically distributed; it is known that the normal distrib-
ution satisﬁes the monotone hazard rate condition. Finally,
we can use the following closure properties of the monotone
hazard rate condition to show that if the distributions Fij

196WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinasatisfy the monotone hazard condition, then so do the value
distributions Fi,S.

Lemma 5.2. Fix an arbitrary buyer i ∈ V . In the concave
graph model, if the distributions Fij satisfy the monotone
hazard rate condition for all j, then for all sets S ⊆ V , the
distributions Fi,S satisﬁes the monotone hazard rate condi-
tion.

We use the following lemma established in [2]. The lemma
(proof omitted) formalizes the fact that the distribution of
the sum of the random variables is only better concentrated
than the distributions of the individual variables.

Lemma 5.3. [2] The monotone hazard rate condition is
closed under addition in the following sense: For any set of
random variables aj, if each aj is drawn from a distribution
that satisﬁes the monotone-hazard-rate condition, then the
random variable j aj also satisﬁes the monotone hazard
rate condition

The next lemma (proof in the appendix) shows that the
monotone hazard rate condition is closed under the applica-
tion of a monotone function.

Lemma 5.4. If a random variable a is drawn from a dis-
tribution (with cumulative distribution function F and den-
sity function f ) that satisﬁes the monotone hazard rate con-
dition, then the random variable h(a) (with distribution Fh
and a density function fh) also satisﬁes the monotone haz-
ard rate condition, so long as h is strictly increasing.

We now ﬁnish the proof of Lemma 5.2. By Lemma 5.3, the
random variable i∈S∪{i} wij, satisﬁes the monotone haz-
ard rate condition. By Lemma 5.4, and as fi is increasing,
we have the proof.

Finally, though we assume throughout the paper that op-
timal myopic prices can be calculated, we note that it is
also reasonable to use mean values instead; the IE strategy
thus modiﬁed will continue to give a constant factor approx-
imation, though the constant is somewhat worse. The key
lemma (Lemma A.1) which makes this possible is stated in
the appendix; this lemma plays the role of Lemma 4.1.

6. CONCLUSION

In this paper, we discuss the optimal pricing strategies in
social networks considering that the valuation of the digi-
tal good for users depends on other users using a service.
We considered the incomplete information setting in which
we only need to know the optimal (myopic) price. Our main
contribution in the paper is identifying a family of IE strate-
gies, proving that they provide improved approximation al-
gorithms, and ﬁnally, computing a good IE strategy. Some
open questions:

1. In Section 4.2, we discuss a local search algorithm that
yields a 0.33 approximation for computing the optimal
inﬂuence set. There is a more involved randomized al-
gorithm [7] that yields a 0.4-approximation algorithm.
It has been shown that no polynomial-time algorithm
can achieve an approximation factor of 0.5 for maxi-
mizing general monotone-submodular functions? Are

there better algorithms possible for the special cases
considered in this paper?

2. Are there other strategies that can be computed in
polynomial time that yield better revenue? For in-
stance, can we use intelligently constructed sequences
rather than random orderings?

3. It would also be interesting to develop pricing algo-
rithms for a model where the seller does not visit buy-
ers in a sequence, but simply posts prices; we expect
that IE type strategies will continue to be eﬀective in
such settings. Finally, disallowing price discrimination
and designing ﬁxed-price mechanisms is also an inter-
esting research direction.

7. REFERENCES
[1] Lars Backstrom, Dan Huttenlocher, Jon Kleinberg,

and Xiangyang Lan. Group formation in large social
networks: membership, growth, and evolution. In
KDD ’06: Proceedings of the 12th ACM SIGKDD
international conference on Knowledge discovery and
data mining, pages 44–54, New York, NY, USA, 2006.
ACM.

[2] Barlow, Richard E. and Marshall, Albert W. Bounds

for distributions with monotone hazard rate, i. The
Annals of Mathematical Statistics, 35(3):1234–1257,
sep 1964.

[3] Barlow, Richard E. and Marshall, Albert W. Bounds
for distributions with monotone hazard rate, ii. The
Annals of Mathematical Statistics, 35(3):1258–1274,
sep 1964.

[4] Bonnie Berger and Peter W. Shor. Approximation

alogorithms for the maximum acyclic subgraph
problem. In SODA ’90: Proceedings of the ﬁrst annual
ACM-SIAM symposium on Discrete algorithms, pages
236–243, Philadelphia, PA, USA, 1990. Society for
Industrial and Applied Mathematics.

[5] Luis Cabral, David Salant, and Glenn Woroch.

Monopoly pricing with network externalities.
Industrial Organization 9411003, EconWPA,
November 1994.

[6] Pedro Domingos and Matt Richardson. Mining the

network value of customers. In KDD ’01: Proceedings
of the seventh ACM SIGKDD international conference
on Knowledge discovery and data mining, pages 57–66,
New York, NY, USA, 2001. ACM.

[7] Uriel Feige, Vahab S. Mirrokni, and Jan Vondrak.

Maximizing non-monotone submodular functions. In
FOCS ’07: Proceedings of the 48th Annual IEEE
Symposium on Foundations of Computer Science
(FOCS’07), pages 461–471, Washington, DC, USA,
2007. IEEE Computer Society.

[8] Refael Hassin and Shlomi Rubinstein. Approximations

for the maximum acyclic subgraph problem.
Information Processing Letters, 51(3):133–140, 1994.

[9] David Kempe, Jon Kleinberg, and ´Eva Tardos.

Maximizing the spread of inﬂuence through a social
network. In KDD ’03: Proceedings of the ninth ACM
SIGKDD international conference on Knowledge

197WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinadiscovery and data mining, pages 137–146, New York,
NY, USA, 2003. ACM.

[10] J. Kleinberg. Cascading behavior in networks:

algorithmic and economic issues. Cambridge
University Press, 2007.

[11] Jay Meattle.

http://blog.compete.com/2007/01/25/top-20-
websites-ranked-by-time-spent/.

[12] R. Myerson. Optimal auction design. Mathematics of

Operations Research, 6(1):58–73, 1981.

[13] G. Nemhauser, L. Wolsey, and M. Fisher. An analysis
of the approximations for maximizing submodular set
functions. Mathematical Programming, 14:265–294,
1978.

[14] Alantha Newman. The maximum acyclic subgraph

problem and degree-3 graphs. In APPROX
’01/RANDOM ’01, pages 147–158, London, UK, 2001.
Springer-Verlag.

[15] Ed Oswald. http://www.betanews.com/article/

Google Buy MySpace Ads for 900m/1155050350.

[16] Everett Rogers. Diﬀusion of Innovations, 5th Edition.

Free Press, August 2003.

[17] Pekka S¨a¨askilahti. Monopoly pricing of social goods.

MPRA Paper 3526, University Library of Munich,
Germany, 2007.

[18] Katharine Q. Seeyle.
[19] Rob Walker. http://www.slate.com/id/1006264/.
[20] Tim Weber.

http://news.bbc.co.uk/1/hi/business/6305957.stm?lsf.

APPENDIX
A. PROOFS
Proof of Lemma 2.1.

Proof. Fix an ordering σ of the elements of the set S.

We can write f (S) as the sum 1≤i≤|S| f (Si) − f (Si−1).

Here Si consists of the ﬁrst i elements of the set S and we
assume that f (S0) = 0.

Recall the deﬁnition of the set S

from the lemma state-

(cid:5)

ment. Using linearity of expectations, we have that:

(cid:5)

E[f (S

i) − f (S
(cid:5)

(cid:5)
i−1)]

f (S

p · (f (Si) − f (Si−1))

1≤i≤|S(cid:4)|

)] = E[ (cid:4)
≥ (cid:4)
1≤i≤|S|
= p · f (S)

The second inequality uses the submodularity of f .

Proof of Lemma 3.2.

Proof. We show how to reduce any instance of the NP-
Hard maximum feedback arc set problem [4, 8, 14] to our
problem. This establishes that our problem is also NP-Hard
and we cannot achieve a polynomial time solution to our
problem unless P = N P .

In an instance of the maximum feedback arc set problem,
given an edge-weighted directed graph, we need to order the
nodes of the graph to maximize the total weight of edges

going in the backward direction in the ordering. We now
describe the reduction.

Let the nodes of the graph be the set of buyers. The
edge weights are the weights wij. Let wij equal 0 for edges
absent. We now deﬁne the pricing. Given the ordering in
which to oﬀer buyers, we oﬀer prices equal to the player’s
value; for a player i it is j∈S∪{i} wji, where S is the set
of nodes visited before i. Given any ordering σ, the revenue
from such pricing is equal to the weight of the feedback arc
set when the nodes in the graph are ordered in the reverse
of σ. Thus ﬁnding the the optimal marketing strategy is
equivalent to computing the maximum feedback arc-set.

The above proof shows the importance of constructing the
right oﬀer sequence; we now observe that even in settings in
which the inﬂuence is bidirectional, but the buyer has incom-
plete information, the oﬀer sequence matters. For example,
consider the additive model corresponding to a star graph
of n buyers. Suppose that wii is 0, wij, j (cid:10)= i is 0 if neither
i or j is the center; and wij is drawn from the uniform dis-
tribution on the interval [0, 1] otherwise. We ﬁnd that the
optimal marketing strategy starts at the center and oﬀers
it a carefully calculated price; then it oﬀers the remaining
buyers the optimal (myopic) price. Somewhat suprisingly,
if, instead, we had complete information, the oﬀer sequence
does not matter. The example shows that incomplete infor-
mation makes the oﬀer sequence important.

Lemma A.1. [3] A buyer, whose value is distributed ac-
cording to a distribution that satisﬁes the monotone hazard
rate condition, accepts an oﬀer price equal to the mean value
with probability at least 1/e.

x

Proof. Fix the set S of buyers who already own the
item and the buyer under consideration, i. Let f and F
be the density and distribution functions for the buyer’s
value vi(S). By Deﬁnition 2, we can write log(1 − F (x)) =
a h(t)dt. As h(t) is non-decreasing in t, log(1 − F (x))
−
(cid:9)
is concave. Now, using Jensens inequality, log(1 − F (μ)) ≥
log(1− F (x))dF (x) = (cid:9)
0 log(1− y)dy ≥ −1. (Replacing
∞
(cid:9)
0
F (x) by y.) Taking the exponent on both sides completes
the proof.

1

Proof of Lemma 5.4.

Proof. Because the function h is strictly increasing, the

inverse function h

−1 is deﬁned. So for all t,
fh(t)
1 − Fh(t)

1 − F (h−1(t))

−1(t))

f (h

=

Thus the monotone hazard rate condition is satisﬁed for
˜h(a) if and only if for all t and e > 0,
1−F (h−1(t+e)) . But this is true as the random

the random variable
f (h−1(t))
1−F (h−1(t))
variable a satisﬁes the monotone hazard rate condition.

≤ f (h−1(t+e))

198WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China