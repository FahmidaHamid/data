Trust-Based Recommendation Systems:

an Axiomatic Approach

Reid Andersen∗
Abraham Flaxman∗

Christian Borgs∗
Adam Kalai§ ‡

ABSTRACT
High-quality, personalized recommendations are a key fea-
ture in many online systems. Since these systems often have
explicit knowledge of social network structures, the recom-
mendations may incorporate this information. This paper
focuses on networks that represent trust and recommenda-
tion systems that incorporate these trust relationships. The
goal of a trust-based recommendation system is to generate
personalized recommendations by aggregating the opinions
of other users in the trust network.

In analogy to prior work on voting and ranking systems,
we use the axiomatic approach from the theory of social
choice. We develop a set of ﬁve natural axioms that a trust-
based recommendation system might be expected to satisfy.
Then, we show that no system can simultaneously satisfy
all the axioms. However, for any subset of four of the ﬁve
axioms we exhibit a recommendation system that satisﬁes
those axioms. Next we consider various ways of weakening
the axioms, one of which leads to a unique recommendation
system based on random walks. We consider other recom-
mendation systems, including systems based on personalized
PageRank, majority of majorities, and minimum cuts, and
search for alternative axiomatizations that uniquely charac-
terize these systems.

Finally, we determine which of these systems are incen-
tive compatible, meaning that groups of agents interested
in manipulating recommendations can not induce others to
share their opinion by lying about their votes or modifying
their trust links. This is an important property for systems
deployed in a monetized environment.

Categories and Subject Descriptors
F.2 [Theory of Computation]: Analysis of Algorithms
and Problem Complexity; J.4 [Computer Applications]:
Social and Behavioral Sciences—Economics
∗
†

Microsoft Research, Redmond, WA.
Department of Computer Science and Applied Mathemat-

ics, The Weizmann Institute of Science, Rehovot, Israel.
‡
§

Part of this research conducted while visiting MSR.
School of Computer Science, Georgia Institute of Technol-

ogy, Atlanta, GA. Partly supported by NSF SES-0734780.
¶

Industrial Engineering and Management,

Faculty of

Technion–Israel Institute of Technology, Haifa, Israel.

Copyright is held by the International World Wide Web Conference Com-
mittee (IW3C2). Distribution of these papers is limited to classroom use,
and personal use by others.
WWW 2008, April 21–25, 2008, Beijing, China.
ACM 978-1-60558-085-2/08/04.

Jennifer Chayes∗

Uriel Feige†‡

Vahab Mirrokni∗

Moshe Tennenholtz¶ ‡

General Terms
Algorithms, Theory, Economics

Keywords
Recommendation systems, Reputation systems, Axiomatic
approach, Trust networks

1.

INTRODUCTION

Ranking, reputation, recommendation, and trust systems
have become essential ingredients of web-based multi-agent
systems (e.g.
[16, 22, 8, 25, 11]). These systems aggregate
agents’ reviews of products, services, and each other, into
valuable information. Notable commercial examples include
Amazon and E-Bay’s recommendation and reputation sys-
tems (e.g. [21]), Google’s page ranking system [19], and the
Epinions web of trust/reputation system (e.g. [18]).

This paper is concerned particularly with the setting where
there is a single item of interest (e.g., a product, service, or
political candidate). A subset of the agents have prior opin-
ions about this item. Any of the remaining agents might
desire to estimate whether or not they would like the item,
based on the opinions of others. In the oﬄine world, a person
might ﬁrst consult her friends for their recommendations.
In turn, the friends, if they do not have opinions of their
own, may consult their friends, and so on. Based on the
cumulative feedback the initial consulter receives, she might
form her own subjective opinion. An automated trust-based
recommendation system aims to provide a similar process
to produce high-quality personalized recommendations for
agents.
We model this setting as an annotated directed graph in
which some of the nodes are labeled by votes of + and −.
Here a node represents an agent, and an edge directed from
a to b represents the fact that agent a trusts agent b. A
subset of the nodes are labeled by + or − votes, indicating
that these nodes have already formed opinions about the
item under question. Based on this input, a recommenda-
tion system must output a recommendation for each unla-
beled node. We call such an abstraction a voting network
because it models a variety of two-candidate voting systems,
where the candidates are + and −. For an example, con-
sider a directed star graph where a single root node points
to n agents with labels, which models a committee making a
recommendation to the root node. In that setting, majority
and consensus are two common voting rules. For another
example, The U.S. presidential voting system can be mod-
eled as a more complicated digraph, where the root points

199WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinato nodes representing the members of the electoral college,
and the electoral college nodes point to nodes representing
the voters in the state or congressional district that they
represent.

A multitude of recommendation systems have been pro-
posed and implemented, and many ﬁt in to the network-
based framework described above. This raises the question
of how to determine the relative merits of alternative ap-
proaches to providing trust-based recommendations. The
task of comparing recommendation systems is complicated
by the diﬃculty of producing an objective measure of rec-
ommendation quality.

We begin with an impossibility theorem: for a small, natu-
ral set of axioms, there is no recommendation system simul-
taneously consistent with all axioms in the set. However, for
any proper subset of the axioms there exists a recommenda-
tion system that satisﬁes all axioms in the subset. We con-
sider two ways past this negative result, both by replacing
the transitivity axiom (deﬁned below). We prove that there
are recommendation systems consistent with both new sets
of axioms. We also show that when one of these new sets
is augmented with an additional axiom, the resulting set of
axioms is uniquely satisﬁed by a recommendation system
based on random walks.

We also consider the descriptive approach, in which we
characterize existing (acyclic) systems, like simple commit-
tees and the U.S. presidential elections, by a simple major-
ity axiom. We generalize this to an axiom that leads to a
unique “minimum cut” system on general undirected (possi-
bly cyclic) graphs.

Prior work on personalized ranking systems has produced
a ranking system called personalized PageRank [13]. This
system can be translated into a recommendation system by
augmenting it to handle votes, creating a natural hybrid
of a ranking and recommendation system. The details are
discussed in Section 3.4.

We deﬁne a notion of incentive compatibility for recom-
mendation systems. This is important when designing sys-
tems for deployment in monetized settings, because, as ex-
perience has shown, self-interested agents will not respect
the rules of the system when there is money to be made by
doing otherwise. We ﬁnd that all of the recommendation
systems for which we provide a characterizing set of axioms
turn out to be incentive compatible, including the random
walk system, majority of majorities system, and minimum
cut system. In contrast, the personalized PageRank system
and various other natural systems are not incentive compat-
ible.

For simplicity, this paper focuses on the case of unweighted
multigraphs and binary votes. Most of our observations
carry over to the more general cases of weighted graphs and
fractional votes.

The rest of this paper is organized is follows. The next
section contains related work. Section 1.2 is a brief sum-
mary of our axioms, algorithms, and results. Some formal
deﬁnitions and notations appear in Section 2, and in Section
3 we present some recommendation systems. In Section 4
we formally deﬁne our axioms. Section 5 provides the out-
line of the proofs of our results. Section 6 shows that our
systems are incentive compatibility.

1.1 Related Work

There are several ways to study recommendation systems.

Standard evaluation tools include simulations and ﬁeld ex-
periments (e.g. [7, 21, 15]). In addition, one may also con-
sider computational properties of suggested systems.

Our work builds on previous work on axiomatizations of
ranking systems. The literature on the axiomatic approach
to ranking systems deals with both global ranking systems
[1, 2, 24, 9, 25, 4, 5] and personalized ranking systems [7, 10,
3, 17]. Personalized ranking systems are very close to trust-
based recommendation systems.
In such systems, agents
rank some of the other agents. Then an aggregated rank-
ing of agents, personalized to the perspective of a particular
agent, is generated based on that information. However,
previous studies on the axiomatic approach have not been
concerned with situations where the participants share re-
views or opinions on items of interest which are not the other
agents in the system.

Many existing recommendation system are based on col-
laborative ﬁltering (CF), which is a completely diﬀerent ap-
proach than the trust-based systems considered in this pa-
per. An axiomatic approach to analyzing CF systems ap-
pears in [20]. Combining trust-based and CF approaches is
a direction of current research [23].
1.2 Overview of Results

We model a voting network by a partially labeled directed
multigraph whose nodes represent agents. A subset of the
nodes, called voters, is labeled with votes of + and −. The
remaining nodes are nonvoters. The recommendation sys-
tem must assign, to each source nonvoter, a recommendation
in {−, 0, +}.1

Below we informally summarize our axioms. Many of
them are illustrated in Figure 1. We caution that our aim
is only to succinctly convey the spirit of the axioms; formal
deﬁnitions are found in Section 2.

1. Symmetry. Isomorphic graphs result in correspond-
ing isomorphic recommendations (anonymity), and the
system is also symmetric with respect to + and − votes
(neutrality).

2. Positive response. If a node’s recommendation is 0
and an edge is added to a + voter, then the former’s
recommendation becomes +.

3. Independence of Irrelevant Stuﬀ (IIS). A node’s
recommendation is independent of agents not reach-
able from that node. Recommendations are also inde-
pendent of edges leaving voters.

4. Neighborhood consensus.

If a nonvoter’s neigh-
bors unanimously vote +, then the recommendation
of other nodes will remain unchanged if that node in-
stead becomes a + voter.

If, in a particular graph, a source node is recommended
+, then we say that the source trusts the set of agents that
voted + more than those that voted −. The following axiom
states that this relation should be transitive, as we imagine
varying the votes of various subsets of agents.

5. Transitivity. For any graph (N, E) and disjoint sets
A, B, C ⊆ N , for any source s, if s trusts A more than
B, and s trusts B more than C, then s trusts A more
than C.

1It is easy to see, e.g., a three-node network, that symmetry
(Axiom 1) is impossible with ± recommendations alone.

200WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China–

s

+

a)

b)

+

u

–

v

s

c)

+

v

d)

–

–

s

e)

–

f)

Figure 1: Illustrative voting networks. Labels ± indicate votes, not recommendations. a) IIS: Node s’s
recommendation does not depend on any of the dashed node or dashed edges, since we ignore unreachable
nodes as well as edges out of voters. b) Neighborhood consensus: Node v can be assigned + vote. c) If the
recommendation for s is + then we say s trusts {v} more than {u}. d) Trust propagation: The dashed edges
the upper part can be removed and replaced by dashed edges in the lower part. e) Scale invariance: Edges
leaving s are tripled without consequence. f ) No groupthink: The three nonvoting nodes cannot all be given
+ recommendations.

Theorem 1. Axioms 1-5 are inconsistent. Any proper
subset of these axioms is satisﬁed by some recommendation
system.

Instead of transitivity, we consider the following two ax-
ioms. Similar axioms have been used in the axiomatization
of PageRank in the context of ranking systems [2].

6. Trust propagation. Suppose node u trusts nonvoter
v. Suppose that u has k edges to v and v has k edges
to other nodes. Then the edges from u to v can be
replaced directly by edges from u to the nodes that
v trusts without changing any resulting recommenda-
tions.

7. Scale invariance. Duplicating the outgoing edges of

a node does not change recommendations.

We specify a random walk algorithm, a (deterministic) al-
gorithm that computes a recommendation for node s by con-
sidering a (hypothetical) random walk in the directed graph
that starts at node s and follows outgoing edges, uniformly
at random, until the ﬁrst voter is reached. Its recommen-
dation for s is based on whether it is more likely that the
ﬁrst voter reached votes + or −. The system computed
by the random walk algorithm is called the Random Walk
recommendation system (RW).

Theorem 2. Axioms 1-4 and 6-7 are satisﬁed uniquely

by RW.

As we will see in the proof of Theorem 1, the transitivity
axiom and the IIS axiom are hard to reconcile because IIS
implies the edges out of the voting nodes do not matter
while transitivity implies that the sets in the trust graph
must obey a certain relation regardless of who is voting. A
weaker version of transitivity which does not conﬂict with
IIS is the following:

(cid:3)
5

. Sink Transitivity. For any graph (N, E) and any
disjoint sets A, B, C ⊆ N for which A, B, C contain
only vertices with out-degree 0, for any source s, if s
trusts A more than B and s trusts B more than C,
then s trusts A more than C.

(cid:3)
Theorem 3. Axioms 1-4 and 5

are satisﬁed by RW.

We also consider axioms which lead uniquely to known

recommendation systems:

8. Majority. The recommendation of a node should be
equal to the majority of the votes and recommenda-
tions of its trusted neighbors.

9. No groupthink. Suppose a set of nonvoters unani-
mously have the same nonzero recommendation. Then
their recommendation should equal the majority of
their trusted (external) neighbors’ votes and recom-
mendations.

The majority axiom represents a reasonable semantics — an
agent might like to wait for its trusted neighbors to receive a
recommendation and then take a simple majority. However,
this axiom alone still permits a large clique of nonvoters
to all have positive recommendations when they only point
to external agents with negative recommendations (see Fig-
ure 1f).

The no-groupthink axiom is a natural extension to larger
sets. It implies the majority axiom when one considers just
singleton sets.

Unfortunately, on general directed graphs axiom 9 is in-
consistent. However, it is a statement about a single graph
G, so we can consider it on limited classes of graphs. Two
interesting classes of graphs are directed acyclic graphs and
undirected graphs,where axioms 8 and 9 lead uniquely to two
interesting solutions. These are the majority-of-majorities
and minimum-cut systems are deﬁned in Section 3.

Theorem 4. (a) Axiom 8 on a rooted DAG implies the
majority-of-majorities system. (b) Axiom 9 on an undirected
graph implies the min-cut recommendation system.

2. NOTATION AND DEFINITIONS

Following the motivation provided in the previous section,
we now formally deﬁne the basic setting of a trust-based
recommendation system. In the remainder of the paper, we
refer to such systems simply as recommendation systems, for
brevity.

201WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, ChinaDefinition 1. A voting network is a directed anno-
tated multigraph G = (N, V+, V−, E) where N is a set of
nodes, V+, V− ⊆ N are disjoint subsets of positive and neg-
ative voters, and E ⊆ N 2 is a multiset of edges with parallel
edges allowed but no self-loops.

When V+ and V− are clear from context, we denote the
set of voters by V = V+ ∪ V− and the set of nonvoters by
V = N \ V .

Definition 2. A recommendation system R takes as
input a voting network G and source s ∈ V and outputs
recommendation R(G, s) ∈ {−, 0, +}.

For convenience, we will use R+(G), R−(G), and R0(G) to
denote the set of sources to which R gives a particular rec-
ommendation, i.e. R+ = {s ∈ V | R(G, s) = +}. Also, we
deﬁne R(G) = (cid:5)R+(G), R−(G), R0(G)(cid:6).
We denote by sgn : R → {−, 0, +} the function that com-
putes the sign of its input. We denote by PredE(v) and
SuccE(v) the multisets of nodes that point to v and that
v points to, respectively (where, for example, u appears in
PredE(v) with multiplicity equal to the number of arcs (u, v)
in multiset E).
Given a multiset of recommendations, S ⊆ {−, 0, +}, we
deﬁne the majority MAJ(S) to be: + if more than half the
elements of S are +; − if more than half of S are −; and 0
otherwise.

3. SYSTEMS AND ALGORITHMS

3.1 Random Walk System (RW)

We ﬁrst describe a recommendation system based on ran-
dom walks. Given a voting network G = (N, V+, V−, E) and
a source s ∈ V , the random walk system simulates the fol-
lowing: start a walker at node s and, at each step, choose
an outgoing edge uniformly at random and follow it to the
destination node. Continue this random walk until a node
with a ± vote is reached, or until a node with no outgoing
edges is reached (note this walk may reach a node whose
strongly connected component contains no voters, and thus
never terminate). Let ps be the probability that the ran-
dom walk terminates at a node with positive vote and qs
be the probability that the random walk terminates at node
with negative vote. Let rs = ps − qs. The random walk
recommendation system recommends sgn(rs) to s.

The algorithm given in Figure 2 correctly computes rec-
ommendations as deﬁned by the RW system. To see this,
ﬁrst note that, for any node that cannot reach a voter, the
recommendation must be 0 in both the RW system and the
RW algorithm. Next, probabilistic arguments show that the
equations deﬁned must be obeyed by the random walk. Fi-
nally, the uniqueness of the solution follows from the fact
that, with probability 1, the random walk will reach a ver-
tex in S ∪ V+ ∪ V−. Also note that the algorithm can be
implemented eﬃciently and in polynomial time.

As stated in Theorem 2 (Section 1.2), the RW recommen-
dation system is the unique system which satisﬁes axioms
1-4 and 6-7. The formal deﬁnitions of these axioms appear
in Section 4 and the proof of Theorem 2 is sketched in Sec-
tion 5 and provided in full in Appendix B. Theorem 3 states
(cid:3)
that RW satisﬁes 1-4 and 5

. The proof of this is omitted.

Input: G = (N, V+, V−, E), s ∈ V .
Output: recommendation ∈ {−, 0, +}.

1. Let S ⊆ V be the set of nonvoters that cannot reach

any voter.

2. For each v ∈ N , create a variable rv ∈ R. Solve the

following from rv:

⎧⎪⎪⎪⎨
⎪⎪⎪⎩

0,
1,
−1,
(cid:6)
w∈SuccE (v) rw
|SuccE (v)|

if v ∈ S
if v ∈ V+
if v ∈ V−
, otherwise

rv =

3. Output sgn(rs).

Figure 2: The random walk algorithm. (Recall that
V = V+ ∪ V− is the set of voters and V = N \ V is the
set of nonvoters.)

3.2 Majority-of-Majorities (MoM)

The system in this section and in the next seem quite
diﬀerent at ﬁrst glance, but both derive from the same single
axiom.

In this section, we present a system that is well deﬁned
only when the graph underlying the voting network is a Di-
rected Acyclic Graph (DAG). Nodes in a ﬁnite DAG can
always be partitioned into a ﬁnite number of levels. In level
0, nodes have out-degree 0. In each level i ≥ 1, nodes have
edges only to nodes in level j < i.

The Majority-of-majorities system assigns a recom-
mendation as follows: each nonvoter that is a sink (i.e.
in
level 0) receives recommendation 0; each voter in level i
receives a recommendation equal to the majority of the rec-
ommendations and votes of its outgoing neighbors (where
multiple edges are counted multiple times). This can be
computed recursively by an eﬃcient algorithm. Recall that
we use the deﬁnition of Majority from Section 2, which is
conservative in the sense that in order to have a non-zero
recommendation, there must be a strict majority of match-
ing recommendations.

As stated in Theorem 4a, the majority-of-majorities rec-
ommendation system is the unique system which satisﬁes
axiom 8 when the voting network is a DAG. The proof of
Theorem 4 is sketched in Section 5 and provided in full in
Appendix C.

3.3 Minimum Cut System (min-cut)

Let G = (N, V+, V−, E) be a voting network. Let E(cid:3) ⊆ E
be the set of edges in E that originate at nonvoters, i.e.,
eliminate edges out of voters. We say that cut C ⊆ E(cid:3)
is a
(V+, V−)-cut of G if there is no path from V+ to V− using
edges in E(cid:3) \ C. We say that C is a min-cut of G if its size
|C| is minimal among all (V+, V−)-cuts.

The minimum cut system can be deﬁned as follows.
The recommendation of a source s is + if in all min-cuts
there is a path from s to V+ among edges in E(cid:3) \ C. The
recommendation is − if all min-cuts leave a path from s to
V−. Otherwise, the recommendation is 0.

This may be computed as follows: ﬁrst, compute a min-
cut C in G. Next, consider network G+ which is formed

202WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinafrom G by adding an edge from source s to a + voter, and
compute C+ in G+. If |C| < |C+| then the recommendation
is −. Otherwise, consider network G−, formed from G by
adding an edge from s to a − voter. For a min-cut C− of G−,
if |C| < |C−| then the recommendation for s is +. Other-
wise, the recommendation for s is 0. This can be computed
in polynomial time by repeatedly using a polynomial-time
algorithm for (s, t)-minimum cut. To see that it correctly
computes the min-cut recommendation, note that if s is con-
nected to V+ in all min-cuts then adding an edge from s to
a − voter will create a path from V− to V+ in all min-cuts.
This will increase the min-cut cost by 1. On the other hand,
if there is a cut of G where s is not connected to V+, then
this edge set will still be a cut in G− so the min-cut cost
will not increase. Similarly, |C| < |C+| if and only if s is
connected to V− in all min-cuts of G. In the remaining case,
the sizes of all three min-cuts will be the same because there
are some min-cuts in which s is connected to V− and some
in which s is connected to V+.

As stated in Theorem 4b, the min-cut recommendation
system is the unique system which satisﬁes axiom 8 on undi-
rected graphs. The proof of Theorem 4 is sketched in Sec-
tion 5 and provided in full in Appendix C.

3.4 Personalized PageRank System

In designing a recommendation system, we can consider
systems based on aggregating the level of trust a node has
for other nodes. The idea is to deﬁne a trust level wuv for
any two nodes u and v in the network, and to compute the
recommendation for a nonvoter u by comparing two values:
W+(u) =

wuv and W−(u) =

(cid:6)

(cid:6)

v∈V+

v∈V− wuv.

A natural way to capture the level of trust in a network
is to apply a personalized ranking system such as personal-
ized PageRank (as introduced by Haveliwala in [13]). The
personalized PageRank of node v for a node u is denoted
by pprα(u → v), and is deﬁned to be the probability mass
at node v in the stationary distribution of a biased random
walk Rα(u) with restart probability α ∈ (0, 1). The random
walk Rα(u) is deﬁned as follows: at each step, with prob-
ability α, we restart the random walk at node u; and with
probability 1 − α, we go uniformly to one of the outgoing
neighbors, i.e, from a node w we go to one of the neighbors
of w with probability
out-degree(w) ; if there are no outgoing
neighbors, we restart the walk at node u . Note that, unlike
the RW system in Section 3.1, this random walk continues
regardless of whether the vertex it is currently visiting is a
voter or nonvoter. The personalized PageRank values can
be computed eﬃciently by simulating this random walk. For
details of computation and extensions, see [13, 14].

1−α

Using this notation, the personalized PageRank recom-
mendation system is as follows: Given a voting network
G = (N, V+, V−, E), and a parameter α, we compute the
personalized PageRank pprα(u → v) for all pairs of nodes.
v∈V+ pprα(s → v),
(cid:6)
For a nonvoter s, we compute W+(s) =
v∈V− pprα(s → v), and we set R(G, s) =
and W−(s) =
sgn(W+ − W−).

(cid:6)

It is not hard to see that the personalized PageRank sys-
tem satisﬁes the axioms symmetry, positive response, and
transitivity, but it does not satisfy the axioms IIS, and neigh-
borhood consensus. The proofs of these statements are omit-
ted due to space constraints.

4. AXIOMS

We are now ready to consider various properties of rec-
ommendation systems as candidate axioms. These proper-
ties are motivated by related literature on social choice and
ranking systems, and also by the machinery used in prac-
tical recommendation systems. Similar to other axiomatic
studies, the choice of axioms is to some extent arbitrary, and
other sets of axioms are possible. Nevertheless, we believe
that any one of our axioms by itself does capture a desirable
property for recommendation systems, and that the study
of the combination of these axioms leads to informative in-
sights and interesting algorithms.

The ﬁrst property, symmetry, is purely structural. The
symmetry axiom contains two parts, anonymity and neu-
trality. Anonynmity means that the names of the agents do
not matter for the source node; all that matters is the struc-
ture of the trust graph and the votes provided. Neutrality
means that the values +/- are arbitrary.

Axiom 1. (Symmetry) Let G = (N, V+, V−, E) be a
voting network. Anonymity: For any permutation π : N →
N , let G(cid:3)
, be the isomorphic voting network under π. Then
R+(G(cid:3)
) = π(R−(G)). Neutrality:
Also, let G(cid:3)(cid:3)
= (N, V−, V+, E) be the voting network where
the sets of voters V− and V+ have been interchanged. Then
R+(G) = R−(G(cid:3)(cid:3)

) = π(R+(G)) and R−(G(cid:3)

) and R−(G) = R+(G(cid:3)(cid:3)

).

The next axiom is a classic social choice axiom. It states
that if a node s has recommendation 0 (or +) and an addi-
tional +-voter is added to the network along with an edge
from s to the new node, then s’s new recommendation should
be +. It reﬂects a razor’s-edge view of a 0 recommendation.
The axiom “pushes” the systems towards strict recommenda-
tions. (Without such an axiom, systems may almost always
recommend 0.)

Axiom 2. (Positive response) Let w (cid:9)∈ N , s ∈ V ,
= (N ∪ {w}, V+ ∪ {w}, V−, E (cid:10)

G = (N, V+,V−, E), and G(cid:3)
{(s, w)}). If s /∈ R−(G) then s ∈ R+(G(cid:3)

).

Note that the above axiom is presented asymmetrically
in terms of ± votes and recommendations. In combination
with the Symmetry axiom, the corresponding version with
− votes and recommendations follows directly. We use an
asymmetric presentation for readability in several of the ax-
ioms.

The next axiom, Independence of Irrelevant Stuﬀ (IIS)
captures the semantics of recommendation systems discussed
in the introduction: a source node is viewed as consulting
neighboring agents in the trust graph, who consult their
neighbors etc., while agents who have formed opinions just
vote according to their opinion. This means that when con-
sidering the recommendation for a particular source node in
a particular trust graph, where part of the agents vote (per-
haps based on ﬁrst-hand experience), feedback from these
agents is independent of who they trust (i.e., they trust
themselves inﬁnitely more than others) and the recommen-
dation system should consider only reachable nodes and ig-
nore links out of voters. While one may consider other types
of semantics, something similar to this axiom appears in
many previously designed systems.

Axiom 3. (IIS) Let G = (N, V+, V−, E) and e ∈ V × N
=

be an edge leaving a voter. Then for the subgraph G(cid:3)

203WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China(N, V+, V−, E \ {e}) in which e has been removed, R(G) =
). Similarly, if v ∈ N is a node not reachable from
R(G(cid:3)
s ∈ V , then for the subgraph G(cid:3)(cid:3)
in which node v (and its
associated edges) have been removed, R(G, s) = R(G(cid:3)(cid:3), s).

When we write R(G) = R(G(cid:3)

), as in the above, it means
that the recommendations on the two voting networks are
identical.

The following requirement deals with some minimal ratio-
nality we wish to attribute to the agents; as in the classical
theory of choice we are willing to assume something about
the vote of an agent who has no a priori opinion only in ex-
treme cases. The neighborhood-consensus axiom does just
if all the agents trusted by a node v vote +, and no
that:
other nodes touch v’s neighbors, then the recommendation
of any other nonvoter u will remain unchanged if v instead
becomes a + voter.
Axiom 4. (Neighborhood Consensus) Fix a voting
network G = (N, V+, V−, E), and let s, u ∈ V be distinct
nonvoters. Suppose u has at least one outgoing edge, and
suppose that each outgoing edge (u, v) ∈ E points to v such
that v ∈ V+ and v has no (incoming or outgoing) neigh-
= (N, V+ ∪ {u}, V−, E). Then
bors other than u. Let G(cid:3)
R(G, s) = R(G(cid:3), s).
4.1 Transitivity

Transitivity is a central concept in the axiomatization of
voting [6]. In our context, we consider the case where the
underlying trust graph is ﬁxed, but the system needs to deal
with more than one item, and diﬀerent subsets of nodes vote
on diﬀerent items. The deﬁnition of transitivity is based
on the following binary relation, which describes whether
a speciﬁed source node trusts a set of nodes A more than
another set of nodes B.

Definition 3. Let G = (N, V+, V−, E) be a voting net-
If s ∈ R+(G), then we say that s trusts V+ more

work.
than V− relative to multigraph (N, E).

For each source node, a binary relation is generated. The
transitivity axiom stipulates that each of these binary rela-
tions must be transitive.

Axiom 5. (Transitivity) For all multigraphs (N, E), s ∈
V , and disjoint A, B, C ⊆ N , if, relative to (N, E), s trusts
A more than B and s trusts B more than C, then s trusts
A more than C.
4.2 Trust Propagation

In this section, we consider propagation of trust.

Intu-
itively, if u trusts v and v trusts w, then u should trust
w, at least to some extent. Much has been written about
trust propagation within social networks (see, e.g., [12]) and
the axiom below is a conservative interpretation that agrees
with much of the literature.

One would like to say that if u trusts nonvoter v, and v
trusts w, then we can simply add an edge from u to w with-
out changing anything. However, our system is supposed to
reﬂect degrees of trust, and this would falsely inﬂate such
trust. Instead, we count edges as follows. Suppose there are
k edges leaving v (that don’t point to u). Suppose that there
happen to be k edges from u to v. Then we can remove k
edges from u to v and replace them by k new edges from u
to the k nodes that v trusts (besides u), and no recommen-
dations should change.

Axiom 6. (Trust propagation) Let voting network G =
(N, V+, V−, E), u (cid:9)= v ∈ V , and suppose that the edges leav-
ing v (besides those to u) are (v, w1), . . . , (v, wk), (wi (cid:9)= u)
E (cid:10) {(u, w1), . . . , (u, wk)}(cid:8) \
for some integer k. Suppose that E contains exactly k copies
of (u, v). Then, for E(cid:3)
{(u, v) ∗ k} and G(cid:3)
R(G(cid:3)

= (N, V+, V−, E(cid:3)

), we have that R(G) =

(cid:7)

=

).

Another natural axiom is scale invariance. Loosely speak-
ing, this means that the amount of trust placed in a node is
relative.

Axiom 7. (Scale invariance) In voting network G =
= (N, V+, V−, E (cid:10)
), where E(cid:3)
is the multiset containing k copies of each of

(N, V+, V−, E), u ∈ V , and k ≥ 1. Let G(cid:3)
E(cid:3)
the edges leaving v. Then R(G) = R(G(cid:3)

).

It states that we can duplicate all edges leaving a node
an arbitrary number of times without changing recommen-
dations.
4.3 Majority and Groupthink

The majority axiom states that a node’s recommendation
should equal the majority of the recommendations and votes
of its trusted neighbors. We say the sign of an edge is posi-
tive, negative, or neutral if it points to a node with positive
vote or recommendation, negative vote or recommendation,
or 0 recommendation, respectively.

Axiom 8. (Majority) Let G = (N, V+, V−, E) be a vot-
ing network, and let let s ∈ V be any nonvoter. Then, the
recommendation of s should be equal to the majority of the
signs of the edges leaving s.

We are using the strict notion of majority as deﬁned in
Section 2. This choice is somewhat arbitrary, though it ﬁts
well with the next axiom. Also note that one can further
axiomatize majority itself, but we leave it as is for the sake
of brevity. Unfortunately, the majority axiom by itself does
not imply unique recommendations on cyclic graphs (think
about a graph with two nonvoters that point to each other).
Instead, we consider the following property.

Groupthink refers to a social phenomenon in which an en-
tire group of people arrive at a ridiculous conclusion through
self-reinforcing interactions. The no-groupthink axiom rules
this out and imposes strong semantics on the system. There
are two parts to this axiom. First, we consider the case that
an entire group of nonvoters are all recommended +. This
strong position should be based on something external, since
no member voted. The requirement is that, among the edges
leaving the group, a majority must point to nodes with +
votes or recommendations. Furthermore, if a majority of
the edges leaving the group point to nodes with + votes or
recommendations, then the group must contain at least one
node with + recommendation.

Since no-groupthink is inconsistent for general directed
graphs, we deﬁne it for speciﬁc graphs. We say that a rec-
ommendation system R avoids groupthink for G if the fol-
lowing holds:

Axiom 9. (No groupthink) Let S ⊆ V be a nonempty
set of nonvoters. Let E(cid:3)
be the multiset of edges in E from
S to N \ S. (a) If S ⊆ R+(G), then a strict majority of the
must point to nodes in R+(G)∪V+. (b) If a strict
edges in E(cid:3)
point to nodes in R+(G) ∪ V+,
majority of the edges in E(cid:3)
then S ∩ R+(G) (cid:9)= ∅.

204WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China(i)

A

s

B

C

(ii)

u

v

s

w

Figure 3: (i) Example demonstrating the impossi-
bility of axioms 1-5. (ii) In this example, s trusts
{u} more than {v}, {v} more than {w} and {w} more
than {u}. The details are described in the text.

When S is a singleton the no-groupthink axiom reduces to
the majority axiom. Hence no-groupthink can be interpreted
as a generalization of the majority axiom to larger sets. Note
that the no-groupthink axiom is incompatible with the scale-
invariance axiom.

5. ANALYSIS SKETCH

In this section, we give intuition underlying the proofs
of the three theorems from Section 1.2. Formal proofs are
deferred to the Appendix.

For Theorem 1, the example in Figure 3(i) is used to
demonstrate impossibility. Relative to the depicted graph,
one can show that s trusts set A more than B, B more than
C, and C more than A, contradicting transitivity. To show
that the set of axioms is a minimal impossible set, we con-
struct ﬁve recommendation systems, each one satisfying all
but one of the axioms. For example, the RW recommenda-
tion system satisﬁes axioms 1-4 but does not satisfy axiom
5 (transitivity).
Figure 3(ii) gives another example worthy of discussion.
When u votes +, v votes −, and w does not vote, it is
reasonable that s should be + due to its extra path to u
through w and the fact that multiple edges in our system
reﬂect additional trust. However, continuing along these
lines, symmetry leads to a cycle in the transitivity relation.
While this argument does not follow from axioms 1-5, it is
suggestive of problems due to transitivity.

For Theorem 2, we ﬁrst apply a sequence of transforma-
tions to the graph, to get the graph to a point in which all
edges lead to voters. Each of these transformations can be
shown, by the axioms, not to change any recommendations.
Moreover, none of these transformations change the recom-
mendations computed by RW. Thus, the problem is reduced
to showing that the theorem holds when all edges point to
voters.

The transformation process iterates through the nonvot-
ers, and, for each non-voter, it removes all incoming edges
by a combination of edge duplication and trust propaga-
tion. When we are left with edges only to voters, axioms
1-4 are still not suﬃcient to determine the recommenda-
tions of nodes due to possible multiple edges. However, by
applying the trust propagation axiom again (in some sense
in reverse), we complete the argument.

For Theorem 4, part (a) on rooted trees is much simpler
than part (b). For part (a), the no-groupthink axiom on

an individual implies directly that its vote will equal the
majority of its outgoing neighbors’ recommendations. This
can be applied from the sinks upwards to get uniquely the
MoM system.

For part (b), our proof is by contradiction. We begin by
assuming that the recommendations do not match those of
the min-cut system and use a case analysis to show that, in
each case, some set of nodes engages in groupthink.

6.

INCENTIVE COMPATIBILITY

Incentive compatibility is a desirable property for voting
systems. In our context, it not only means that an agent
will have incentive to vote according to its prior opinion,
but it means that an agent (or a set of agents) cannot be
more eﬀective by creating false edges (or even false nodes).
To discuss incentive compatibility, one needs to discuss
preferences. We say an agent has positive preferences if an
agent prefers a set of recommendations that is, node by
node, larger than or equal to another set of recommenda-
tions (where + is larger than 0 and −, and 0 is larger than
−). Similarly, for negative preferences.

We say a recommendation system is incentive compatible
if (1) every set of agents with positive preferences is at least
as happy with the outcomes when they all vote + and report
trust honestly, as they would be in any other scenario that
they can collude to create; and (2) the same is true for every
set of agents with negative preferences when they all vote
−.
For example, suppose a set of agents T have positive pref-
erences, and node s (cid:9)∈ T receives a 0 or − when all agents
in S vote +. Incentive compatibility implies that s cannot
receive a greater recommendation when agents in T take any
of the following strategic actions (sometimes called Sybil at-
tacks):

• T creates an arbitrarily large set of ﬁctitious agents F .
• T and F create arbitrary edges between themselves,
and arbitrary outgoing edges from themselves to other
agents.
(They are not allowed to alter edges which
start at non-malicious agents.)

• Arbitrary subsets of S ∪ F vote +, vote −, and do not

vote.

This implies that the set S will never strictly prefer any
outcome (under their control) other than that achieved when
they all vote +. It is relatively straightforward to see that
RW satisﬁes incentive compatibility, as the best strategy
for a group of agents to maximize another node’s vote is to
maximize the probability that the ﬁrst voting node encoun-
tered votes +. Before a random walk reaches that malicious
agents, it is out of their control. Once it reaches them, they
might as well terminate the walk with a + vote.

It is similarly straightforward to verify that the MoM sys-
tem also satisﬁes incentive compatibility if we enforce the
fact that the cheating agents cannot create any cycles in the
graph. Lastly, the min-cut system also obeys the above type
of incentive compatibility. Note that personalized PageRank
does not satisfy incentive compatibility, since a voting node
with positive preferences might have an incentive to alter its
outlinks.

Incentive compatibility is closely linked to axiom 3 (IIS),

but they are not equivalent.

205WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China7. CONCLUSIONS

In this paper, we initiated the axiomatic study of trust-
based recommendation systems. This allows for rigorous
evaluation of recommendation systems. Our work deals both
with a normative approach, where the ramiﬁcations of nat-
ural postulates are considered, and with the descriptive ap-
proach where we aim at fully characterizing particular sys-
tems. In particular, we have found ﬁve basic axioms that
cannot be satisﬁed simultaneously, for which any proper sub-
set can be satisﬁed.
In addition, we have given a sharp
characterization of the random walk recommendation sys-
tem. This was obtained by replacing an axiom capturing a
notion of transitivity with ones capturing trust propagation
and duplication.
Acknowledgments. We thank the attendees of the “DI-
MACS Workshop on the Boundary between Economic The-
ory and Computer Science” for their many helpful com-
ments.

8. REFERENCES
[1] A. Altman and M. Tennenholtz. On the axiomatic

foundations of ranking systems. In Proc. 19th
International Joint Conference on Artiﬁcial
Intelligence, pages 917–922, 2005.

[2] A. Altman and M. Tennenholtz. Ranking systems: the

pagerank axioms. In EC ’05: Proceedings of the 6th
ACM conference on Electronic commerce, pages 1–8,
New York, NY, USA, 2005. ACM Press.

[3] A. Altman and M. Tennenholtz. An axiomatic

approach to personalized ranking systems. In Proc.
20th International Joint Conference on Artiﬁcial
Intelligence, 2006.

[4] A. Altman and M. Tennenholtz. Quantifying incentive

compatibility of ranking systems. In Proc. of
AAAI-06, 2006.

[5] A. Altman and M. Tennenholtz. Incentive compatible

ranking systems. In Proceedings of the 2007
International Conference on Autonomous Agents and
Multiagent Systems (AAMAS-07), 2007.

[6] K. Arrow. Social Choice and Individual Values (2nd

Ed.). Yale University Press, 1963.

[7] P. Avesani, P. Massa, and R. Tiella. A trust-enhanced
recommender system application: Moleskiing. In SAC
’05: Proceedings of the 2005 ACM symposium on
Applied computing, pages 1589–1593, New York, NY,
USA, 2005. ACM Press.

[8] Y. Bakos and C. N. Dellarocas. Cooperation without
enforcement? a comparative analysis of litigation and
online reputation as quality assurance mechanisms.
MIT Sloan School of Management Working Paper No.
4295-03, 2003.

[9] A. Borodin, G. O. Roberts, J. S. Rosenthal, and
P. Tsaparas. Link analysis ranking: algorithms,
theory, and experiments. ACM Trans. Inter. Tech.,
5(1):231–297, 2005.

[10] A. Cheng and E. Friedman. Sybilproof reputation
mechanisms. In P2PECON ’05: Proceeding of the
2005 ACM SIGCOMM workshop on Economics of
peer-to-peer systems, pages 128–132, New York, NY,
USA, 2005. ACM Press.

[11] R. Dash, S. Ramchurn, and N. Jennings. Trust-based

mechanism design. In Proceedings of the Third

International Joint Conference on Autonomous Agents
and MultiAgent Systems, pages 748–755, 2004.

[12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.

Propagation of trust and distrust. In WWW ’04:
Proceedings of the 13th international conference on
World Wide Web, pages 403–412, 2004.

[13] T. Haveliwala. Topic-sensitive pagerank. In WWW

’02: Proceedings of the 11th international conference
on World Wide Web, pages 517–526, 2002.

[14] T. Haveliwala, S. Kamvar, and G. Jeh. An analytical
comparison of approaches to personalizing pagerank,
2003. Technical report, Stanford University.

[15] D. Houser and J. Wooders. Reputation in auctions:

Theory and evidence from ebay. Working Paper,
University of Arizona, 2000.

[16] J. M. Kleinberg. Authoritative sources in a

hyperlinked environment. Journal of the ACM
(JACM), 46(5):604–632, 1999.

[17] R. Levien. Attack Resistant Trust Metrics. PhD thesis,

University of California, Berkeley, 2002.

[18] P. Massa and P. Avesani. Controversial users demand

local trust metrics: An experimental study on
epinions.com community. In Proc. of AAAI-05, pages
121–126, 2005.

[19] L. Page, S. Brin, R. Motwani, and T. Winograd. The
pagerank citation ranking: Bringing order to the web.
Technical Report, Stanford University, 1998.

[20] Pennock D. M., Horvitz E., and Giles C. L. Social

Choice Theory and Recommender Systems: Analysis
of the Axiomatic Foundations of Collaborative
Filtering. In Proceedings of the National Conference
on Artiﬁcial Intelligence (AAAI-2000), pages 729–734.
AAAI Press, 2000.

[21] P. Resnick and R. Zeckhauser. Trust among strangers
in internet transactions: Empirical analysis of ebay’s
reputation system. Working Paper for the NBER
workshop on empirical studies of electronic commerce,
2001.

[22] P. Resnick, R. Zeckhauser, R. Friedman, and

E. Kuwabara. Reputation systems. Communications
of the ACM, 43(12):45–48, 2000.

[23] A. P. Singh, A. Gunawardana, C. Meek, and A. C.

Surendran. Recommendations using absorbing random
walks. Manuscript under submission.

[24] G. Slutzki and O. Volij. Ranking participants in

generalized tournaments. International Journal of
Game Theory, 33(2):255–270, 2005.

[25] M. Tennenholtz. Reputation systems: An axiomatic

approach. In Proceedings of the 20th conference on
uncertainity in Artiﬁcial Intelligence (UAI-04), 2004.

APPENDIX
A. PROOF OF THEOREM 1

First, we show that there exists a recommendation that
satisﬁes any proper subset of the axioms. In the following
cases, we consider a voting network G = (N, V+, V−, E) and
source s ∈ N .
1. System without symmetry. Consider the trivial rec-
ommendation system that always recommends +. This sys-
tem trivially satisﬁes the remaining axioms.
2. System without positive response. Consider the

206WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, Chinatrivial recommendation system that always recommends 0.
This system trivially satisﬁes the remaining axioms. (Recall
that axiom 4, neighborhood consensus, refers only to distinct
non-voters.)
3. System without neighborhood-consensus. Con-
sider the recommendation system which assigns to each non-
voter u the recommendation equal to sgn(a − b) where a is
the number of edges from u to positive voters and b is the
number of edges to negative voters. It is symmetric, neu-
tral, and obeys positive response. It obeys IIS since imme-
diate neighbors of s are reachable and can not be removed.
Transitivity is implied by the fact that this “local majority”
system simply counts the number of edges leading to a set of
nodes; since the number of edges connecting to X ⊆ Succ(s)
is ﬁxed, it obeys transitivity.
4. A System Without IIS. In order to design a rec-
ommendation system that satisﬁes all axioms except IIS,
deﬁne S+ to be the set of nodes u ∈ N that have at least
one outgoing neighbor, and all of whose outgoing neighbors
are in V+ and have no neighbors other than u. (These are
essentially the nodes described in the consensus axiom, ex-
cept that it applies to voters as well, e.g., S+ ∩ V− is not
necessarily empty.) Similarly deﬁne S−. For any nonvoter
s ∈ V , the recommendation to s is + if s ∈ S+, − if s ∈ S−.
For all of the remaining nonvoters, the recommendation is
sgn(|S+ ∪ V+| − |S− ∪ V−|).

It is easy to see that this recommendation system satisﬁes
symmetry. The positive response axiom follows from the fact
that the recommendation 0 for s can be generated only when
|S+ ∪ V+| = |S− ∪ V−|. Adding a new positive voting node
w that is pointed to by only s must increase |S+ ∪ V+| and
cannot increase |S−∪V−|, since s (cid:9)∈ S−∪S+∪V−∪V+. To see
that the system satisﬁes neighborhood consensus, note that
moving a nonvoter from S+ to V+ doesn’t change any the
sets in any other way. Finally, to see that the system satisﬁes
transitivity, consider disjoint A, B, C ⊆ N and s ∈ N such
that s trusts A more than B and B more than C. Note that
S+ depends only on V+ and is independent of V−. Also note
that switching the sign of the votes switches the sets S+ and
S− due to the symmetry of the algorithm.
Next consider two cases. In case 1, suppose that s ∈ S+
when V+ = A. This means that s will receive a positive
recommendation when V− = C so s trusts A more than C.
In case 2, s (cid:9)∈ S+ when V+ = A. Since s trusts A more
than B and B more than C, this means in particular that
s (cid:9)∈ S+ when V+ = B nor when V+ = C (and s (cid:9)∈ S−
when V− = B or V− = C). Hence, in all cases, s’s vote
will equal sgn(|S+ ∪ V+| − |S− ∪ V−|). Thus |S+ ∪ V+| is
a measure of trust of s in a set V+, and hence the system
obeys transitivity.
5. A System Without Transitivity. Theorem 2 implies
that RW, the random walk recommendation system, satisﬁes
axioms 1-4.
6. Inconsistency Now we prove that there is no recom-
mendation system satisfying axioms 1-5. Consider the graph
(V, E) depicted in Figure 3(i). We claim that s trusts A more
than B and s trusts B more than C, but s does not trust A
more than C. This will prove impossibility.

To see that s trusts A more than B, consider the voting
network G = (V, A, B, E). By the IIS axiom, we can ignore
the edges from B to C without changing the recommenda-
tion to s, to get voting network G(cid:3)
. Next imagine removing
one of the nodes in A (and its associated edge) to get voting

. Since G(cid:3)(cid:3)

network G(cid:3)(cid:3)
is a star graph with three + votes,
three − votes, and 2 nonvoters aside from s, the recommen-
dation for s has to be 0 by the symmetry axiom. By positive
response, therefore, the recommendation for s in G(cid:3)
has to
be + and hence s trusts A more than B.

To see that s trusts B more than C, consider the voting
network G = (V, B, C, E). Again by the IIS axiom, we can
ignore the edges from B to C without changing the recom-
mendation to s. We are now again in a star graph with 3 +
votes, 2 − votes, and 4 0 votes. By symmetry and positive
response, as above, the recommendation to s must be +,
which is what we needed.

Finally, to see that s does not trust A more than C, con-
sider the voting network G = (V, A, C, E). By three appli-
cations of neighborhood consensus we can take the votes of
B to be all −. By IIS we can transform the graph yet again
into a star graph, this time with 5 − votes and 4 + votes.
As reasoned above, the recommendation to s must be −,
and hence s does not trust A more than C.

B. PROOF OF THEOREM 2

We ﬁrst apply a sequence of transformations to the graph,
to get the graph to a point in which all edges lead to vot-
ers or sink nonvoters. Each of these transformations can be
shown, by the axioms, not to change any recommendations.
Moreover, none of these transformations change the recom-
mendations computed by RW. Hence, it suﬃces to show the
theorem for the case where all edges point to voters or sink
nonvoters.

The transformation removes all edges pointing to any sin-
gle nonvoter (that is not a sink), as follows. Take a node
v which is a nonvoter but has out-degree k > 0. Take any
other node u that points to v (cid:4) > 0 times. We will ap-
ply trust propagation to remove these edges to v, without
adding other edges to v. To do this, we apply (cid:4)-fold edge du-
plication (scale invariance) to v and k-fold edge duplication
(scale invariance) to u without changing any recommenda-
tions. This makes the number of edges from u to v equal
to (cid:4)k and the out-degree of v also equal to (cid:4)k. Hence, we
can apply trust propagation to remove all edges from u to
v. This can be applied in turn to each node that points
to v, to get a graph where all edges point to voters or sink
nonvoters.

Note that each of these transformations does not change
the recommendations of the RW system, either. The reason
is that RW obeys scale invariance and trust propagation,
which can be seen easily from the random walk deﬁnition.
When the random walk reaches a non-sink nonvoter, it con-
tinues on a random edge out of that nonvoter. The trust
propagation simply provides a “shortcut” which exactly sim-
ulates two steps of the random walk at this point.

So, without loss of generality, it suﬃces to show the RW
system is correct for a graph with only edges pointing to vot-
ers and sink nonvoters. Consider any source s and the sub-
graph reachable from that source via directed edges through
nonvoters. If no voter had multiple edges pointing to it, then
the theorem would follow from positive response and sym-
metry. The reason is that when there were an equal number
of + and − voters, by symmetry the recommendation of s
would have to be 0, regardless of the structure of edges to
nonvoter sinks. By positive response, adding any number of
edges from s to more new + voters would cause the recom-
mendation of s to become positive (similarly for − voters).

207WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, ChinaThe case that remains is where there are multiple parallel
edges to voters. Say we have a +-voter v with k incoming
edges (and, without loss of generality, no outgoing edges).
By neighborhood consensus, we can change such a voter to
a nonvoter and add a number of outgoing edges to k new,
distinct + voters that have no other neighbors. Now we can
apply trust propagation to v to get a new graph where all
edges pointing to v have been replaced by edges pointing
directly to new nonvoters, without changing recommenda-
tions or the behavior of RW. In addition, we can remove
v without changing s’s recommendation, since there is no
path from s to v. We can apply this procedure to each +
and − voter with more than one incoming edge, until all
voters have in-degree 1. The result for this case then follows
from the argument in the above paragraph.

C. PROOF OF THEOREM 3

Without loss of generality, we assume there are no edges
between pairs of voters. Part (a) follows trivially from the
majority axiom and the fact that any directed acyclic graph
can be partitioned into levels, where each edge is from a
node in a higher level to a node in a lower level.

For Theorem 4(b), we ﬁrst state an interesting property

of the min-cut system.

Lemma 1. Let G = (N, V+, V−, E) be a voting network
and R(G) be the recommendations of the min-cut system.
Let C the multiset of edges between nodes in R+(G) and
nodes in V− ∪ R−(G)∪ R0(G) plus with those between nodes
in R−(G) ∪ R0(G) and nodes in V+. Then C is a min-cut.

Note that this lemma is asymmetric, we have essentially put
all 0 recommendations with the negative recommendations.

Proof. Given cuts C and C(cid:3)

, and their corresponding node sets C+ and C(cid:3)

deﬁne the max of the two
min-cuts as follows. For any cut C, let the node-set C+ be
the set consisting of +-voters and also nonvoters that can
reach any + voter after C has been removed. Given min-cuts
C and C(cid:3)
+, the
max of the two min-cuts is deﬁned to be the cut that cuts
any edges between nodes in C+ ∩ C(cid:3)
+).
(Note that the node-set corresponding to the max of the
two cuts is simply C+ ∩ C(cid:3)
+.) By repeated application of
this observation, we get the lemma, because the intersection
of all node-sets corresponding to min-cuts gives exactly the
cut described by the lemma.

+ and N \ (C+ ∩ C(cid:3)

It remains to show that the max of C and C(cid:3)

is a min-cut
by itself. To do this, it is helpful to deﬁne the min of two
min-cuts, which is the completely symmetric notion to the
max. Let the max be A and the min be B. It is not hard to
, where (cid:10) denotes multiset
see that multisets A(cid:10) B ⊆ C (cid:10) C(cid:3)
union. The reason is that the number of times a given edge
is cut by C and C(cid:3)
(0, 1, or 2) is at least as great as the
number of times it is cut by A and B (those edges between
C+ \ C(cid:3)
+ \ C+ are not cut at all by A or B). Thus
|A| +|B| ≤ |C| +|C(cid:3)|. Furthermore, A and B are both cuts.
Hence, at least one of them, say A, must no larger than C
, which have the same size. But |A| = |C| = |C(cid:3)|
and C(cid:3)
are min-cuts. Hence, |B| = |A| and they are
since C and C(cid:3)
all min-cuts.

+ and C(cid:3)

We ﬁrst argue that the min-cut system satisﬁes the group-
think axiom. Consider ﬁrst part (a) of groupthink. Suppose

S ⊆ R+(G) is a subset of the nonvoters that are all given
positive recommendations. These nodes are all connected to
positive voters in every min-cut. Take the min-cut deﬁned
in the above lemma. Now, for the purposes of contradiction,
suppose S does not have a majority of positive edges leav-
ing it. Then we claim that we could ﬁnd another min-cut
C(cid:3)
in which no node in S is connected to a + voter, which
violates the deﬁnition of the min-cut system. In particular,
we would take C(cid:3)
to be the cut which is equal to C, except
that it also cuts all positive edges leaving S and does not
cut any negative or neutral edges leaving S. This is a cut
because C was a cut and no new paths between positive and
negative voters have been created – they would have to go
through S but S has no positive edges and thus is discon-
nected from the positive voters. Furthermore, C(cid:3)
would not
be larger than C because we have assumed that S does not
have a majority of positive edges leaving it. Hence, we have
a min-cut and the desired contradiction. The argument for
the case where S all has negative recommendations follows
by symmetry of the system.

We next argue that the min-cut system satisﬁes Group-
think (b). For the purposes of contradiction, suppose we
have a set S ⊆ R−(G) ∪ R0(G) such that S has a ma-
(The other case, where
jority of positive outgoing edges.
S ⊆ R+(G) ∪ R0(G) such that S has a majority of negative
outgoing edges, is similar.) Again, take the min-cut C de-
ﬁned by the above Lemma. Consider the cut C(cid:3)
which is
the same as C but where we have also cut all negative and
neutral edges from S and haven’t cut any positive edges. As
in the previous argument, this remains a cut and is smaller
than C, giving us the desired contradiction.

−(G)∪R(cid:3)

−(G)∪ R(cid:3)

(G) satisfy the groupthink axiom.

It remains to show that the min-cut system is the unique
system implied by the groupthink axiom. Suppose not. Sup-
pose that on some undirected graph, diﬀerent recommenda-
tions R(cid:3)
0(G))∩R+(G) is nonempty.
Case 1: The set S = (R(cid:3)
Since we have shown that the min-cut system satisﬁes group-
think and S ⊆ R+(G), this means that a strict majority of
edges between S and N \ S are between a node in S and
a node in V+ ∪ (R+(G) \ S). However, by deﬁnition of S,
(R+(G)\ S)∩ (R(cid:3)
0(G)) is the empty set, or in other
words R+(G) \ S ⊆ R(cid:3)
+(G) since every nonvoter has either
a −, 0, or + recommendation in R(cid:3)
. This gives us the de-
sired contradiction because we have more than half of the
+(G) ∪ V+, which
edges leaving S pointing to nodes in R(cid:3)
contradicts Groupthink (a).
0(G)) ∩ R−(G) (cid:9)= ∅. This
+(G) ∪ R(cid:3)
Case 2: The set (R(cid:3)
follows from the previous case by symmetry.
0(G)) ∩ R+(G) = (R(cid:3)
−(G) ∪ R(cid:3)
+(G) ∪
Case 3: The sets (R(cid:3)
0(G)) ∩ R−(G) = ∅, but T = R(cid:3)
+(G) ∩ R0(G) (cid:9)= ∅. Again,
R(cid:3)
because the min-cut system satisﬁes groupthink, the set T
which is unanimously 0 under R cannot have a strict major-
ity of its edges pointing to nodes in (R+(G)∪ V+)\ T . How-
ever, it is unanimously positive under R(cid:3)
, so it must have a
+(G)∪V+)\T .
strict majority of edges pointing to nodes in (R(cid:3)
However, by our choice of T , these two sets are equal.
+(G) ∪
0(G)) ∩ R+(G) = (R(cid:3)
Case 4: The sets (R(cid:3)
0(G)) ∩ R−(G) = ∅, but R(cid:3)
−(G) ∩ R0(G) (cid:9)= ∅. This follows
R(cid:3)
from the previous case by symmetry.
The above four cases cover all possibilities in which R(cid:3) (cid:9)=

−(G) ∪ R(cid:3)

R.

208WWW 2008 / Refereed Track: Internet Monetization - Recommendation & SecurityBeijing, China