The growth of the Internet has created numerous opportunities for crowdsourcing tasks to online  workers .
Specialized marketplaces for crowdsourcing have emerged, including Amazon s Mechanical Turk (henceforth MTurk [1]) and Click Worker1, enabling  requesters  to post HITs (Human Intelligence Tasks), which can then be carried out by pools of workers available online and suitable for the task.
Some of the tasks that are posted on these platforms include image annotation, rating the relevance of web pages for a query in search engines, translation of text or transcription of an audio recording.
Similarly, in platforms like social networks, users can be compensated for participation in a viral marketing campaign.
The requester generally has a limited budget for the task and needs to come up with a payment scheme for workers in order to maximize the utility derived from the task.
For workers, the main goal is to maximize their individual pro t by deciding which tasks to perform and at what price.
Monetary incentives in crowdsourcing tasks.
One of the central components of these platforms is to design the right incentive structure and pricing policies for workers that maximize the bene ts of both requester and the workers.
Overpricing the tasks would result in ine cient use of the requester s budget, whereas underpricing could lead to task  starvation  because of unavailability of the workers willing to participate.
In this light, how can one design optimal pricing policies?
How can workers communicate and negotiate the price with requesters?
How would the market behave if workers act strategically by misreporting their costs for their bene t?
These are some of the questions that naturally come to mind while studying incentive structures for these online markets, yet they are not well understood.
Pricing models.
Current crowdsourcing platforms o er limited capability to the requester in designing the pricing policies, mostly limiting them to a single  xed price ( xed price model  ).
One way to set prices under such models is to estimate workers  costs via a market analysis and then compute an optimal  xed price which would maximize the utility.
However, there are many di culties in inferring this optimal  xed price, including the high cost of market surveys, the dynamic and online nature of the labor markets, inexperience of the requester and challenges in soliciting true costs from workers because of their self-interest.
An alternate approach is to use tools of online procurement auctions where workers can bid on the price they are willing to receive 1http://www.clickworker.com/ 1167and the requester s mechanism can decide on the allocation and prices to be paid to workers.
In this  bidding model  , mechanisms need to be truthful: it should be a dominant strategy for rational workers to bid their true cost.
However, communicating these true costs to the requester may be challenging in real world settings.
The worker may typically not trust the requester and understand the mechanism to reveal their true cost or the cost may not even be known to a worker and perhaps di cult to determine.
Instead of soliciting the workers  costs, an often more natural setting is the  posted price model   where workers are o ered a take-it-or-leave-it price o er.
The mechanism interacts with each worker once in a sequential manner and adjusts the o ered price from past responses of the workers.
In this paper, we present a novel posted-price mechanism, BP-UCB, for online budgeted procurement, which is guaranteed to be budget feasible, achieve near-optimal utility for the requester, be incentive compatible (truthful) for workers and make minimal assumptions about the distribution of workers  true costs.
On the theoretical side, we present a novel mathematical analysis which exploits a link between procurement auctions and multi-armed bandits   a classical problem in online learning and experimental design   to prove regret bounds for the mechanism.
BP-UCB builds on and extends existing mechanisms using multi-armed bandits for online auctions [25, 6] to procurement auctions under budget constraints.
However, the mechanisms of [25, 6] are not directly applicable as they optimize a di erent objective, which leads to a substantially di erent mathematical analysis.
Our analysis further yields insights into an explicit separation of the regret in terms of wasted budget through overpayment and rejected o ers through underpayment.
Additionally, our BP-UCB approach substantially improves upon the existing mechanisms for procurement auctions which are designed to achieve constant multiplicative approximation ratios [32, 8], which can lead to high additive regret.
We further carry out extensive experiments to compare the performance of BP-UCB with optimal benchmarks, as well as the state of the art mechanism of [8].
To the best of our knowledge, this is the  rst empirical study of posted-price mechanisms in procurement auctions.
Apart from experimenting with simulated workers  cost distributions, we perform experiments using data gathered from an MTurk study to demonstrate the e ectiveness of our approach on real world inputs.
The results con rm the e ectiveness and the practical applicability of using BP-UCB as posted price mechanism on crowdsourcing platforms.
Understanding incentives in crowdsourcing tasks.
There has been growing interest in understanding the right incentives for workers in online labor markets.
[21] present a model of workers and introduce methods to estimate workers  appropriate wages.
The  hagglebot  of [22] negotiates payment rates for an image-labeling task with workers on MTurk.
[28, 29] study other, non-monetary incentives that could improve the quality of workers  performance.
[17] applies no-regret learning to better understand prediction markets and improve the results of information aggregation from crowds.
Multi-armed bandits (MAB) & regret minimization.
The MAB problem is a natural formalism for studying settings where an agent repeatedly chooses among actions with uncertain rewards, and must trade exploration (gathering information about rewards) and exploitation (maximizing rewards obtained).
A primary objective is to design no-regret algorithms which guarantee that the average regret approaches zero asymptotically over time when compared to the single best action in hindsight.
MAB and regret minimization algorithms have been studied extensively and [13] gives a good overview.
[3] introduces the UCB1 algorithm, which maintains an index (known as Upper Con dence Bound) on the actions and avoids explicit separation of exploration and exploitation by picking the action with the highest index.
[24, 4, 10, 33] extend this approach to handle complex (possibly in nite) action spaces.
Recently, budgeted variants of the MAB problem, where actions have di erent known costs, have been considered in [34, 36, 35].
[37] solves the crowdsourcing task whereby the goal is to learn workers  e ectiveness as part of exploration.
In our setting, in contrast, the costs are unknown and budget is utilized only in rounds when the o er is accepted by the worker   none of the standard approaches apply to this setting.
Learning in online auctions.
Competitive online auctions were introduced in [26, 9].
These results were further extended and improved by using insights from regret minimization algorithms in [12, 11, 25].
[16] further extend the online posted price mechanisms for multi-parameter domains.
[20, 18] study the auction problem with limited supply in the bidding model under stochastic arrival of the agents.
[6] extends these results to the posted price model, by using insights from MAB problems.
Our mathematical analysis builds on the results of [6].
However, in contrast, we consider dynamic pricing for procurement (reverse) auctions under a budget constraint.
The results from [25, 6] are not applicable to this setting.
In fact, straightforward application of the mechanisms of [25, 6] in our setting would simply o er the highest price, as that maximizes the utility of the action (acceptance of the price by the worker), though quickly exhaust the budget (and incur large regret).
Online procurement auctions.
Mechanisms for procurement auctions have been extensively studied.
Earlier work [2, 23, 14] concerns the frugality of mechanisms with the goal of procuring a feasible solution to a complex problem while minimizing the budget spent.
In contrast, we are interested in studying truthful budget feasible mechanisms initiated recently in [30, 31].
Recent research addresses various models of budget constraints including the online knapsack secretary problem [7] and the weighted secretary problem [5].
However these are not directly applicable to truthful procurement mechanisms.
[32] and [8] study a problem that is perhaps most similar to ours: they develop mechanisms for budgeted procurement in the stochastic setting for the bidding and posted price model respectively, and prove constant multiplicative bounds.
In contrast, our mechanisms use the regret minimization framework, and we prove additive bounds on the regret.
We note that mechanisms of constant multiplicative bounds could have arbitrarily poor performance in terms of additive regret.
[32, 8] are also used as benchmarks for our experiments and our mechanism BP-UCB shows a substantial improvement over the state of the art mechanism of [8].
We now formalize the problem addressed in this paper.
The requester and workers.
There is a principal agent, the  requester , who posts the crowdsourcing task.
A task is composed of atomic assignments, which can be performed by individual  workers .
The requester has a budget B > 0 and a utility function over completed assignments.
In this work, we assume that each assignment performed by a worker has unit value, thus the requester wishes to maximize the number of completed assignments subject to the budget constraint.
There is a  nite pool of workers, denoted by W .
Each worker wi   W is associated with a private cost ci   R 0 for performing an assignment and bi   R 0 is their bid or reported cost.
We are interested in truthful mechanisms where it is a dominant strategy for worker wi to report bi = ci.
We assume that costs have known bounded support, i.e., ci   [cmin, cmax] where cmin and cmax are the parameters of the problem, scaled such that cmin > 0 and cmax   1.
We note that the assumption of bounded costs naturally holds in online crowdsourcing platforms like MTurk, which generally enforce a publicly known minimal and maximal allowed payment for the assignments.
We will keep the range of the costs  xed, and consider varying the budget.
Also, the number of assignments per worker is normally set to one in MTurk.
Furthermore, we assume that there are at least N workers where N   B .
We note that limiting the pool size to a much smaller number would lead to further constraints in our mechanism design in addition to the budget constraint and is beyond the scope of this work.
However, having a very large, essentially in nite pool of workers would make the problem trivial as the mechanism can o er lowest possible prices without any overall loss of utility.
We further discuss this issue in Section 6.
cmin Online arrival of workers.
We are interested in online settings where workers arrive one at a time.
We focus on stochastic arrival of workers, where their costs are i.i.d.
sampled from a distribution f (i.i.d model ).
We let F : [cmin, cmax]   [0, 1] denote the cumulative distribution function (CDF) of costs associated with the workers.
Note that the stochastic arrival assumption may be violated in real online markets.
This could be because of various factors, for example, if the workers  value of service increases over time and hence so does their cost.
This non-stochastic setting is often called the oblivious adversary model.
In our experiments, we empirically evaluate the robustness of our mechanisms in presence of such adversarial noise.
Optimal benchmarks.
Consider an (unrealistic) o ine mechanism with complete access to the pool of workers  true costs.
The maximal utility in this setting can be achieved by sorting the workers by their increasing costs and o ering each worker their true cost until the budget is exhausted.
We denote this benchmark by OPT-Var, i.e., the optimal variable price benchmark.
An alternate benchmark of interest is a mechanism that is limited to o er a single  xed price to all workers, though this price is computed optimally assuming full knowledge of workers  costs.
We denote this by OPT-Fix.
Note that these benchmarks are o ine, untruthful and assume full knowledge of the workers  costs.
It seems natural to compare our online truthful mechanisms to the optimal truthful mechanism in o ine settings.
The utility of any single priced o ine truthful mechanism is bounded by OPT-Fix and [19] shows that the performance of OPT-Fix is close to that of OPT-Var.
Further, recent results in procurement auctions from [30, 8] show that OPT-Fix is only a factor of 2 away from OPT-Var for modular as well as symmetric submodular functions and this is the best approximation that any truthful mechanism can achieve.
Therefore we will compare our mechanisms against this benchmark.
This optimal o ine  xed price denoted by p , as illustrated in Figure 1, is given by: (cid:110) (cid:111)   p = arg max min p F (p),
 N p s.t.
p   [cmin .
.
.
cmax].
Utility and Regret.
For a  xed budget B, let U (M, B) denote the expected utility of mechanism M and U (p, B) denote the expected utility of  xed price p. In the regret minimization framework, we are interested in comparing the regret w.r.t.
to the best single price p  o ered in hindsight.
The expected regret of mechanism M is given by   RM (B) = U (p
 where U (p , B) = B p  .
We write R instead of RM where the mechanism M is clear from context.
Using this notation, our goal is to design mechanisms M where the average regret of the mechanism approaches zero asymptotically, i.e., lim




 = 0.
We begin by describing the high level ideas behind our mechanisms.
Then, we design BP-DGreedy for the bidding model and subsequently extend it to arrive at our main mechanism, BP-UCB, for posted prices.
In Section 4.4, we analyze the mechanisms and prove the regret bounds.
Background on classical MAB.
In the classical MAB setting [13, 3], there are K independent choices ( arms ) associated with unknown reward distributions.
A MAB algorithm operates in discrete timesteps (rounds) and pulls an arm in each round to get a stochastic reward associated with that arm.
The algorithm needs to  explore  by experimenting with potentially suboptimal arms so as to learn about the optimal arm.
Meanwhile, to maximize the reward, it has to  exploit  its learning by pulling the arm that appears best.
The goal of the algorithm is to minimize the regret by quickly converging to the optimal arm.
Learning the cost curve and connection to MAB.
The main challenge in deciding the payments in our problem is the unknown distribution of the workers  cost ( cost curve ).
The mechanism interacts with workers sequentially in discrete timesteps denoted by t, o ering a price pt at each timestep to worker wt and adjusting the estimates of the cost curve based on observed feedback.
In order to cast our problem in the MAB framework, we discretize the prices by creating a set of K price  arms  using a multiplicative factor of (1 +  ), where   is a parameter of the mechanism, similar to [12, 6], as illustrated in Figure 1.
For these K arms, we maintain F t i as an estimate of the CDF of workers  costs for price pi at time t. The mechanism stops execution when the budget or the pool of workers is exhausted.
At each timestep, our mechanisms will pick the arm it based on some optimization criterion.
Unfortunately, the presence of the budget constraint breaks the standard MAB algorithms: The optimal arm in terms of utility is the one corresponding to the maximal price, though it would quickly exhaust the


   Prices.
p0 = cmin; pi = (1 +  ) pi 1; pK = cmax;   Variables.
time: t = 0; budget Bt = B; utility: U = 0;   Value estimates.
F t begin i = 0;





 while Bt > cmin & t < N do it = arg maxi V t i s.t.
pi   Bt; /* ties broken by picking lowest i */ ; O er price pt = pit to worker wt; Observe bid bt;  i, Update F t Set U = U + St i = F t it ; Bt+1 = Bt   pt St i + (St i F t i ) (t+1) ; it ; t = t + 1; end end

 i , denoted by (cid:102)F t cally estimate the values (cid:102)V t best arm based on (cid:102)V t Next, we present our main mechanism, BP-UCB (UCB for budgeted procurement, see Mechanism 2) for the posted price model, where we get to see acceptance or rejection feedback only for the price o ered.
This limited feedback leads to a natural exploration-exploitation tradeo  as in MAB problems.
We tackle this problem by modifying BP-DGreedy, whereby we maintain upper con dence bounds on F t i , which are then used to optimisti-i .
The mechanism then picks the i and o ers a take-it-or-leave it price pt.
Based on the feedback from the worker, it updates the parameters only for the arm it.
This approach is inspired from the classical UCB1 algorithm [3].
However, the budget constraints make the analysis of regret bounds nontrivial.
We further exploit the correlation between the arms, as a rejection response actually means rejection for all  cheaper  arms.
Similar to [11], we use this correlation to further improve the execution performance of the mechanism by keeping an estimate of the lower bound of the cost curve s support and keeping all the arms (except one) below this estimate as inactive.
This modi cation does not hurt the theoretical guarantees described in Section 4.4.
We now prove regret bounds for our mechanisms BP-DGreedy and BP-UCB.
We begin with the analysis of BP-DGreedy and develop the mathematical tools that will be useful for the analysis of BP-UCB.
A crucial challenge in dealing with the budget constraint lies in the fact that while higher prices are more  e ective  since more workers would accept the o er, they would quickly exhaust the budget leading to reduced overall utility.
Components contributing to the regret.
There are essentially three components contributing to the regret.
The  rst is the discretization of the prices: Since the mechanism does not have access to the optimal price p , p(cid:48) is the best price available.
After accounting for the regret of  discretiza-tion , we can consider an alternative mechanism M(cid:48) which has access to an additional arm corresponding to p .
Considering M(cid:48), the second component of the regret is attributed to pulling arms with prices pi < p  as cheaper arms are less e ective and result in more rejected o ers.
The third Figure 1: B/p represents the budget constraint, i.e. maximum utility that can be achieved given an in nite pool of workers.
N   F (p) represents the utility with unlimited budget.
The optimal price p  lies at the intersection of these two curves.
Discretized K prices are used by our mechanism, p(cid:48) corresponds to the optimal price among these K prices.
available budget, leading to diminished utility.
Further, we can exploit the fact that the price arms are correlated in our case: Acceptance at an o ered price means acceptance for all more  expensive  arms and rejection at an o ered price means rejection for all  cheaper  arms.
Additional notation.
We need to introduce some more notation in order to describe our mechanisms.
Let i(cid:48)   {1, .
.
.
, K} denote the index of the optimal price among the K discretized prices, p(cid:48) denote the corresponding price and F (cid:48) the value of function Fi(cid:48) = F (p(cid:48)).
As illustrated in Figure 1, i(cid:48) is given by: (cid:110) (cid:111)  i   [1 .
.
.
K].
(cid:48) i = arg max min i Fi,
 N pi We let Bt be the budget remaining at time t, N t i be the number of times pi price has been o ered, St i be the indicator random variable indicating bt   pi and T be the total number of rounds of execution of the mechanism (until the budget is exhausted or all the workers have been seen by the mechanism).
Let us de ne Vi = min i be the estimate of Vi at round t. We further use  i = Vi(cid:48)   Vi.
Fi, B N pi (cid:110) (cid:111) , V t We begin by designing a mechanism, BP-DGreedy (deterministic greedy for budgeted procurement), for the bidding model (see Mechanism 1) in order to gain insights into the problem and develop mathematical foundations for the posted price model.
The mechanism solicits the workers  bid bt about service cost and then o ers them a price pt, based on past observations of workers  bids, which the worker can accept or reject.
A natural approach towards ensuring truthful bids is to make the o ered price independent of the bid of the current worker.
Because of this truthfulness, we have bt = ct, which makes this mechanism resemble online learning with full information (refer [13, 27, 15]).
This intuitively means that the mechanism gets to compute response feedback it would have received for any possible action.
We now discuss how to pick the arm it to make a price o er pt independent of bt.
The intuition is simple: BP-DGreedy just tracks the expected utility V t i of the arms based on the estimated F t i and o ers the price corresponding to the best arm at time t. Based on the observed bid, it updates the estimates of F t i for all the arms by simply maintaining the average response of acceptance at arm i.
U.lity Price Cost Curve, Budget Constraint and Op3mal Prices x
 B/p N*F(p) p* p' Discre3zed
 prices


   Prices.
p0 = cmin; pi = (1 +  ) pi 1; pK = cmax;   Variables.
time: t = 0; budget Bt = B; utility: U = 0;   Value estimates.
N t begin i = 0; F t i = 0; while Bt > cmin & t < N do i = F t (cid:113) 2  ln(t) (cid:102)F t (cid:110)(cid:102)F t (cid:102)V t it = arg maxi(cid:102)V t i = min i + (cid:111) ; N t i i , B N pi i s.t.
pi   Bt; ;







 /* ties broken by picking lowest i */ ; O er price pt = pit to worker wt; Observe acceptance decision yt; it +1) ; N t Update F t Update U = U + yt; Bt+1 = Bt   pt yt; t = t + 1; (yt F t (N t it = N t it = F t it + 1; it + it ) end end
 component of the regret is attributed to pulling arms with prices pi > p .
Though these  expensive  arms are more effective than the price p , they overpay and quickly exhaust the budget.
We formalize the above discussion in Lemma 1.
Lemma 1.
The expected regret RM (B) of any mechanism M can be expressed in terms of three components as follows:
 + (cid:16) B (cid:17) (cid:124) (cid:123)(cid:122) (cid:125) p    B p(cid:48) E(cid:2)N T (cid:88) Discretization i + (cid:88) E(cid:2)N T (cid:3) (cid:0)F (cid:124) (cid:123)(cid:122) (cid:3) (cid:0)pi Fi   p F  (cid:1) i:pi<p  i Rejected o ers (cid:124) i:pi>p  p  (cid:123)(cid:122)     Fi + cmin p  (cid:1) (cid:125) (cid:125) Wasted budget through overpayment
 The proof is given in Appendix A.
Regret bounds for BP-DGREEDY.
To obtain the desired regret bounds for mechanism BP-DGreedy from Lemma 1, we need to bound N T i , as well as the regret of for an execution of BP-discretization.
We bound the N T i DGreedy using the Cherno Hoe ding concentration inequalities as in [3].
By exploiting the ordering of arms, we are able to separately provide bounds for N T for arms with i prices pi < p(cid:48) and pi > p(cid:48).
For our analysis, we consider four separate cases based on whether F t i(cid:48) is less or greater than N p(cid:48) and based on relative ordering of p(cid:48) compared to p .
This insight crucially simpli es the analysis, enabling us to use the tools from the original UCB1 analysis in bounding each one of these four cases separately.
Theorem 1 provides the desired regret bounds for BP-DGreedy.
Theorem 1.
The expected regret of mechanism BP-DGreedy is upper-bounded as follows:  B p  + RBP-DGreedy(B) <
 (cid:88) (cid:0)pi Fi   p F  (cid:1) i:pi<p  (cid:1)  2 i (cid:88) + i:pi>p 
 i p  + cmin p  The proof is given in Appendix A.2.
Next, we prove the no-regret property of mechanism BP-DGreedy by using an appropriate choice of the discretization factor  , similar to the choice made for the problem of online auctions with limited supply in [6].
Corollary 1.
The expected average regret of mechanism BP-DGreedy w.r.t.
the budget size B goes to zero asymptotically for appropriate choice of  .
Proof.
By setting   to O(cid:0) ln(B/cmin) regret of BP-DGreedy w.r.t.
B in the limit limB  is given as: (cid:1), the expected average O(cid:0) ln(B/cmin)(cid:1) (cid:20) RBP-DGreedy(B)) (cid:21)

 = lim

 = 0.
lim
 Regret bounds for BP-UCB.
We now extend the analysis of BP-DGreedy to BP-UCB.
Theorem 2 provides the desired regret bounds for BP-UCB.
Theorem 2.
The expected regret of mechanism BP-UCB is upper-bounded as follows:
 + +  B p  (cid:88) (cid:88) i:pi<p  i:pi>p  (cid:18) 8  ln(B/cmin)  2 (cid:0)pi Fi   p F  (cid:1)  2 i  2
 + 6 p  (cid:19)  (cid:0)F (cid:1)     Fi + 1 + cmin p  The proof is given in Appendix A.3.
Corollary 2 proves the no-regret property of the mechanism.
Corollary 2.
The expected average of regret of mechanism BP-UCB w.r.t.
budget size B goes to zero asymptotically for appropriate choice of  .
Proof.
The proof follows by using exactly the same arguments as in Corollary 1.
In this section, we carry out extensive experiments to understand the practical performance of our mechanisms on simulated cost distributions, as well as on costs derived from an actual MTurk study.
We begin by describing our benchmarks, metrics and experimental setup.
Benchmarks.
We compare our mechanisms against the following benchmarks and state-of-art mechanisms:   OPT-Var and OPT-Fix: These are o ine, untruthful mechanisms with full information of the workers  true costs as discussed in Section 3.
  Mean: Another o ine mechanism that operates under the bidding model.
It o ers a  xed price computed as the mean value of the workers  bids.
This mechanism serves as a rule of thumb to determine  xed prices for tasks, as possibly used by inexperienced requesters.
  BS 11: We implemented the mechanism for the bidding model based on sampling bids from [32].
This mechanism assumes that workers  arrival order is stochastic i.i.d.
  PP 12: This is the online posted price mechanism from [8] designed for the stochastic setting.
We found that the recommended parameters used for proving theoretical guarantees did not work in practice.
We therefore
 (b) Corr.
of Bids ($) vs Usage (mins) (c) Corr.
of Bids ($) vs Friends Size Figure 2: (a) Distribution of workers  bids, Correlation with (b) usage time and with (c) number of friends online manually tuned parameters to optimize the performance of this benchmark.
Speci cally, we ignored the parameter z in determining the price of the highest arm as B z and instead used cmax as a bound.
Also, we used a = 5 instead of 4000, which would need an extremely large pool of workers for execution.
Metrics and experiments.
The primary metric we track is the utility of the mechanism as we vary the budget B, setting N = B .
We also compute the average cmin regret of the mechanism w.r.t.
increasing budget to verify its no-regret property.
To study the e ect of the worker pool size, we also look into varying N for a  xed budget.
To gain insight into execution of the mechanisms, we measure their rate of convergence by determining the unique price to which the mechanism converges in the end and measuring the number of times this price has been o ered so far with increasing timesteps.
Lastly, we evaluate the utility over time to understand the dynamics of how quickly the budget is exhausted.
Parameter choices.
We used cmin = 0.01 and cmax = 1 based on the payment bounds typically seen on MTurk.
The price discretization factor   is set to 0.2.
We note that (cid:1) guarantees asymptotic bounds of setting   to O(cid:0) ln(B/cmin) O(cid:0) ln(B/cmin)(cid:1), however smaller values of   would increase
 the number of arms, leading to slower convergence.
Cost distributions.
We considered cost distributions based on simulations as well as gathered from an actual MTurk study.
We considered various simulated distributions for analyzing our algorithms, including uniform, normal, exponential and more complex ones including mixture of two uniform or two Gaussian distributions.
Also, we considered various settings to simulate the arrival of workers, including ordering by ascending bids to simulate adversarial arrival.
To simulate a more realistic non-stochastic setting, we considered groups of two distributions arriving one after another, ordered by their increasing means.
The primary objective of this study was to get cost distributions from a realistic crowdsourcing task, as well as to understand the non-stochastic nature of real inputs that could arise because of the task s temporal nature.
Data Collection.
We posted a HIT (Human Intelligent Task) on MTurk in form of a survey, where workers were told about an option to participate in a hypothetical advertisement system for a social networking site.
In this hypothetical system, they can opt to use the top of their homepage for banner ads and obtain some monthly payment from the publishers.
Workers were asked to bid on the monthly payment they would like to receive, in addition to providing informa-Feature # Active workers # Friends (mean) # Friends (median) Usage mins (mean) Usage mins (median) Bids $ (mean) Bids $ (median) July10 July11 July12




















 all






 Table 1: Statistics of the data reported for di erent years tion like years of being active on social networks and time spent there, approximate geographical location, number of friends and optional comments.
They were asked to provide this information for di erent times including July 2012, July
 Firstly, we wanted to get the workers  cost distribution for a realistic scenario which  ts our procurement auction task.
Secondly, we wanted to understand whether the assumption of stochastic costs holds true in real world inputs.
A total of 1200 workers participated in our HIT, which was online for one week, restricted to workers with more than
 participation in the HIT.
We did not restrict the workers to any geographical region.
Additionally, we made a bonus payment to selected 20 individuals based on their insightful comments about factors a ecting their payment choice.
Statistics.
The workers represented more than 20 di er-ent countries with 44.5% from USA and 44.0% from India.
In total 72.25% of the workers agreed to participate in the hypothetical online advertisement system, and we analyze the statistics from these workers below.
Workers from USA have lower acceptance rate of participation (59.3%) compared to workers from India (86.1%), which shows interesting dependence on geographical factors in determining the pricing model of the workers.
Table 1 shows the mean and median values of various features.
The data shows an increase in social activity (in terms of friend count and service usage) as well as the bids reported by workers for their service.
Figure 2 shows the distribution of bids collected as well as the correlation with usage time and number of friends.
The data is skewed towards lower bids and is discretized because of the tendency of workers to bid at rounded numbers.
In total 75.8% of the workers provided subjective feedback in the comments section about the pricing factors.
Common themes reported by the workers for the pricing factors were the usage time, friend count and nature of the ads.
The statistics related to friend size matches closely with those of publicly available numbers supporting the quality of the data obtained from the workers.
% Bid Distribu(on of Bids ($)










 Bid Usage Bids ($) vs Usage (mins) corr =













 Bid # Friends Bids ($) vs Friends Size corr =

 (a) MTurk arrival, Bidding model (a) Varying workers (b) Uniform-Stoc., Posted price model (b) MTurk arrival, Posted price model (b) Average regret (c) Two Uniform-Stoc.
with asc.
means (c) MTurk, Arrival by year of joining (c) Convergence (d) Uniform, Ascending bids (d) MTurk, Arrival by ascending bids (d) Utility with time Figure 3: 1st column Figure 4: 2nd column Figure 5: 3rd column Figure 3 (1st column): Utility for uniform distribution in [0.1, 0.9], varying budget.
In (a), BP-UCB outperforms PP 12 by over 150% increase in utility for the stochastic settings.
(c) uses two uniform distributions in [0.1, 0.5) and [0.5, 0.9].
Figure 4 (2nd column): Utility for MTurk distribution for bids in [10, 100], varying budget.
In (a), BP-UCB outperforms PP 12 by over 180% increase in utility.
Also, BP-UCB and BP-DGreedy are robust against all the online settings above.
Figure 5 (3rd column): Uniform distribution in [0.1, 0.9], stochastic settings.
In (b), no-regret properties of BP-UCB can be seen as the average regret diminishes with increase in budget.
(c) shows better convergence rate of BP-UCB compared to PP 12.
(d) shows that BP-UCB makes low o ers in beginning, in contrast to PP 12 which quickly exhausts the budget.
We now present and discuss the  ndings from our experiments.
In the  gures, we denote BP-DGreedy as bp-gd.
Utility for simulated distributions.
Figure 3 shows results for costs uniformly distributed in the range [0.1, 0.9], though the results are qualitatively similar for other distributions and ranges.
We consider the online setting with stochastic arrival of workers and also assess the robustness of the mechanisms when these assumptions are violated.
In Figure 3(a), we can see that the mechanism BP-DGreedy performs very close to OPT-Fix and slightly outperforms the state of the art mechanism BS 11 for the bidding model.
U-lity Budget Unif- Stoc., Bidding model opt var opt x bs'11 bp- gd mean x












 U-lity Budget Unif- Stoc., Posted price model opt var opt x bp- ucb mean pp'12 x












 U-lity Budget Two Unif- Stoc.
with ascending means x
 opt var opt x bs'11 bp- ucb bp- gd mean pp'12











 U-lity Budget Unif- Ascending x
 opt var opt x bs'11 bp- ucb bp- gd mean pp'12













 U-lity Budget MTurk, in order of arrival, Bidding model x
 opt var opt x bs'11 bp- gd mean













 U-lity Budget MTurk, in order of arrival, Posted price model x
 opt var opt x bp- ucb mean pp'12













 U-lity Budget MTurk, in order of joining year x
 opt var opt x bs'11 bp- ucb bp- gd mean pp'12













 U-lity Budget MTurk, Ascending x
 opt var opt x bs'11 bp- ucb bp- gd mean pp'12












 U+lity Workers Varying Workers :
 Unif- Stoc.
x
 opt var opt x bs'11 bp- ucb bp- gd mean pp'12 x













 Avg.
Regret Budget Avg.
Regret: Unif- Stoc.
x
 bs'11 bp- ucb bp- gd mean pp'12














 Frac0on Timesteps Convergence to unique prices:
 Unif Stoc.
x
 bs'11 bp- ucb bp- gd pp'12














 U,lity Timesteps U"lity with "me:
 Unif Stoc.
x
 bs'11 bp- ucb bp- gd pp'12 x
 opt x mean
 mechanism BP-UCB for the posted price model performs as good as BP-DGreedy even though it operates under limited feedback.
It clearly outperforms PP 12 by an over 150% increase in utility for all the budgets considered.
Mean is much lower compared to both of our mechanisms, suggesting that rules of thumb prices may not be optimal.
We also simulate arrival of the workers in order of ascending bids, violating the stochastic i.i.d.
assumptions.
In Figure 3(d), we see that all the mechanisms perform quite poorly in this somewhat unrealistic case.
Figure 3(c) shows results for a perhaps more meaningful non-stochastic setting where two groups with bids uniformly distributed in [0.0, 0.5) and [0.5, 0.9] respectively arrive after another.
Therefore, a natural question is how robust the algorithms are w.r.t.
more realistic cost distributions, as we analyze next.
Utility for MTurk distributions.
Figure 4 shows results for cost distributions from the MTurk study.
We considered bids ranging in [10$, 100$], scaled down by 100, although the results are qualitatively similar for other ranges.
Note that scaling down the costs is equivalent to scaling up the budget.
We sampled with replacement from the bids to generate the entire pool of workers.
We considered various online settings to simulate the arrival order of workers: the actual order in which workers arrived on MTurk for completing the task; ordered by their usage time; ordered by number of friends and by the year of joining the social network.
Here, we discuss the results for the arguably most natural orderings.
For the bidding model, we can see in Figure 4(a) that both OPT-Fix and BS 11 coincide exactly with OPT-Var, in the case of workers arriving according to the actual MTurk ordering.
We attribute this to the highly skewed nature of bids at low prices, as the optimal strategy for all these three mechanisms is to o er a single  xed price corresponding to the lowest bid.
For the posted price model in Figure 4(b), BP-UCB clearly outperforms PP 12, increasing the utility by over 180% for all the budgets considered.
Figure 4(c) shows results where workers are ordered by the year in which they joined and Figure 4(d) shows the results where workers are ordered by their increasing bids on MTurk.
Interestingly, BP-UCB and BP-DGreedy continue to perform well in both the settings, whereas BS 11 degrades in Figure 4(d) and PP 12 performs poorly in both.
E ect of varying N .
Apart from varying the budget, it is interesting to compare the impact of workers  pool size on the mechanisms for a  xed budget.
Note that the availability of more workers (larger N ) shifts the optimal solution towards lower prices.
Figure 5(a) shows the impact of varying N .
As one would expect, our mechanisms BP-DGreedy and BP-UCB as well as BS 11 show an increase in utility exhibiting diminishing returns.
Interestingly, PP 12 shows a decrease in utility as the number of workers increases.
Average regret.
Figure 5(b) shows the average regret of the mechanisms with increasing budget.
Note that the average regret of BP-UCB decreases at a much faster rate compared to that of PP 12.
Rate of convergence.
Here, we look at the rate of convergence of the mechanisms in Figure 5(c), by computing the proportion of times the unique price, to which the mechanism converges in end, has been o ered so far with increasing timesteps.
BS 11 rapidly converges to the unique price, favorably compared to BP-DGreedy.
We can see an initial phase of  exploration  for BP-UCB followed by  exploitation  as the mechanism converges.
However, PP 12 stabilizes at 50% convergence as the Markov model used by the mechanism  ips back and forth between the equilibrium prices.
Utility with timesteps.
Lastly, we study how the mechanisms accrue utility over time (Figure 5(d)).
BP-UCB o ers very low prices in the initial phase of  exploration , followed by convergence to a unique price, after which the utility increases almost linearly.
In contrast, PP 12 quickly exhausts the budget in the beginning by o ering high prices, leading to overall reduced utility.
We designed mechanisms for online budgeted procurement using a regret minimization approach.
We started with mechanism BP-DGreedy for the bidding model and then extended it to our main mechanism BP-UCB for the posted price model.
These are the  rst provable no-regret mechanisms for online budgeted procurement.
Apart from theoretical guarantees, we prove that they are empirically e cient compared to optimal benchmarks, and dramatically outperform the state of the art posted price mechanism.
Our experiments on MTurk further supports the practical applicability of our mechanisms on crowdsourcing platforms.
We believe that our results provide an important step towards developing practical, yet theoretically well-founded techniques for increasing the e ciency of crowdsourcing.
There are some natural extensions for future work.
Here, we considered a simple additive utility function for the requester.
It would be useful to extend our approach to more complex utility functions.
Additionally, we assumed a homogeneous pool of workers, although it would be more practical to design mechanisms which can take into account skills and di erent utility values of the workers.
Our experiments on MTurk suggest that real world inputs may violate stochastic assumptions.
While our mechanisms are robust against our study s cost distribution, one can force all the currently available mechanisms to perform poorly by carefully designing (unrealistic) cost distributions.
It would be of interest to develop mechanisms that are more robust, and extend to the oblivious adversary model.
We used the knowledge of known bounded support and furthermore discretized the price space.
Results from continuous arm bandits in [24, 4, 10, 33] can be applied here by making more realistic assumptions about cost distributions.
This would enable learning the support as part of the mechanism itself and remove the regret from discretization.
In this work, we assumed a  nite yet large pool of available workers.
A perhaps more natural approach is to use time discounted rewards where a mechanism s goal would be timely completion of the task.
Existing crowdsourcing platforms support only  xed price mechanisms and limited capabilities to design pricing policies.
Our experiments show that simple mechanisms like Mean perform quite poorly, although inexperienced requesters may be tempted to use them as rule of thumb.
It would be interesting to build applications and conduct studies where we can actually run our mechanisms in real time on crowdsourcing platforms.
Acknowledgments.
We d like to thank Hastagiri Vanchi-nathan, Yuxin Chen, Brian McWilliams, Patrick Pletscher and G abor Bart ok for helpful discussions.
This research was supported in part by SNSF grant 200021 137971, ERC StG



 A.1 Components contributing to the regret We begin by expressing the expected utility of a mecha-i as indicator nism in terms of N T i variable indicating that price pi was o ered at time t.
Lemma 2.
The expected utility of the mechanism M is in Lemma 2.
We use I t i i=1 it , we have
 Proof.
From de nition of St E(cid:2)N T (cid:3) Fi given by U (M, B) =(cid:80)K (cid:105)(cid:21) (cid:20) E(cid:104) T(cid:88) T(cid:88) (cid:3)(cid:105) i | T(cid:3)(cid:105) ET (cid:104)E(cid:2)St (cid:104)E(cid:2)I t K(cid:88) i | T(cid:3)(cid:105) Fi = (cid:104)E(cid:2) T(cid:88) K(cid:88) E(cid:2)N T (cid:3) Fi T(cid:88) K(cid:88) K(cid:88) it | T St


 I t t=1 t=1 t=1 t=1 i=1 i=1 i=1 = = = = i i (cid:20) K(cid:88) i=1
 (cid:104)E(cid:2)N T i (cid:105)(cid:21) i | T i St I t E(cid:104) | T(cid:3)(cid:105) Fi (2) (1) i=1 Unlike UCB1, T is a random variable here.
Step 1 uses the fact that St i only depends on the order of bids and is therefore independent of the mechanism (i.e., of I t i and T ).
Step 2 follows from de nitions of N T i and Fi.
Next, in Lemma 3, we provide a lower bound on the expected timesteps T in the execution of a mechanism, unlike in standard UCB1 where T is  xed.
This ensures that the mechanism s regret coming from the component  Wasted budget through overpayment  in Lemma 1 is bounded.
Lemma 3.
The expected number of timesteps T in the execution of the mechanism has lower bound as follows: p .F     (cid:88) i:pi>p  E(cid:2)N T i (cid:3).
(cid:0)pi.Fi   p .F  (cid:1) p F  

 p F     cmin = t=1 cmin
 t=1 St K(cid:88) p  > B it pt | T St B   cmin < ET Proof.
The algorithm terminates when either i) t > N or ii) Bt < cmin.
In i), T = N and hence bounds in the equation hold trivially since N   B p F   .
We will prove the bounds for ii) below by bounding the sum of it pt.
(cid:20) E(cid:104) T(cid:88) (cid:3) (cid:0)Fi pi   F E(cid:2)N T > B   cmin   (cid:88)   (cid:88) the prices o ered and accepted by workers(cid:80)T (cid:105)(cid:21) K(cid:88) (cid:3) Fi pi (1) E(cid:2)N T K(cid:88) (cid:3) F E(cid:2)N T  (cid:1) + (cid:3) (cid:0)Fi pi   F E(cid:2)N T E(cid:2)N T (cid:3) (cid:0)Fi pi   F Step 2 replaces(cid:80)K by using the fact that(cid:0)Fi pi   F  p (cid:1) < 0 for pi < p .
Step 1 follows by using the same arguments as in Lemma 2.
i by T and we get the desired bounds  (cid:1)  (cid:1) (2)
 i:pi<p  i:pi>p  i N T i=1    p  p  p  p  p i=1 i=1 =   i i i i i We now prove Lemma 1 by using the above results.
Proof of Lemma 1.
Consider an alternate mechanism M(cid:48) which has access to an additional arm corresponding to price p .
We  rst analyze the regret of M(cid:48) below.
  RM(cid:48) (B) = U (p
 + i i (cid:48)
 i=1 i=1
     Fi E(cid:2)N T E(cid:2)N T (cid:1) p    K(cid:88) (cid:1)   K(cid:88) (cid:3) (cid:0)F (cid:88) E(cid:2)N T (cid:3) (cid:0)F (cid:88) (cid:3) (cid:0)F E(cid:2)N T (cid:88) E(cid:2)N T (cid:3) (cid:0)F (cid:1) (cid:3) (cid:0)F E(cid:2)N T E(cid:2)N T (cid:3) (cid:0)pi Fi   p F  (cid:1)     Fi     Fi i:pi<p  i:pi<p      Fi     Fi i i i i i + i:pi>p  K(cid:88) E(cid:2)N T
 p  + p    E[T ] F
 i=1   i = = +
 <   p    E[T ] F (cid:88) (cid:88) cmin p  + i:pi<p  (cid:3) Fi (cid:3) F (cid:1)   (cid:1) (1) (2) (3) + Step 1 replaces(cid:80)K (cid:0)F     Fi (cid:1) < 0 for pi > p .
And, step 3 follows from the i by T and step 2 uses the fact that i N T i:pi>p  p  The regret of mechanism M is given by RM (B) = RM(cid:48) (B)+ results of Lemma 3.
(cid:16) B p    B Rp(cid:48) (B) where Rp(cid:48) (B) = p(cid:48) from above completes the proof.
A.2 Regret bounds for BP-DGREEDY (cid:17) .
Using the value of RM(cid:48) In Lemma 4, we show that discretization to a power of (1 +  ) results in loss of utility by at most a factor of (1 +  ), similar to the online auctions as shown in [12, 6].
Lemma 4.
The regret component  discretization  in Lemma 1 is upper-bounded by Rp(cid:48) (B)    B p  .
Proof.
Consider price ph given by: ph = inf pi { i   [1 .
.
.
K] s.t.
pi   p  } (cid:48)   p  By the design of discretization, ph < (1 +  ) p .
Now, consider that price ph is o ered to every worker instead of p(cid:48).
Rp(cid:48) (B) = U (p , B)   U (p ph    B p    B We use the fact that for ph   p , U (ph; B) = B ph .
(cid:3)   4 optimal arm i is played is upper-bounded by E(cid:2)N T Lemma 5.
 i s.t.
pi < p(cid:48), expected number of times a sub.
i   .
We consider the following (cid:111) Proof.
A suboptimal arm i is picked at time t when V t i(cid:48) where V t V t i , B N pj cases: i(cid:48)   B Case a) p(cid:48)   p  and F t (cid:16) i   F t F t i(cid:48) (cid:16)(cid:0)F (cid:17)   0 i(cid:48)   Fi(cid:48)   Fi (cid:17)   0 i(cid:48)(cid:1)    i i   Fi   Fi(cid:48)   Fi (cid:16)(cid:0)F t (cid:1)    i (cid:48)   F t (cid:48)   F t i   Fi j = min (cid:17) (cid:17) N p(cid:48) : (cid:110) (cid:16) F t (1) F t  2 i +


 i

 + Case b) p(cid:48)   p  and F t N p(cid:48)   F i   B F t (cid:48) i(cid:48) > B N p(cid:48) : =  F t i   Fi    i (2)
 (cid:16) i   F t F t i(cid:48) N p(cid:48)   Fi + i   Fi   B F t i   Fi (cid:16)(cid:0)F t
 (cid:1)    i + Case d) p(cid:48) > p  and F t
 N p(cid:48) : i(cid:48)   B (cid:16) B (cid:16)(cid:0)F N p(cid:48)   F t (cid:48)   F t (cid:17) (cid:17) i(cid:48) > B N p(cid:48) : N p(cid:48)   Fi i(cid:48)   B i(cid:48)(cid:1)    i
 (cid:17)   0
 (cid:17)   0 (3) (4) (cid:18) (cid:3)   T(cid:88) E(cid:2)N T i i   B F t N p(cid:48) = Using Cherno Hoe ding inequality and the fact that P(A+ B   0)   P(A   0) + P(B   0), we bound step 1 and 3 as: i   Fi    i
 N p(cid:48) + Fi   Fi =  F t (cid:17)   0 (cid:17) (cid:48)   F t (cid:16) +
 i(cid:48)    i
 (cid:19)   2 e    2 2  t i i   Fi    i F t
 (cid:18)(cid:16)
 For step 2 and 4, we have the following bounds:
 i   Fi    i F t   e  2 2 i  t   2 e    2 2  t i (cid:19)  (cid:88) Combining the bounds for above cases, we have: 2 e    2 i 2  t   2 e    2 i 2  t =
  2 i t=1 optimal arm i is played is upper-bounded by E(cid:2)N T Lemma 6.
 i s.t.
pi > p(cid:48), expected number of times a sub.
(cid:3)   1 t=1 i i Proof.
A suboptimal arm i is picked at time t when V t V t need to hold for picking arm i.
i > i(cid:48) .
We consider the following cases and the conditions that Case a) p(cid:48)   p :
 N pi Case b) p(cid:48) > p : (cid:48)    i =  F (cid:48)   F t i(cid:48) >  i i(cid:48) <
 F t (1) F t i(cid:48) <
 N pi =
 N p(cid:48)    i =  F (cid:48)   F t i(cid:48) >  i (2) Using Cherno Hoe ding inequality, step 1 and step 2 are i  t.
Combining the bounds for above cases, bounded by e 2 2 we have: E(cid:2)N T i (cid:3)   T(cid:88)  (cid:88)  2 2 i  t   e t=1 t=1  2 2 i  t = e

 i Proof of Theorem 1.
The proof directly follows from the bounds of Ni from Lemmas 5 and 6.
By putting in these bounds in Lemma 1 along with the regret of discretization from Lemma 4, we get the desired results.
A.3 Regret bounds for BP-UCB Lemma 7.
 i s.t.
pi < p(cid:48), expected number of times a sub-optimal arm i is played is upper-bounded by E(cid:2)N T (cid:3)   8  ln(B/cmin) (cid:110) (cid:113) 2  ln(t)  2 i i Proof.
A suboptimal arm i is picked at time t when (cid:102)V t (cid:102)V t i(cid:48) where (cid:102)V t i   .
We consider the j = min (cid:111) + 1.
i + F t +
 N pj N t i  2
 following cases: Case a) p(cid:48)   p  and F t i(cid:48) + (cid:115) (cid:115) 2  ln(t) N t i 2  ln(t) N t i (cid:17) (cid:16)(cid:0)F t i   Fi F t i + (cid:1)   Case b) p(cid:48)   p  and F t i(cid:48) + 2  ln(t) N t i(cid:48) (cid:115) (cid:115)
 2  ln(t) N t i 2  ln(t) N t i (cid:17) + (cid:16)(cid:0)F t i   Fi F t i + (cid:1)   Case c) p(cid:48) > p  and F t i(cid:48) + (cid:114) 2  ln(t) N t i(cid:48) (cid:115)
 N p(cid:48) : 2  ln(t) N t i(cid:48) i(cid:48)(cid:1)   (cid:115) (cid:48)   F t (cid:115) 2  ln(t) N t i    i   F t i(cid:48) + (cid:16)(cid:0)F (cid:16) (cid:114)
 + +
 N p(cid:48) : (cid:48)    i 2  ln(t) N t i
 N p(cid:48) : N p(cid:48)   F (cid:115) (cid:16)
 (cid:114) (cid:114) 2  ln(t) N t i(cid:48) 2  ln(t) N t i(cid:48) 2  ln(t) N t i(cid:48) (cid:17) (cid:17)   0 (1) (cid:17)   0 (2) This case is analogous to (1) in Case (a) with some algebraic manipulations.
Case d) p(cid:48) > p  and F t i(cid:48) +
 N p(cid:48) : This case is analogous to (2) in Case (b) with some algebraic manipulations.
Using the Cherno Hoe ding inequality, step 1 and step 2 are bounded by 2 t 4 and t 4 respectively.
Once suboptimal arm i has been played su cient number of times, given by i   N t , we have: (cid:19) 2  ln(t) N t i    i > 0 = 0  2 i (cid:25) (cid:24) 8  ln(B/cmin) (cid:115) (cid:18) (cid:24) 8  ln(B/cmin) (cid:25)  (cid:88) (cid:3)   E(cid:2)N T (cid:24) 8  ln(B/cmin) (cid:25)
  2 i
 i    2 i T(cid:88) t=1 + + 2 t  4 <  4 2 t
  2 i + + 1  2
 Combining these together, we have the following: t=1 optimal arm i is played is upper-bounded by E(cid:2)N T (cid:3)    2 Lemma 8.
 i s.t.
pi > p(cid:48), expected number of times a sub-Proof.
A suboptimal arm i is picked at time t when (cid:102)V t
 (cid:102)V t i > i(cid:48) .
Irrespective of the relation between p(cid:48) and p , the fol-(cid:115) lowing must hold true: (cid:115) i F t i(cid:48) + 2  ln(t) N t i(cid:48) <
 N pi
 (cid:48)
 (cid:48)   F t i(cid:48) > 2  ln(t) N t i(cid:48) Using Cherno Hoe ding inequality, above case is bounded by t 4.
We have: E(cid:2)N T i (cid:3)   T(cid:88)  (cid:88)  4   t  4 < t  2
 t=1 t=1 Proof of Theorem 2.
The proof follows by using exactly the same arguments as in Theorem 1.
