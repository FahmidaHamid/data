Recently there is tremendous republishing of content happening in the internet space and such trend is rapidly growing.
While it does not imply copyright violation, marketing Copyright is held by the International World Wide Web Conference Committee (IW3C2).
IW3C2 reserves the right to provide a hyperlink to the author s site if the Material is used in electronic media.
groups have studied the importance of  content curation [1] on websites, e.g., blogs and news.
Retweets on Twitter and reclips on Pinterest are other examples of republishing on social networks.
In E-commerce, the equivalent of content curation is obtaining inventory for reselling.
Given these developments, republishing becomes a key aspect of the internet and resale is a key aspect of electronic commerce.
Since reuse and remarketing of content and products is an integral part of the internet, we particularly study the online resale market in this paper.
Resale, which is the selling again of something purchased, is an essential part of a market.
There have been many research studies on resale activities in di erent markets, e.g., tickets [7], real estate [13][6], and automobiles [30].
The previous research is mostly on resale price maintenance [27][22], auctions with resale [12][5], etc.
In these existing studies, the resale activities are often conducted by large o ine agencies or brokers.
However, online resale activities are also a significant part of the resale markets.
Therefore, understanding patterns and nature of the e-commerce resale activities is much needed.
Since the resellers often purchase and sell items on the same online platform, the data will capture the complete activity from purchase to sale, which is desired for a comprehensive study.
Online marketplaces, e.g.
eBay, Amazon and Taobao, have been studied in various areas for web mining and modeling, including auction models [4][20][21], bidding and selling strategies [10][26], reputation models [14][23][25] and fraud detection [24].
Although resale is a vital component of online market, there is little research addressing this topic.
To the best of our knowledge, this is the  rst work on empirical studies of resales in a real-world web-scale marketplace.
In this paper, we study the resale market from data obtained from a leading online marketplace vendor, i.e., eBay.
There are about 100 million active users on eBay.
Among tens of thousands worth of items sold every minute, a large number of the transactions are resales.
As discussed above, we focus on those resale activities that occur exclusively at eBay because of the data availability.
In other words, the items are bought and sold again both on eBay.
Although the data we use throughout the paper is from eBay due to the data availability, the proposed framework in this paper is general and applicable to other online resale markets.
The intentions and methods of reselling can be diverse.
In some cases, the items are resold at higher prices, and the resellers make pro ts from them.
In this case, the original sale is considered under-priced.
Understanding the reasons for under-priced sales can help us better advise the sellers 1533to list items more e ectively and thus make the market place more e cient.
In addition, understanding the behaviors of resellers also help build a healthy online platform.
Therefore, studying resale activities has tremendous values in suggesting business opportunities and building e ective user applications.
As part of knowledge discovery of such activities, We summarize the research challenges below:   Research Challenge #1: How to develop e ective criteria to accurately identify resale activities?
The connections between the initial purchase and later resale are often not evident due to the nature of e-commerce marketplace.
First, it is common that users use di er-ent accounts for buying and selling.
Linking di erent accounts from the same person/family is necessary.
In addition, many users change item listings (i.e., sale postings) while reselling.
In other words, two seemly di erent listings may actually refer to the same good.
  Research Challenge #2: How to extract resale activities from extremely large-scale data sets?
The criteria mentioned in the  rst challenge need to be applied on petascale transaction data generated on the internet.
Furthermore, such data is from multiple sources and heterogeneous in nature.
Mining and analysis of such large volume data bring great challenges.
  Research Challenge #3: Can we  nd some interesting insights from the obtained resale activities?
We would like to  nd similar patterns among the resale activities and understand the motivation for resale.
Furthermore, we would like to quantitatively evaluate factors that correlate to pro tability.
Moreover, can we predict whether a resale transaction is pro table?
These are important to understand the nature and dynamics of the resale market.
With these challenges, this paper initiate a study of resale markets at web-scale and makes the following contributions: (1) We formalize the notations and de nitions of resale mining as the  rst known work on this topic.
(2) We propose a complete framework to identify and extract resale activities from petabyte-scale data.
(3) We qualitatively study and analyze the heterogeneous resale data, and empirically present the answers to the resale prediction task.
(4) We propose novel applications of the resale data to get insights.
The insights can not only boost the resale market, but can also improve general buying and selling on the online marketplace.
In addition, the proposed system can also be extended to analyze other user-to-user web applications.
Further Related Work: Previous research examined the complex networks and graphs, but mostly on one aspect of mining tasks, such as classi cation[17][34], cluster-ing[9][2][33], outlier detection[3], community detection[19] and social networks applications [16][11][32].
The paper is organized as following.
In each section, we will address one research challenge mentioned above.
In Section 2, we introduce e ective criteria to accurately identify resale activities.
Section 3 discusses the large-scale data platform used to extract resale activities.
Next, we demonstrate our analysis and prediction of the resale market in Section 4.
Deployment and applications to online marketplaces are discussed in Section 5.
Figure 1: Modeling Transactions as a Massive Graph (Each node represents a user, and directed edges are transactions among users.)
User B Item x Item y Item x Item y User A User A (a)Exact M atching (b)Elastic M atching Figure 2: Resale Activity Identi cation.
Figure (b) considers both account linking (blue dotted line) and elastic item matching (red dashed line).
In this paper, we conduct a systematic study on the resale market, which is a vital component in the internet and e-commerce.
In this section, we de ne the criteria to identify resale activities.
Modern online marketplace is a complex peer-to-peer network [28].
While we notice that the transactions happen between users, we model the transaction activities as a massive graph among users.
In Figure 1, we model the transactions as a graph G = {V, E}, where V is the set of vertices and E is the set of edges.
Each vertex represents a user.
The user can both buy and sell, and (s)he can be either an individual or business.
Each edge between two vertices is directed, from a user (seller) to another user (buyer).
We further note that each edge represents a transaction, which contains information about the items purchased, transaction times, prices, etc.
In order to discover resale, the  rst step is to set criteria to identify resale activities.
In other words, what type of activities can be regarded as reselling?
Based on the de -nition of resale, a resale activity should include the process of selling again of something purchased by an entity.
One straightforward approach is to  nd the activities that satisfy the pattern in Figure 2(a).
Formally, we de ne the resale activity below: Definition 1 (Exact Matching Identi cation).
A user (User A) bought an item x and sold an item y.
The sale activity tuple (x, A, y) is a resale if it satis es the following constraints: (a) Item Constraint: Item x and item y should be in di erent transactions, but they have to refer to the identical good.
(b) Time Constraint: The purchase time of item x is earlier than the purchase time of item y.
check by comparing the timestamps of two transactions.
The problem is how to determine whether the item constraint (a) is satis ed, i.e. if two items from di erent transactions actually refer to the same good.
Although Universal Product Code (UPC) is ideal for identifying unique goods, it is not common for items in a real-world e-commerce marketplace to include UPC.
A straightforward approach is to compare the titles of two items.
For example, if the titles of items x and y are the same or use the same set of words, then x and y are the same; otherwise they are di erent goods.
However, the exact matching identi cation is clearly not an appropriate criterion.
On the one hand, the user A may change the title of item y in order to boost sales.
For example, the item x was initially not listed with a suitable title.
It is highly likely that item x would be sold at a low price.
User A found this fact, and immediately bought this item.
(S)he later listed the same product just bought using a more descriptive title, thus had a potential to sell at a higher price and make pro ts.
Therefore, exact matching of item titles will miss a lot of meaningful resale activities.
It is much desired that an elastic matching of items can be used to accurately identify resales.
On the other hand, the pattern in Figure 2(a) will not capture all resale activities due to the limitation of using the single account matching.
A lot of people on a real-world e-commerce marketplace have more than one account.
Meanwhile, members of a family might have their own individual accounts.
For example, a person can have an account for selling and another account for buying because of privacy.
Another scenario might be the husband bought some products online, and later his wife resold again because she did not like them.
We call this type of user behavior in reselling as account transfer.
Therefore, a more general identi cation approach is proposed to address the above two issues, which is shown in Figure 2(b).
Suppose the accounts of the same person/family are linked together, and the link is illustrated using the blue dotted line; and items referring to the identical goods are linked using the red dashed line.
We want to discover the resale activities that satisfy: Definition 2 (Elastic Matching Identi cation [EMI]).
A user (User A) bought an item x and another user (User B) sold an item y.
The sale activity tuple (x, A, B, y) is a resale if it satis es the following constraints: (a) Item Constraint: Item x and item y should be in di erent transactions, but they have a similarity score which is greater than a threshold  .
(b) Time Constraint: The purchase time of item x is earlier than the purchase time of item y.
(c) Account Constraint: User A and User B are linked because they belong to the same person or family (entity).
The de nition of EMI will help identify the case that re-sellers change the content of listings as well as the resale activities coming through account transfer.
In the Item Constraint, a similarity function is needed to measure the similarity of two items.
On e-commerce marketplaces, there are mainly three attributes to describe items: Titles, Descriptions and Photos.
Descriptions are noisy which contains many irrelevant content, such as sellers  own stories, refund policies and shipping charges.
In the meantime, usually the descriptions are lengthy, thus the computational costs of description similarity matching make it infeasible in a large-scale data environment.
For Photos, even the state-of-art image comparison techniques cannot achieve satisfactory accuracy, and they are all ine ective for massive data.
Considering the above limitations, we use the Jaccard similarity of item titles as the similarity function, which provides a good trade-o  between accuracy and e ciency.
Previous studies [15][29] in a similar context, QA archives, also demonstrate that using titles rather than descriptions for the similarity measure is of highest e ectiveness.
Let the titles of items x and y are Tx and Ty respectively.
The similarity function between items x and y is de ned as: similarity(x, y) = |Tx T Ty| |Tx S Ty| where |Tx T Ty| denotes the number of common words in Tx and Ty, and |Tx S Ty| denotes the number of unique words in Tx and Ty.
If the similarity score of two items is greater than a given threshold  , the items are considered to be identical.
While we understand that for any two random items x and y, even their similarity score is high enough, it is not necessary that they are the identical goods, because they may be di erent goods but the same type of product.
However, considering the account constraint and time constraint, it is required that both items should be bought/sold by the same entity, and the purchase activities are in sequential order.
Thus, these ensure that items satisfying above constraints refer to the identical goods.
In this section, we present how to extract resale activities from large-scale data sets at an e-commerce site given the criteria of resale activity identi cation in the previous section.
In order to present how to extract resale activities, we  rst brie y describe the MapReduce framework.
MapRe-duce [8] is a programming framework to support computation on large-scale data sets in distributed environments.
The advantages of MapReduce are (1) the ability to run jobs in parallel (2) automatic management of data replication, transfer, load balancing, etc., and (3) the standardization of Map and Reduce procedures and concepts.
MapReduce has been successfully adopted by many companies to handle massive data, including Yahoo, Google, Amazon, eBay, etc.
A typical MapReduce framework mainly contains two steps: Map step and Reduce step.
The details of MapReduce can be found in [8] and [18].
Large e-commerce sites usually store multi-petabyte data on distributed machines.
Therefore, we use MapReduce paradigm to extract resale activities from large-scale e-commerce transaction data.
Based on De nition 2, evaluating whether a transaction is a resale transaction requires to verify the account constraint, time constraint and item constraint.
For account constraint, users from the same person/family should be grouped together as a user entity.
The grouping policy includes matching of names, gender, addresses and user behaviors.
Since
 Input: Account Linking Table: acc = {(entity id, user id)}; Transaction Table: tran = {(item id, buyer id, seller id, item)} Account-Matching-Map(Table acc, Table tran) begin for each (entity id, user id)   acc do Output key-value pair (user id, entity id); end for each (item id, buyer id, seller id, item)   tran do Output key-value pair (buyer id, (tag: buy , item)); Output key-value pair (seller id, (tag: sell , item)); ALGORITHM 2: Item Matching Input: Output from Account Matching Item-Matching-Map(Key k, Value v) begin Output key-value pair (k, v); end Item-Matching-Reduce(Key k, Value v[1...m]) begin buying list, selling list = empty; for each v   v[1...m] do end end Account-Matching-Reduce(Key k, Value v[1...m]) begin output key = null; for each v   v[1...m] do if v is of type ID then output key   v; break; end end for each v   v[1...m] do if v is of type (tag,item) then Output key-value pair (output key, v); end end end if tag ==  buy  then add v into buying list; end if tag ==  sell  then add v into selling list; end end for each v   buying list do for each v    selling list do if v.timestamp < v .timestamp && similarity(v, v ) >   then Output resale activity (v, k, v ); end end end end Buying List Stream





 user grouping is not the focus of this study, we assume the user grouping data are pre-computed.
All user entities have unique entity IDs and multiple accounts from the same per-son/family are linked to the same entity ID.
For item constraint, a similarity function is applied to item titles, and the similarity score is used to determine if the two items represent the same good.
Usually the transaction data on e-commerce sites are stored in di erent tables.
For the simplicity of algorithm description, we assume all transaction data are stored in one table.
This table can be regarded as the join result of a list of transaction related tables.
We propose a two-stage framework to extract resale activities.
The  rst stage is to correlate items with the entity IDs to handle account transfer problem.
The second stage is to generate resale transactions bought and sold by the same entity IDs based on elastic item matching and time constraint.
The pseudo code of the  rst stage is illustrated in Algorithm 1.
In the Map step, the inputs are pre-computed account linking table and a table including all transaction data.
A pair containing each user id and its corresponding entity id is sent to the reducer.
In order to capture the buying and selling information, each item in transactions is mapped to two key-value pairs, i.e., a pair taking buyer id as the key and a pair taking seller id as the key.
The type information regarding to buying or selling is stored as a tag for future processing.
In the Reduce step of account matching, the entity id of the user (stored in key k) is  rst obtained.
Then we substitute the user id k for the entity id, and send all items associated with the same user to the next stage.
Through the  rst stage, all items are linked to the entity ID.
Thus even transactions from two di erent accounts belonged to the same person/family, they are aggregated in one place.
In the second stage, the idea is to create two lists of items associated with the same entity id using the output of the  rst stage.
For each entity, we collect its all purchased items and add into buying list.
Similarly, we get its all sold items Selling List


 Hard Disk


 Output Resale Similarity Function Memory Figure 3: System Illustration: Stream-based Reducer.
Lists being partitioned and read sequentially to resolve insu cient memory problem.
and put into selling list.
The tag created in the  rst stage is used to decide which list a given item should be added into.
It is clear that a resale activity must contain one item from buying list and one item from selling list.
Thus, we further perform a pairwise similarity matching of two lists, and if two items satisfy both item constraint and time constraint, they are output as resale activities.
The details of the second stage can be found in Algorithm 2.
Although the algorithms are described under the resale market context, we note that the proposed algorithms can be easily generalized to di erent applications which require matching.
As shown in Algorithm 2, we can see that two item lists have to be stored in the memory.
In a global e-commerce marketplace, it is not rare that a single user buys or sells millions of products annually.
Therefore, Algorithm 2 becomes infeasible while handling such large-scale data.
To make the algorithm work in practice, we extend Algorithm 2 to solve the insu cient memory problem.
Inspired by [31], we introduce a stream-based MapReduce approach for Algorithm 2.
We note that the proposed stream-based method is interesting in its own right as a general method for reducing memory requirement for large-scale MapReduce tasks, and may be useful for a number of di erent web-scale applications.
The buying list and selling list in Algorithm 2 are further partitioned into blocks (buying list   (A, B, C) and selling list   (A , B , C  )).
The size of blocks depends on the actual memory size of local machines.
The blocks of one list are stored on the hard disk to prevent insu cient memory.
In Figure 3, we store blocks of selling list (A , B , C  ) on the hard disk.
Each block from selling list is read sequentially from the hard disk, and only one block can be stored in the memory at any given time.
The blocks from buying list (A, B, C) are sent as streams and match with the block of selling list in the memory.
As shown in Figure
 ory and match with block A from buying list.
After block A has matched with all blocks from selling list, it can be safely removed from the memory, and the next block B from selling list can be streamed in.
After resale activities are collected, we explore what can In order to better be discovered from the resale market.
understand the market, we apply data mining techniques and address two main problems in this section: (1) Observations: What does the resale market look like?
How large is the resale market?
Who are doing resales?
Why are they doing resales?
Do di erent regional markets show similar patterns?
(2) Prediction: What factors lead to a successful (profitable) resale?
Given a list of features, can we predict if a resale activity will be pro table?
We use an open source implementation of MapReduce, Hadoop1, to extract resale activities.
The Hadoop cluster stores over 10 petabytes transaction data from the marketplace.
For the extracted resale activities satisfying pattern tuple (x, A, B, y) in Figure 2(b), we further obtain a list of attributes associated with users A, B and items x, y from the Hadoop cluster to analyze.
As listed in Table 1, 24 attributes of resale activities from multiple sources are captured.
Attributes related to x and A are listed in the type Buying Related, and attributes related to B and y are listed in the type Selling Related.
Feedback scores are used to measure the overall rating of users.
Generally speaking, a user with high feedback score is often an experienced seller/buyer with good reputation.
Each user has two feedback scores: feedback as seller and feedback as buyer, which represent the user s selling and buying performance, respectively.
In order to study the e ectiveness of the resale activity identi cation by elastic matching identi cation (EMI), we measure the correctness of matched resale activities and test the sensitivity of the parameter of EMI, i.e., the similarity threshold  .
We compare our method against the exact matching approach in Section 2.2 as the baseline.
Since we do not directly have the ground truth, we use items sold on eBay which are associated with the eBay product catalog2 as the validation data set.
The product information of those items is either manually added by sellers or identi ed by a 1http://hadoop.apache.org/ 2http://pages.ebay.com/help/sell/product-details.html Table 1: Extracted Attributes Related to Resale That Cover Feedback, Title, Time, Price, Categories, etc.
Type Buying Related Selling Related Attributes the original seller id, his/her feedback as seller, his/her feedback as buyer, buyer s entity id, user id, his/her feedback as seller, his/her feedback as buyer, item id, item title, purchase date, item price, site id, leaf category name, meta category name seller s user id, his/her feedback as seller, his/her feedback as buyer, item id, item title, purchase date, item price, site id, leaf category name, meta category name

 y c a r u c c





















 s d n a s u o h
 # o f
 e s a e l
 i s t e d w i t h
 a t a o g l


 (cid:626)
 Exact Matching ((cid:626)(cid:1089)(cid:1005)(cid:895) Figure 4: Accuracy Results with Threshold  .
The line shows the accuracy scores (left Y-scale) by varying   and the bars represent the corresponding number of resale activities (right Y-scale) in thousands.
combination of UPC, brand, model and ISBN (for books).
For each resale activity as tuple (x, A, B, y), we examine if items x and y belong to the same product in the catalog, and calculate the accuracy score to evaluate the proposed elastic matching method.
One should note that we do not use the catalog information to obtain resale data due to its limited coverage.
We only use the catalog information for evaluation purpose.
The results are reported in Figure 4.
The threshold   is illustrated on the X-axis, the accuracy of EMI is illustrated on the left Y-axis and the number of resale activities with catalog information is presented on the right Y-axis.
The line shows the accuracy scores by varying   and the bars present the corresponding number of resale activities.
  being set to 1 corresponds to the exact matching approach, which is shown as the baseline.
From the  gure, one can observe that the number of resale activities is 376k for exact matching.
For EMI, the number goes up to 521k while setting   to 0.8, which is 36.4% more than that of exact matching.
From the e ectiveness perspective, the accuracy score of exact matching is 0.9782, because of the noises in the real data set.
Some sellers manually typed wrong product information, which causes mismatch even the titles of buying and reselling items are exactly the same.
We further notice that the accuracy of EMI is over 93% while setting   is 0.8.
This clearly shows the proposed elastic matching approach is highly accurate, and its obtained resale activities are indeed meaningful.
We can also observe that the accuracy score further gains with the increase of  , while the number of resale activities decreases.
This is quite nat-
s r e l l e s e
 f o %













 new 3g cord









 clear 1000mah cases black white neu uk subscription 4g 2010 mint











 Number of Resale Activities nano film dvd game
 other



 Figure 5: Distribution of the Number of Resale Activities.
We note that the number of resale activities follows a power-law distribution with a long tail.
Figure 6: Top Keywords Added to Resale Listings.
These frequently added keywords re ect the most common attributes that resellers think users care about.
ural since a tighter constraint on the title similarity reduces the chances of mismatch, but it also misses many reselling.
By increasing   from 0.8 to 0.9, the improvement in accuracy is 3.39% but the number of obtained resale activities reduces 16.51%.
Considering the tradeo  between accuracy and quantity, we use   = 0.8 in the following analyses.
Under this setting, we obtain a sample that includes over 13 million resale activities from the Hadoop cluster.
The sample of resale activities is from over 30 regional sites, which cover 35 meta categories.
In the following study, we analyze the resale market from various key perspectives and provide some interesting observations related to online resale.
Who Is Reselling?
We  rst investigate the number of resellers and their resale patterns.
We plot the distribution of the number of resale activities in Figure 5 on a log-log scale.
The X-axis represents the number of resale activities per user, whereas the Y-axis shows the proportion of resellers who did the corresponding number of resales.
From the  gure, one can observe that resale follows a heavy-tailed distribution.
Interestingly, top 10% resellers contribute 43% of resale activities.
68% of the resellers have only a single resale and they provide 18% of all resale activities.
The  gure shows that a large portion of users that resell very few times and a signi cant number of resale activities come from a small group of top highly active resellers.
In addition, the trend interestingly follows a power-law distribution: f (x)   x  -0.4 -0.2


 Figure 7: Average Relative Price Di erence Versus Word Frequency.
Note that X-axis and Y-axis denote the average relative price di erence (ARPD) and word frequency, respectively.
The higher the ARPD score, the more likely it is for resale to have pro ts by adding the given keyword.
where x represents the number of resale activities and   is computed to be 2.233.
What Content Do Resellers Change?
On e-commerce sites, search results are mostly based on titles.
Hence, many experienced sellers optimize titles to achieve better sales.
We perform text analysis on the content that resellers added to new listings.
For each resale activity, we obtain the added words from the reselling transactions, remove stop words and summarize them into an aggregated word cloud view in Figure 6.
We observe that adding the keyword  new  is the most frequent as the largest tag cloud item.
In summary, the most common words resellers added are the descriptions of product conditions ((brand) new, sealed, mint, etc.
), colors (white, black, pink, etc.
), appealing functions (game, dvd, clear, etc.
), detailed speci cations (1000amh, 3g, 4g, etc.)
and years (2009, 2010, etc.).
Actually these keywords correspond to the most common attributes that resellers think users care about.
In addition, to study the e ectiveness of added words, we present a case study on the top 20 words with their frequencies and average relative price di erences in Figure 7.
The average relative price di erence (ARPD) of a given word w is de ned as P(x,A,B,y) S,w / Tx ,w Ty Py  Px max(Py ,Px) |{(x, A, B, y)} : (x, A, B, y)   S, w /  Tx, w   Ty}| where the set S contains all resale activities of the pattern tuple (x, A, B, y).
Tx and Ty represent the titles of items x and y, and Px and Py denote the corresponding prices.
A positive ARPD score means the resale price is greater than the buying price, and vice versa.
Clearly, higher ARPD represents greater resale values achieved by adding the word w.
From the  gure, we observe that  new  is the most frequently added words by resellers, and it is indeed quite e ective in terms of resale values.
Similarly,  mint  and  neu  (new in German) also have positive e ects to increase resale prices.
The word  cord  has a very high ARPD score.
The reason is that it is usually associated with resales on accessaries such as adapters, cables and power supplies.
Many such items were  rst bought from sellers in China and resold at higher prices to buyers in USA and UK.
We further observe that
 categories are related to books or electronics.
Category Clothes, Shoes & Accessories Used Books Computers & Networking Consumer Electronics Video Games Phones Home & Garden Cell Phones & PDAs Books Movies % of Total Resale









 Table 3: Resale Activities on Regional Sites and Cross-sites.
We observe that resale is an international and cross-border phenomenon.
Description Same Site: USA Same Site: UK Same Site: Germany Same Site: Other USA   Other Other   USA Other   Other % of Total Resale






 some other e ective words are related to appealing functions, detailed speci cations and years.
Interestingly, adding words on colors do not increase resale prices in many cases.
We note that  1000mah  especially has a low ARPD score.
The reason is that this word is strongly tied with batteries which are considered as consumables, and batteries are priced fairly lower if used.
What Are the Top Categories of Resale?
We list the top 10 resale categories in terms of percentile in Table
 in the resale market, and followed by  Used Books .
In the meanwhile, many categories related to electronics appear in the top 10 list, including  Cell Phones & PDAs ,  Computers & Networking ,  Consumer Electronics ,  Phones , etc.
Is Resale an International Activity?
Table 3 shows the resale activity distribution on di erent regional sites.
We can learn from the spatial analysis that most resold items are purchased and sold on the same regional sites.
The three largest resale markets are USA, UK and Germany, probably because of the popularity of online shopping in these three countries.
We also notice cross border resale activities.
5% of resale activities are purchased on one site but resold on another site.
3% of resale activities are bought on the USA site and resold on other sites.
What is the Correlation Between User Reputation and Price?
In order to analyze the relationship between reputation and price, we plot the average relative price difference versus user feedback in Figure 8.
We normalize the user feedback to range [0 : 1], and a higher score represents the given user has a more positive rating.
The average relative price di erence with respect to feedback is de ned as Pf (B) [ri,ri+1) P(x,A,B,y) S Py Px max(Py,Px) |{(x, A, B, y)} : (x, A, B, y)   S, f (B)   [ri, ri+1)}| where f (B) is the feedback score of user B and [ri, ri+1) is a given feedback score range.
Higher ARPD represents greater e c n e r e f f i
 e c i r
 e v i t a e
 l




 -0.05 -0.1




 User Feedback Score Figure 8: Average Relative Price Di erence Versus User Feedback.
Users in an online world with higher reputation tend to resell with larger pro ts.
The red line illustrates a linear function that the data roughly  t.
l s e i t i v i t c
 e a s e
 f o r e b m u
 s d n a s u o h


















 Holding Time (in days) Figure 9: How Long Do Resellers Hold Items Before Resell.
We note there is a peak in the range from 10 to 30 days.
pro ts achieved.
There is an obvious trend that users with higher feedback scores achieve larger price increase, mostly because of the positive e ects of online trust built in an online world.
Although markets are considered stochastic, we can still observe that the data well  t a linear function (R2 of 0.755).
How Long Do Resellers Hold Items?
We show the temporal analysis that resellers hold items before resell in Figure 9.
Clearly, most resellers hold items for less than
 range from 10 to 30 days.
This indicates most resale activities happen almost immediately after the buyers receive the merchandise.
It can also be concluded that very few resellers hold items for over one year to resell.
As we have found many interesting insights of the resale market from the analysis above, we focus on the fact of successful resales in this subsection.
From Figure 8, some re-sellers are making pro ts through resale activities, whereas some other users lose money.
In order to have a quantitative understanding of what lead to a successful resale, we  rst analyze the features related to the pro tability of resale.
Then we use classi cation models to predict if a resale activity will be pro table given a set of features.
Feature Table 4: Base Features Obtained for the Prediction Task Description Feedback ORG SELLER FDBK AS SLR the feedback as seller of the original seller who sells the good to resellers ORG SELLER FDBK AS BYR the feedback as buyer of the original seller









 the feedback as seller of the account reseller used to buy the good the feedback as buyer of the account reseller used to buy the good the feedback as seller of the account reseller used to resell the good the feedback as buyer of the account reseller used to resell the good the title in the buying transaction the title in the reselling transaction the purchase date of the buying transaction the purchase date of the reselling transaction the buying transaction s listed regional site the reselling transaction s listed regional site the leaf category of the buying transaction the leaf category of the reselling transaction the meta category of the buying transaction the meta category of the reselling transaction the number of photos in the buying transaction the number of photos in the reselling transaction the shipping fee in the buying transaction the shipping fee in the reselling transaction the number of items in the buying transaction the number of items in the reselling transaction the purchase price in the buying transaction Title Time Site Category BUY LEAF CATEG ID




 Photo Shipping BUY SHIPPING FEE
 Quantity BUY QUANTITY

 Price
 In order to build the classi cation models, we obtain a set of related features.
For the problems of resale activities classi cation and prediction, the class labels are set to be binary, which are either TRUE (pro table) or FALSE (not pro table).
For the classi cation purpose, we have obtained a list of base features from heterogeneous sources including transactions, user pro les, categories, sites, etc.
They are listed in Table 4.
There are 23 base features in total, which are related to 9 types:   Feedback.
The feedback is a score to measure the users performance.
Can a user with higher feedback score sell with high pro tability?
Note that each resale activity is associated with two transactions: a buying transaction and a reselling transaction.
Thus, separate features are created for both buying transactions and reselling transactions.
  Title.
As we have shown in Figures 6 and 7, many resellers changed the listing titles for reselling.
Does the length of title a ect sale prices?
Are titles the longer the better?
  Time.
Do resale activities vary by seasons?
Is there a  best time  for reselling?
  Site.
Do di erent regional markets show similar resale patterns?
Which regional market is best for reselling?
  Category.
We obtain both meta category and leaf category of each item.
For example, for an iPod, its meta category is  Consumer Electronics , and its leaf category is  iPod & MP3 Players .
Di erent categories may have di erent resale performances.
  Photo.
Does the number of photos a ect resale?
 A picture is worth a thousand words.  Can uploading more photos have a better presentation of products and thus boost sales?
  Shipping.
The shipping charge is how much consumers need to pay for the shipping of the merchandise.
Does free shipping help sales?
  Quantity.
The number of goods sold in one transaction.
  Price.
The price of resellers paid to buy the goods.
The price of resellers resold is used to generate class labels, hence it is not listed as a feature.
Furthermore, we obtain 12 more features derived from base features.
We show them in Table 5.
The feature SAME USER ID is used to model how account transfer can a ect resales.
5 derived features are binary, e.g.
SAME TITL, SAME SITE, etc, which represent if there are some changes of attributes between buying transactions and reselling transactions.
Two features related to the lengths of titles are used to represent the e ects of titles.
Furthermore, we extract month-of-the-year from date as another type of feature, which helps the model analyze the temporal e ects.
Other derived features present the numeric di erences of attributes, such as time and photo count.
For the 35 features including base features and derived features, it is important to test which features have the most discriminative power in terms of pro tability.
Hence we measure the importance of features based on three criteria, namely Gain Ratio (GR), Information Gain (IG) and Chi-squared statistic (Chi).
The top 15 discriminative features for each criterion are illustrated in Figure 10.
The higher GR/IG/Chi score is, the higher discriminative power the corresponding feature has.
In addition, we link the same features across di erent criteria to illustrate the similarities of the outputs.
From the  gure, it is clear that the features selected by the three criteria highly overlap.
The results on Informa-
further observe that the feedback scores and leaf categories are the most discriminative features, which are agreed by all three criteria.
It is quite natural that feedback scores are important.
The reason is that buyers trust sellers with high feedback scores and sellers with high feedback scores are more likely to have good selling skills.
The leaf categories are also discriminative.
This suggests that products from di erent categories have di erent resale potentials.
For example, reselling products in Consumer Electronics and Art are easier to get better o ers, whereas reselling in Clothing and Shoes is much more di cult to being pro table.
Besides feedback scores and categories, TITL LEN DIFF and SAME TITL are also two discriminative features.
Clearly it represents a carefully rewritten title will bene t resales.
Overall, the most important features are related to category, feedback and title.
Besides the features listed in Figure 10, BUY MONTH and SELL MONTH are also two interesting features worth to mention.
Through our further analysis of data, we  nd that usually buying in the summer and selling in December and January will make the best pro ts.
The reason might be a lot of people are on vacation during summer time, so it is a low season with fewer buyers and bidders.
And December and January are the holiday seasons that bring more people to shop online.
Next, we investigate the prediction of resale activities using the base and derived features.
We construct a number of feature sets corresponding to feature types, and build classi- ers for each feature type as baselines.
We further compare those classi ers with the classi er built on all features.
We split the data into 75% as the training set and 25% as the testing set.
SVM is used as the classi cation model.
We evaluate the performance on four metrics: Precision, Recall, F-score, and ROC.
For all these four measure, the higher scores represent the better performance.
The classi cation results on various feature sets are illustrated in Table 6.
Among all separate feature sets, Category achieves the best performance, with an accuracy score at
 on what categories the items are listed in.
This exactly matches our previous feature analysis in Figure 10.
We further discover that the model with all features outperforms the baseline models with separate feature sets.
These results demonstrate that di erent features provide di erent insights on predictions.
Data mining techniques can automatically learn the importance of di erent feature types and output satisfactory results with all features considered.
We further test 4 additional classi cation models and list the results in Table 7.
The overall best classi er we test is the Decision Tree, with an accuracy score of 75.4% and an F-score of
 a 17% improvement over the Na ve Bayes model.
All the results are clear evidences that the selected base and derived features are indeed essential, and data mining techniques can generate satisfactory performance for resale market predictions.
So far, we have analyzed the resale market and studied the prediction on the pro tability of resale activities.
In this section, we discuss the eBay applications of the  ndings Table 6: E ectiveness of Various Feature Sets.
The model that combines all features outperforms baselines with standalone feature sets on all measures.
Feature Feedback Title Time Site Category Photo Shipping Quantity All Accuracy Precision Recall














































 in previous sections.
We show that, by incorporating the classi cation results, we can improve the e ciency of the resale market and improve both buyer and seller experience on web marketplaces.
From the classi ers we analyzed in the prediction section, we use the decision tree as the model to demonstrate the application scenarios.
The advantages of using the decision tree model are its accuracy and a list of classi cation rules it can generate.
Those rules can be easily interpreted by human beings and thus applied directly as business logics in an e-commerce system.
The decision tree model generates over 18,000 rules in total for the resale activity classi cation task.
Since many rules generated by decision tree are either not statistically signi cant or not accurate enough for a real-world system, we further set two  lters to select highly reliable rules:   the minimum support of selected rules is Smin   the minimum con dence of select rules is Cmin Using these selected highly reliable rules  ltered by the minimum support and minimum con dence, we perform instance matching for each resale activity.
For each incoming resale activity, if it satis es one of the rules, the predicted label should be extremely accurate, since all selected rules are  ltered based on support and con dence.
In the rest of this section, we give three example scenarios on improving a real production e-commerce system with the deployment of selected rules.
We note that all these applications become possible and e ective because of the extremely large data set and accurate prediction models.
Improving Reselling: Based on added words shown in Figures 6 and 7, a recommender systems can be applicable to suggest useful keywords according to frequencies and ARPD scores to make the resale title more descriptive.
Besides text, we are also able to provide suggestions on category, transaction time, photo, shipping fee, user feedback, etc.
Through our study of extracted rules, we  nd that many of them can be directly incorporated into the system and make resales more e ective.
Improving General Buying: The selected reliable rules can not only help resellers, but also improve the experience of online shoppers.
For example, when a buyer is browsing an item, the system can match his/her pro le and the item with selected rules, and provide more personalized suggestions if the product has a high chance of resale.
In general, useful information can be inferred from the classi cation model and be suggested to users.
This feature can
 Account Title Time Site Category Photo Table 5: Derived Features Created for the Prediction Task Description binary: if account transfer occurred in the resale activity Feature
 BUY AUCT TITL LEN the length of title in the buying transaction SELL AUCT TITL LEN the length of title in the reselling transaction








 the di erence between buying and selling title lengths binary: if resellers change the titles the purchase month of the year in the buying transaction the purchase month of the year in the reselling transaction the waiting period to resell = reselling time - buying time binary: if the buying and selling transactions are on the same site binary: if resellers change the leaf categories binary: if resellers change the meta categories the di erence between buying and selling photo counts
 Feature








 Feature













































 Chi Feature



































 Figure 10: Feature Analysis: Gain Ratio (GR), Information Gain (IG) and Chi-squared statistic (Chi) Table 7: E ectiveness of Various Models.
The decision tree model achieves the best performance on four out of  ve measures.
Model Na ve Bayes Log Regression Decision Tree Nearest Neighbor Acc.
Pre.
Rec.
be further integrated with commercial  Trade-in Programs  provided by many online markets3.
This will also potentially increase the revenue of the whole marketplace.
Improving General Selling: After analyzing the selected rules, we notice that many under-priced sales are due to incorrectly or inappropriately listed categories.
To address incorrectly listed items, we may use an accurate clas-si er to suggest users other possible options.
For those items that are listed inappropriately, such as in  Everything Else  or  Other  category, the system may infer the actual categories of the items based on titles, descriptions and photos, and then advise the seller to sell at a more speci c category rather than the vague  Everything Else  or  Other  category.
In this paper, we propose the  rst systematic framework to mine and analyze a large-scale online resale market.
We develop a stream-based MapReduce approach to process peta-
In, http://www.bestbuy.com/site/Misc/Buy-Back-Program scale data, and discover millions of resale activities through elastic matching identi cation (EMI) with high accuracy (> 93%).
We discover that resale activities follow a power law distribution with a  long tail  phenomenon, where a large portion of them are contributed by a small number of highly active resellers.
In the meantime, resale is an international and cross-border behaivor and appears in all di erent categories of products.
We observe that adding useful keywords and building user trust in the online world have positive effects towards resale values.
We further utilize data mining models to empirically evaluate a number of features from di erent sources and predict the pro tability of resale activities.
Finally we propose three application scenarios to demonstrate how to incorporate the above models to a real-world e-commerce marketplace.
It will not only increase revenues in terms of resale but also improve both general buyer and seller experience on web markets.
In our future work, we will consider developing a similarity matching method by incorporating the entities and semantics of listing items that can scale to web-scale data sets.
We will also consider applying the proposed system to other user-to-user web applications.
The  rst author was a summer intern at eBay Research Labs while this work was done.
