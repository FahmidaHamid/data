The rapid increase in popularity of streaming media traf c in the Internet [7] has led to the development of a number of new applications including online distance education, radio and TV programs.
Three key characteristics of streaming media are: the high bandwidth requirements, which motivated the development of new scal-able streaming protocols [9, 13], the real time constraints on media delivery, and the possibility of partial or interactive access.
By interactive access, we mean that a client may pause, fast forward, rewind, or jump to speci c points in the video/audio  le.
Thus, a streaming media  le may not be fully and sequentially requested.
To illustrate, clients of a media server delivering educational content may pause the transmission of a lecture to take notes or jump backwards to review a previously watched portion of the lecture.
Despite various previous studies on characterization of streaming media workloads [4, 5, 6, 7, 11, 12, 15, 19], understanding of client behavior is still super cial.
This is because previous work has focused on only a few workload aspects, such as arrival process and  le access frequencies, and, thus, does not provide a complete Copyright is held by the author/owner(s).
analysis, or because only one type of workload (e.g., educational) has been considered.
Thus, it is not clear whether their results hold to other workload domains (e.g., entertainment).
Furthermore, a more complete characterization of interactive client behavior is still needed, as interactivity has been shown to signi cantly impact the scalability of streaming media protocols [5, 14, 17].
This paper provides a more thorough analysis of pre-stored streaming media workloads, focusing on the typical characteristics of client interactive behavior.
Our main goal is to provide data for generating more realistic synthetic workloads, which can then be used in the evaluation of alternative media distribution methods.
We also con rm previously derived insights into media caching [5], extending them for a richer and more diverse set of workloads.
As in [19], we use a hierarchical approach to deconstruct the workload into two levels: a client session level and an interactive request level.
We characterize a long list of workload parameters in each level, including  le access frequencies, session inter-arrival times, number, type and duration of interactive requests within a session and amount of media skipped between consecutive client interactions.
Moreover, we pay special attention to the temporal variations of the workload and analyze each parameter for a number of selected high load days and also for shorter time periods during which the distributions are expected to remain roughly stable.
Another key point that distinguishes our work from previous studies is that we characterize workloads that fall into three different domains: educational video, entertainment video and entertainment audio.
By characterizing this rich set of workloads, we are able to compare our  ndings and identify those that hold in general and those that are speci c to each workload type.
The educational workload consists of requests to the eTeach server [3], which delivers high bitrate educational content at one major US University.
A one-month log of accesses to eTeach were previously analyzed in [5].
The eTeach logs analyzed in this work cover a longer and more recent time period, allowing us to contrast our results with those reported in [5].
The other three workloads analyzed are for entertainment content, two containing only audio  les and a third one containing short video  les.
These workloads, obtained from two of the largest content and service providers in Latin America, are much heavier than the ones previously studied in the literature, with an average daily load ranging from 34K to 520K user requests.
Key observations from the analysis of our workloads are:  A large number of client requests is for a small fraction of the media  les and the fraction decreases with  le size.
 Clients requesting audio content exhibit a very distinct interactive behavior from video clients.
Almost 100% of audio sessions start at the beginning of the  le and have only one interactive request.
Furthermore, clients either listen to the whole audio or stop at an arbitrary position, with roughly equal probability.
In contrast, a non-negligible fraction of video sessions starts at arbitrary positions in the  le, especially for longer videos.
The number of interactive requests within a video session increases with the  le size.
 Pause is, by far, the most common client interaction in the video workloads.
Jump backwards and jump forwards are roughly equally frequent for longer videos.
Furthermore, the probabilities of a client pausing, jumping forwards or jumping backwards seem to strongly depend on the type of his/her previous interaction but not on the number of interactions since the beginning of the session.
For either pause, jump forwards, or jump backwards, any interaction type is always more frequently followed by an interaction of the same type.
 There seems to be a strong spatial locality in the interactions within a client session.
On average, a client skips up to 45 seconds of media between consecutive requests, in our logs.
 Client access patterns to the  les in our three entertainment workloads tend to be more evenly distributed in time, whereas accesses to the educational content are usually more skewed towards the middle of the day and weekdays.
 Distribution of  le access frequencies is better modeled with the concatenation of two Zipf-like distributions for accesses to audio and educational videos (as in [5]).
However, the access frequencies of short entertainment videos can be well approximated with a single Zipf-like distribution.
 Session arrivals for the educational workload are well approximated by either a Weibull or a Lognormal distribution, depending on  le size.
A heavy-tailed Pareto distribution was found to be a good model for session arrivals at one of the entertainment workloads, whereas exponentially distributed session arrivals were observed in the other two.
 The insights into caching strategies previously drawn in [5] also hold for more recent educational workloads and entertainment workloads.
In particular, we found that there is a large fraction of  les that are accessed only sporadically, motivating the need to take popularity into account when deciding whether to store new content into a cache.
We also found that  le segment access frequencies are either roughly uniformly distributed (for the most popular and longer educational  les) or skewed towards early segments (for less popular educational  les and entertainment content).
The rest of this paper is organized as follows.
Section 2 discusses related work.
Section 3 describes our workloads and the hierarchical model used to characterize them.
Overall characteristics of servers  load are analyzed in section 4, and a thorough characterization of  le accesses is provided in section 5.
Section 6 extends previously derived insights into streaming media caching to our workloads.
Section 7 concludes the paper.
A number of previous streaming media workload characterizations are available in the literature [4, 5, 6, 7, 11, 12, 15, 19].
Studies of interactive client accesses have been done for the MANIC audio content system [15], the low-bitrate Classroom 2000 system [11], the educational eTeach and BIBS media servers [5] and the educational internal server of a large international corporation [12].
These studies have analyzed a number of media workload aspects including session arrival process [5], distributions of ON and OFF times within sessions [5, 11, 12, 15], and frequency of each type of client interaction [5, 11, 12, 15].
The authors in [5] also draw insights into ef cient caching strategies and quantify the scalability of a multicast streaming protocol for an interactive workload.
Client session duration, object and server popularity and sharing patterns of media objects among clients are analyzed in [7] for the client-side workload of a large university.
Locality, dynamics and evolution of the accesses to objects in two enterprise media servers are analyzed in [6, 18].
A thorough characterization of a live streaming media workload is provided in [19].
Although collectively these previous studies cover a large set of different characteristics, most of them focuses on a few speci c workload parameters.
Key aspects for generating realistic synthetic workloads, such as the dependence between consecutive client interactions within a session, have not been previously analyzed.
Furthermore, given the diversity of media workload types, it is not clear whether previous results hold for different workload domains.
To the best of our knowledge, the only previous attempt to compare characteristics of workloads from different domains, such as the one we do here, is the analysis of client accesses to the mMod system, which delivers both educational and entertainment videos at an university in Sweden [4].
However, that work provides a very limited characterization of the workload.
In comparison with previous work, our study: (1) provides a more thorough characterization of client interactive behavior; (2) analyzes the characteristics of a richer and more diverse set of workloads including educational and entertainment content, video and audio content, and (3) analyzes much heavier workloads.
The data sources used in this paper are anonymized access logs to the eTeach media server [3], which delivers educational content at a major US University, and to two major Latin America service and content providers.
One of these providers is Universo Online [1], or simply UOL, one of the largest ISP in Latin America.
UOL provides a variety of online services, including streaming media entertainment audio and video services.
The other data source, referred to, throughout this paper, as simply ISP, provides an online radio service, delivering, on demand, music  les from a large collection.
Section 3.1 describes the data sources and provides an overview of the log data used in our analysis.
Section 3.2 describes the approach we use to deconstruct the workload into a two-level hierarchy consisting of client sessions, at a higher level, and interactive requests within each session, at a lower level.
The eTeach media server [3] delivers educational content at the University of Wisconsin-Madison.
Students have no classroom lectures and obtain all course material, including short announcements and variable length lectures directly from the server, accessing it mainly from within campus, using a high bandwidth network.
UOL and ISP deliver, on demand, media content to thousands of users across the Internet.
We analyze the workloads of two UOL services: RADIO/UOL, which delivers only audio music  les and TV/UOL, which delivers mainly short video  les.
The music  les at RADIO/UOL are organized into pre-de ned channels where the users can tune in to retrieve their favorite songs.
The video  les at TV/UOL consist of a variety of short TV programs, advertisements, interviews and social events.
Access to both services is restricted to preregistered users.
ISP, on the other hand, provides a free online radio service offering both pre-compiled and user-de ned channels.
We refer to this workload as ISP/Audio.
Period Days Total # of unique  les Total # of requests Total media stored(hours) Total media retrieved(hours) Avg.
# Requests / Day (CV) Avg.
# Sessions / Day (CV) Avg.
# Hours Req./ Day (CV) Avg.
# Unique File / Day (CV) Avg.
# Clients / Day (CV) eTeach

 ISP/Audio











































 Table 1: Summary of the Workloads (CV = Coef cient of Variation).
Start position User Interaction Start position Server Client s e
 time
 time Jump Distance OFF time > threshold or request to another file terminates session Interactive requests within session 1 Interactive requests within session 2 l i
 % % Files % Requests










 File Sizes (min)







 s t s e u q e
 % Figure 1: Hierarchical Model of Client Behavior.
Figure 2: Distribution of File Sizes (eTeach).
All four media services deliver content using the Windows Media Server [2].
The eTeach users view the videos using a customized interface which includes synchronized video, outline and slides.
Users can pause, rewind, fast forward or jump to a prede- ned marker in the video corresponding to a topic in the outline.
Our study relies on a set of access logs from each of the aforementioned streaming media services.
An overview of each log, as well as overall measures of each workload, are provided in Table
 ISP workloads are approximately two orders of magnitude heavier and show much less daily variation.
They are also much heavier than previously analyzed workloads.
Also note that the eTeach logs cover a period of over a year.
These logs are much longer and more recent than the eTeach logs analyzed in [5].
To characterize client interactive behavior, we use a hierarchical model to deconstruct each workload into a collection of client sessions, which, in turn, are broken into sequences of interactive requests.
Since client sessions are not explicitly logged in any of our four workloads, we de ne a client session to be a sequence of interactive requests from the same client to the same media  le, provided the time interval between two consecutive requests does not exceed a certain threshold [5, 15].
Figure 1 provides a graphical view of our model.
A client session starts with a request to retrieve a  le segment, starting at a certain position in the  le (start position).
Each request retrieves a certain amount of media, referred to as the ON time.
The client think time between two consecutive requests is referred to as the OFF time.
A new request within the session is triggered by a client interaction (e.g., resume after pause, jump backwards, jump forwards, fast forwarding, rewinding).
The amount of media skipped during this interaction is referred to as the jump distance.
A pause/resume results in a jump distance equal to 0 whereas a jump forwards (backwards) results in a positive (negative) jump distance.
A session ends when either (a) the client issues a request to a different  le or (b) the OFF time exceeds a pre-de ned threshold.
A new session from the same client starts with the next interactive request.
In section 5, we characterize each component of this model pointing out similarities and differences among our workloads.
To choose the OFF time threshold that triggers the termination of a client session, we analyzed the distribution of OFF times over several time periods.
Contrary to the usual observation of distinct distributions for intra-session and intersession OFF times in simulated sessions, we did not  nd any clear peak in our real case logs.
We experimented with a range of threshold values, varying from 5 minutes to 30 minutes, and obtained qualitatively similar results.
The results reported in this paper are for a threshold of 30 minutes.
This section analyzes server load characteristics.
The distributions of sizes and bitrates of the  les stored at and requested from each server are provided in section 4.1.
Daily and hourly load variation patterns are discussed in section 4.2.
Figure 2 shows that there is a high variability in the sizes of the eTeach  les stored at the server and requested by the clients.
These  les consist of short announcements (under 5 minutes) and variable length lectures of up to 55 minutes.
For the other media services, the distributions of  le sizes are more skewed towards smaller objects, as shown in Table 2.
The audio workloads contain music  les of variable length and short advertisements.
The TV/UOL workload contains videos of short advertisements (under 1.5 minutes),
 File Size (min) % Files % Requests

 ISP/Audio < 1.5

 < 3

 < 3



















 Table 2: Distribution of File Sizes (entertainment workloads).
clips, trailers and commercials (1.5-5 minutes), and news, social events and interviews (5-15 minutes).
In the entertainment workloads, the distributions of  le sizes among client sessions are similar to the distributions of  le sizes among client requests, shown in Table 2.
In eTeach, on the other hand, around 52% of the sessions are for short  les (under 5 minutes).
The other sessions are roughly uniformly distributed across all size ranges.
In comparison with the distribution of requested  le sizes (Figure 2), this skewness suggests a larger number of requests within sessions for longer  les, as discussed in section 5.
In both audio workloads, all  les have low average bitrates (under 50 kbps).
The TV/UOL workload has a more variable distribution of  le bitrates.
Around 87% of the stored  les and 49% of the requested  les have average bitrates under 50 kbps.
Most of the remaining  les have intermediate average bitrates of up to 250 kbps.
The eTeach  les are encoded at higher bitrates: around 91% of the requested  les and 54% of the stored  les have average bitrates in the range of 300-350 kbps.
The average bitrates of the remaining  les are lower, mainly in the range of 200-300 kbps.
The high bi-trates are not a problem for eTeach as its clients access the system mainly from a high bandwidth network within campus.
Figure 3 shows daily load variation, measured in terms of the number of requests and the average amount of media delivered per request, for each workload.
The eTeach workload is the lightest one in terms of number of requests.
However, the average amount of media delivered per request is around a couple of minutes for eTeach and the audio-only workloads but only one minute for the TV/UOL workload.
Note that Figure 3-a shows load variations for eTeach over only 43 days (from Sept.   , 2001), the longest period of uninterrupted server activity in our 441-day log.
Figure 3-a shows that eTeach presents weekly load patterns with peaks around the middle of the week, when students have to turn in assignments, like observed in [5].
Such load variations are much less pronounced in our entertainment workloads.
In fact, accesses to content in our entertainment workloads tend to be more evenly distributed in time, whereas accesses to the educational eTeach  les tend to be concentrated around exam or assignment due dates.
This result con rms those in [4] for the accesses to the mMod server delivering content at an university in Sweden.
to Oct.
  Figures 4-a and 4-b show hourly load variations for typical high load days in eTeach and TV/UOL, respectively.
Unlike the eTeach workload, which presents clear daily access patterns, the entertainment workload remains heavy during most of the day, dropping for only a few hours early in the morning.
The audio workloads present hourly load variations similar to the one in Figure 4-b.
The load peaks reach 18K (59K) requests and 850 (2400) hours of media delivered per hour at RADIO/UOL (ISP/Audio).
Daily and hourly variations in the number of client sessions in







 ) n m i ( t s e u q e
 / i a d e
 .
g v
 )




 x ( s t s e u q e
 #







 )



 x ( s t s e u q e
 #






 # Requests Media Delivered / Request
 Day (a) eTeach )





 x ( s t s e u q e
 #








 # Requests Media Delivered / Request




 Day








 ) n m i ( t s e u q e
 i / a d e
 .
g v
 )





 x ( s t s e u q e
 #









 # Requests Media Delivered/ Request
 Day (b) TV/UOL # Requests Media Delivered / Request








 Day




 ) n m i ( t s e u q e
 / i a d e
 .
g v
 ) n m i ( t s e u q e
 / i a d e
 .
g v









 (c) RADIO/UOL (d) ISP/Audio Figure 3: Daily Server Load Variations.
d e r e v i l e
 s r u o
 #








 s t s e u q e
 #







 # Requests # Hours




 Hour (a) eTeach








 d e r e v i l e
 s r u o
 # s t s e u q e
 #









 # Requests # Hours



 Hour
 (b) TV/UOL Figure 4: Hourly Server Load Variations.
each workload follow similar patterns to those shown in Figures 3 and 4, scaled down by a factor equal to the average number of interactive requests per session.
We also measured the number of simultaneous client sessions, observing peaks in the ranges of 10-13,
 RADIO/UOL and ISP/Audio, respectively.
Note that the number of simultaneous client sessions re ects the number of simultaneously open socket connections, which, in turn, has a direct impact on memory allocation and processing overheads at each service.
We selected a number of high load days (such as the ones in Figure 4) for deeper analysis, recognizing that the statistical characteristics of different workload aspects may vary with time.
We also analyze the workload for  les falling into different size ranges separately, as the distributions may also depend on the  le size and content type.
Per day and per  le size analyses of a large set of workload characteristics are provided in sections 5 and 6.
This section analyzes each component of the workload model described in section 3.2, namely,  le access frequency, session ar-5370-1.5 minutes 1.5-5 minutes



 3-5 minutes 0-3 minutes



 i s n o s s e
 # i s n o s s e
 #








 File Rank

 File Rank (a) TV/UOL (b) RADIO/UOL Figure 5: Daily Distribution of File Access Frequencies.
rival process, start position, ON and OFF times, number and type of interactive requests within a session, and jump distance.
It also shows pro les that illustrate typical interactive patterns of client behavior at each analyzed media service.
In this analysis, we identify qualitative similarities and differences among the four workloads.
We also contrast our  ndings with previous results.
We measure  le access frequencies in terms of both the number of client interactive requests and the number of client sessions issued to each  le, separately for each  le size range and on different days.
The results for both metrics are qualitatively similar for each workload.
Thus we show only the latter in this section.
Figure 5 shows typical log-log plots of the distributions of  le access frequencies for the TV/UOL and RADIO/UOL workloads, for different  le size ranges, on high load days.
These two plots present signi cantly different patterns of client behavior.
Whereas the curves for TV/UOL are roughly linear, the curves for RADIO/ UOL present two distinct linear regions.
The plots for eTeach and ISP/Audio are analogous to those in Figure 5-b.
and   , where A linear curve in a log-log plot of  le access frequencies has ) been modeled by a Zipf-like distribution [20] (Prob (access  le = is a normalizing constant) in a number of previous streaming media workload studies [6, 7, 8, 19].
In contrast, two roughly linear regions (as in Figure 5-b) have been previously observed in the log-log plots of two educational media servers [5].
In that study, the concatenation of two Zipf-like distributions is suggested as a good approximation model.
	 As in [5], we use the concatenation of two Zipf-like distributions to model  le access frequencies in eTeach and in the audio workloads.
Table 3 shows the typical range of parameter values for the best  tted combination of two Zipf-like distributions, for these workloads.
For each single distribution, it shows the total probability and percentage of  les that fall within the corresponding region of the curve and the value of the parameter.
For the TV/UOL workload, Table 3 shows the typical values observed for the parameter of the single Zipf-like distribution.
Two linear regions in log-log plots of  le access frequencies have been addressed in other previous studies [10, 18].
In [10], the authors suggest that they occur in workloads consisting of  les whose contents do not change frequently.
In this case, the two linear regions could be a consequence of clients requesting the same  le at most once.
We measured the average number of times each client issues sessions to the same  le on a given day, in the four workloads.
In eTeach and in the audio workloads, this number was close to 1, in most cases.
In the TV/UOL workload, it was slightly higher, varying from 1.28 to 1.42.
Thus, although there seems to ) x >

 (


 Measured Exponential Gamma Lognormal Weibull Pareto

 Interarrival Time (seconds) Figure 6: Distribution of Session Inter-Arrival Times (eTeach, File Size: 5-20 minutes).
be a correlation between the average number of times a client issues sessions to the same  le and the number of linear regions in the plots, the curve pattern can not be completely explained by the immutable nature of the content, as we do not expect  le contents to change in one day, in none of our workloads.
One possible reason for the single linear region observed in the TV/UOL workload is that some of the  les in that workload may be advertisements which are pushed to the clients every time they request some content from the server.
This is just a conjecture.
Further investigation into this topic is left for future work.
Finally, a generalized Zipf-like distribution, based on the application of a Zipf transformation to the data, has been proposed to model two linear regions in the log-log plots of long-term  le access frequencies in [18].
We found that this method provides a reasonable alternative model for accurately capturing also short-term  le access frequency distributions in eTeach and in the audio workloads.
However, like for the parameters of the two Zipf-like distributions, the values of the two Zipf transformation scale parameters are speci c to each data set and to each analyzed day.
We analyze session arrival process over a large number of periods of roughly stable arrival rate, recognizing that diurnal patterns may impact the aggregated distribution.
Since client sessions are not explicitly logged in any of our workloads, we evaluate the arrival process for a session threshold of 30 minutes.
Qualitatively similar results are found for other threshold values as well.
To  nd the distribution that best models session arrivals, we compared the least square differences of the best  tted curves for a set of alternative distributions.
We also visually compared the curve  ttings at the body and at the tail of the measured data, favoring a better  t for the body, if necessary, as short inter-arrival times have a stronger impact on server capacity planning and content sharing.
We found that the distribution that best  ts session inter-arrival times depends on the workload.
Session arrivals are exponentially distributed in the TV/UOL and RADIO/UOL workloads, in accordance with previous results [16].
In eTeach, Weibull or Lognormal are the most accurate distributions, depending on  le size (consistent with results in [5]).
Figure 6 shows an example where a Weibull distribution  ts very accurately the distribution of eTeach session inter-arrival times.
Session arrivals at ISP/Audio are even more heavy-tailed.
A Pareto distribution was found to  t quite well both the body and the tail of the distributions.
Table 4 summarizes these  ndings providing the observed ranges of values for the mean, standard deviation and distribution parameters for the most popular  le size ranges in each workload.
   Workload File Size Range First Zipf eTeach

 ISP/Audio (minutes)











 Prob.
% les

























 Second Zipf Prob.
% les

























 Table 3: Typical Parameters for Daily Distribution of File Access Frequencies (measured in number of sessions).
Workload File Size Range (minutes) eTeach

 ISP/Audio








 Best Fit Weibull Lognormal Weibull Exponential Exponential Exponential Exponential Pareto Pareto Mean Std.
Deviation First (seconds)








 (seconds)








 Parameter = 0.006 - 0.08 = 0.004 - 0.009  = 5.50 - 6.19  = 0.35 - 0.53  = 0.01 - 0.09  = 0.51 - 0.87  = 1.64 - 2.84 = 2.49 - 7.23 = 6.25 - 13.40 (Probability Density Functions: Weibull:   =  	 Exponential:  4	 = 5 76    and Pareto:  4	 =   , Lognormal:    = 89
 , where 	>=@?
. )
$# !" Table 4: Distributions of Session Inter-Arrival Times: Summary.
Second Parameter   = 0.51 - 0.94  = 0.95 - 1.12   = 0.82 - 0.91 = 0.83 - 2.56 = 0.79 - 0.85 )*'+-,.%/0,21
 , &%'( ) % ( e v i t l a u m u














 Start Position (seconds)

 ) % ( e v i t l a u m u














 Start Position (seconds) (a) eTeach (b) TV/UOL Figure 7: Distribution of Session Start Positions.
As described in section 3.2, a session start position corresponds to the  rst  le segment requested by a client in its  rst interaction within a session.
Unlike observed in previous studies [4] and assumed in other related work [18], not all sessions in our workloads, especially the video workloads, start at the beginning of the  le.
In fact, although the distributions of session start positions are skewed towards the beginning of the  les, we found a clear correlation between the skew factor, the workload type and the  le size.
In the audio workloads, practically all sessions (over 99% at RA-DIO/UOL and 95% at ISP/Audio) start at the beginning of the  le.
In the video workloads, on the other hand, a small but signi cant fraction of the sessions to large  les start at different positions.
Figures 7-a and 7-b show the distributions for different  le size ranges in eTeach and in TV/UOL, respectively.
Note that Figure 7-a shows some clear plateaus, corresponding to markers into the eTeach lectures, where clients jump to, at the beginning of a session by clicking on the corresponding topic in the outline.
We measured the distributions of ON and OFF times within client sessions for different days and  le size ranges.
Recall that ON times correspond to periods of client activity within a session or, in other words, to the amount of media delivered at each interactive request.
OFF times, on the other hand, correspond to quiet periods between consecutive ON times.
In our analysis, we use normalized ON times, measured as a fraction of the size of the requested  le.
We found that the distributions that best  t ON and OFF times vary with day,  le size range and workload.
However, looking more carefully into the curves, a common distribution was found to be a good approximation of the measured data, in many cases.
Next, we report our main  ndings with respect to these approximated (but accurate) distributions for the measured ON and OFF times.
The distributions of normalized ON times are heavy tailed for all
         
      Workload File Size Range (minutes) eTeach

 ISP/Audio






 Best Fit Pareto Weibull Weibull Pareto Weibull Pareto Pareto Mean (% of  le size) Std.
Deviation (% of  le size)













 First Parameter = 0.23 - 0.32 = 0.13 - 0.37 = 0.21 - 1.2 = 0.09 - 0.40 = 0.03 - 0.15 = 0.10 - 0.20 = 0.06 - 0.19 Table 5: Distributions of Session ON Times: Summary.
Second Parameter = 3.9 - 4.7   = 0.62 - 1.5   = 0.60 - 1.0   = 0.71 - 0.91 = 3.0 - 6.4 = 2.2 - 4.6 =1.9 - 6.8 Workload File Size Range eTeach

 ISP/Audio (minutes)




 Best Fit Weibull Weibull Weibull Weibull Weibull Mean (seconds)



 (seconds)





 Std.
Deviation First Parameter = 0.08 - 0.14 = 0.09 - 0.17 = 0.06 - 0.07 = 0.01 = 0.09 - 0.10 Second Parameter   = 0.54 - 0.66   = 0.57 - 0.79   = 0.61 - 0.71   = 0.75   = 0.50 - 0.52 Table 6: Distributions of Session OFF Times: Summary.
 le sizes in all four workloads.
For short videos and audio  les, a Pareto distribution  ts well the measured data.
For large videos, the distribution of normalized ON times is better modeled by a Weibull distribution.
Table 5 summarizes these results.
One interesting observed trend is that clients usually request a larger fraction of audio and shorter video  les.
In fact, these  les are frequently fully requested, which generates a heavy tail in the distribution of measured ON times.
A Pareto distribution captures this tail much more accurately than the other distributions we tested (Exponential, LogNormal, Weibull and Gamma).
Pareto was also found to be a good model for the body of the distribution.
Note that, in absolute terms, the amount of media retrieved by each interactive request increases with  le size, as observed in [5].
A Weibull distribution was also found to be a good  t for the distribution of OFF times, in all four workloads, for all  le sizes, as shown in Table 6.
Note that heavy tailed distributions were also observed for the ON and OFF times in the workloads analyzed in [5, 15].
However, an exponential distribution was found to be a good  t for the ON times of short  les in [5].
To create a realistic synthetic workload, one needs a model for the interactive requests a client issues within a session.
In particular, one needs the distribution of the number of interactive requests, the relative frequency of each interaction type (e.g., pause, jump forwards, jump backwards) and the distribution of jump distances.
This section analyzes these three workload aspects.
Our results show that, like for the session start position, client interactive behavior is strongly correlated to content type and  le size.
In particular, clients of the video  les, especially the longer educational videos, have a highly interactive behavior, issuing a number of requests within the same session.
On the other hand, our audio sessions have, on average, only one client request.
) % ( e v i t l a u m u













 # Interactive Requests Figure 8: Distribution of Number of Requests per Session (eTeach).
for shorter  les.
However, note that the probability of long sessions (more than 10 requests) is non-negligible for  les longer than
 to 20-30 (30-40) minute  les have 10 or more interactive requests.
These results are consistent with those in [5, 12], which report a larger number of interactive requests for sessions to longer educational videos.
Thus, typical clients of eTeach lectures have a very interactive behavior, issuing many requests within the same session, especially for long videos.
The same overall trend was observed for the sessions to the TV/ UOL entertainment  les.
However, due to the shorter  le sizes, two interactive requests were observed in only 11% of the sessions and around 4% of the sessions have 3 or more interactive requests.
Typical clients of entertainment audio  les issue only one request per session.
Two or more interactive requests were observed in less than 5% and 2% of all sessions in the RADIO/UOL and ISP/Audio workloads, respectively.
Figure 8 shows the cumulative distributions of the number of interactive requests within a session for eTeach  les of different sizes.
The distributions are more skewed towards fewer requests This section analyzes the relative frequency of each type of client interaction.
Because fast forwarding and rewinding are very rare in our logs, accounting for less than 1% of all client interactions,
            Workload eTeach
 File Size









 # Reqs / Session % Pause



















 Back









 % Jump % Jump Forward









 Table 7: Relative Frequency of Each Type of Client Interaction.
Figure 9: Variations in the Probabilities of Two Consecutive Client Interactions (eTeach).
we measure only the probabilities of a client pausing, jumping forwards and jumping backwards within a session.
Since the vast majority of the audio sessions have only one interactive request, we focus only on the video workloads (eTeach and TV/UOL).
Table 7 shows the average number of interactive requests and the average frequencies of pause, jump forwards and jump backwards observed in the eTeach and TV/UOL sessions.
Note that the last request within a session is accounted for as a pause in our analysis.
As in [5, 12], the average number of interactive requests somewhat increases with the  le size, especially in eTeach sessions.
Pause is the most common interaction in both workloads, especially for short  les.
As  le size increases, the percentage of pauses decreases, and the percentage of jump forwards increases.
In other words, clients tend to skip more uninteresting  le segments as they watch longer videos.
The frequency of jump backwards remains roughly stable across all  le size ranges in both workloads.
For large  les, the probabilities of jump forwards and jump backwards are roughly the same (except for eTeach  les in the range of 40-55 minutes), as in [5, 11].
In contrast, the educational workload analyzed in [15] had a much stronger predominance of jump forwards.
Next, we analyze the dependency between consecutive interactions of the same client.
In other words, we ask: is the probability of a certain type of interaction higher if the previous interaction, within the same client session, was a pause/jump forwards/jump backwards?
Furthermore, does this probability change as the client sends more requests within the same session?
To answer these questions, we analyzed the probabilities of each type of interaction, conditioned to the type of the interaction that was issued immedi-Interaction Pause Jump Fwd Jump Back Interaction +1 Pause


 Jump Fwd


 Jump Back


 Table 8: Typical Range of Probabilities for each Pair of Consecutive Client Interactions (eTeach).
e g a t n e c r e





 e g a t n e c r e


 -10 -5


 Jump Distance (x 10sec)
 -10 -5


 Jump Distance (x 10sec) (a) Video Files < 5 min (b) Video Files > 5 min Figure 10: Typical Histograms of Jump Distances.
ately before, within the same session.
We also analyzed how this probability changes with the number of requests issued since the beginning of the session.
In this analysis, we consider only eTeach and TV/UOL sessions with 3 or more interactive requests.
Figure 9 shows, for eTeach, the probabilities of each interaction type, conditioned to the type of the previous interaction, as a function of the number of interactive requests issued by the same client since the beginning of the session.
The conditioned probabilities are typical across different  le size ranges in eTeach.
The legend shows the nine possible combinations of two consecutive interactions.
The terms jf and jb are used to refer to jump forwards and jump backwards, respectively.
Note that the marginal probabilities of each interaction type as a function of the number of interactive requests can also be assessed from the results shown in Figure 9.
We draw two key conclusions from these results.
First, the probability of a client pausing, jumping forward or backwards does not seem to depend on the number of interactive requests issued by the client since the beginning of the session.
The same is also true for the conditioned probabilities.
The only exceptions are, perhaps, the probability of a client pausing after a pause and the marginal probability of a client pausing, which increase slightly as the client becomes more interactive.
This new result greatly facilitates the generation of realistic synthetic workloads.
Second, for either pause, jump forwards or jump backwards, any interaction type is always more frequently followed by an interaction of the same type.
In other words, a client usually interacts with the video in the same way repeatedly.
Table 8 summarizes these new results providing the range of probabilities found for each sequence of two interactions.
Qualitatively similar results were found for the few TV/UOL sessions that have 3 or more interactive requests.
In this section, we analyze the jump distances of all eTeach and TV/UOL sessions with at least two interactive requests.
Recall that the jump distance is the amount of media skipped between two consecutive interactive requests within the same client session.
We found that the average jump distances in either direction increase with  le sizes, as one might expect.
For short video  les (un-
  der 5 minutes), the distances of jump backwards are usually longer, with an average around 20 seconds; whereas the average distance of jump forwards is only 7 seconds.
For longer  les (above 5 minutes), the average jump distances are roughly equal in either direction (around 40 seconds).
Figures 10-a) and 10-b) show typical jump distance histograms to illustrate both scenarios.
The frequencies for jump distance equal to 0 (i.e., pause) are annotated close to the center bar (x-value = 0) in both histograms.
Our results show that interactive requests in the two video workloads analyzed present strong spatial locality, with an average jump distance in either direction usually under 45 seconds.
This result is in sharp contrast with the very long (over 2000 seconds) average jump distance observed in the MANIC educational system [15].
One key implication of short jump distances is that reserving a small amount of space for client buffering and prefetching may reduce server load and client delay signi cantly for interactive workloads.
Furthermore, the scalability of some multicast-based streaming protocols has been shown to degrade in case of high interactivity [5].
Exploring prefetching to improve the scalability of these protocols for interactive workloads is left for future work.
This section shows typical pro les of client interactive behavior, focusing now on the  le segments (delimited by a start position and an end position) retrieved by a client at each interactive request.
We found that, in our workloads, typical clients behave following one of four distinct pro les, illustrated in Figure 11, depending mainly on the type and size of the requested  le.
The overall conclusions are: (1) the longer the video, the shorter the portions of it requested at each client interaction and (2) audio clients request the  les typically from the beginning and either listen to it completely or stop at an arbitrary position, with approximately equal probability.
Each pro le in Figure 11 shows the start and end positions of each request issued to a given  le on a typical high load day.
Requests, identi ed on the x-axis in the graphs, are sorted  rst by the start position, and then by the end position, in case of a tie.
Figure 11-a shows a typical pro le of client accesses to long videos (above 10 minutes).
Clients request small portions of the  le starting at different points, but there is also a number of requests for the full  le.
In the particular case of the pro le in Figure 11-a, which represents accesses to an eTeach lecture, the start position curve shows some clear plateaus, corresponding to markers in the video.
The client access pro le for short videos (under 5 minutes) in Figure 11-b shows a larger number of requests starting from the beginning as well as a larger number of requests for the full  le.
Clients requesting typical music  les (3-5 minutes) either request the full audio or a pre x of arbitrary length, as illustrated in Figure
 utes) are usually fully requested, as shown in Figure 11-d.
These results are consistent with those presented in sections 5.3 and 5.4.
In this section, we analyze the distribution of  le segment access frequencies and the accesses to unpopular content.
We show that interesting insights into ef cient streaming media caching strategies, previously drawn for two educational workloads [5], can be generalized to more recent educational workloads as well as to entertainment audio and video workloads.
We found that the distribution of the access frequencies to 10-second segments of the eTeach educational  les depends on the relative popularity of the  le, as in [5].
It is roughly uniform for ) n m i ( e l i
 n i n o i t i s o










 Start Pos End Pos

 Request

 ) n m i ( e l i
 n i n o i t i s o








 Start Pos End Pos

 Request (a) Video > 10min (b) Video < 5min ) n m i ( e l i
 n i n o i t i s o










 Start Pos End Pos



 Request ) n m i ( e l i
 n i n o i t i s o






 Start Pos End Pos

 Request (c) Typical audio  les (d) Short  les < 1.5min Figure 11: Typical Pro les of Client Interactive Behavior.
s t s e u q e
 #















 File Segment s t s e u q e
 #















 File Segment
 (a) Most Popular Files (Educational) (b) Less Popular Files / Entertainment Files Figure 12: File Segment Access Frequencies.
the most popular  les (usually lectures above 15 minute long), as shown in Figure 12-a, and skewed towards early segments for less popular  les, as in Figure 12-b.
For the entertainment workloads, on the other hand, a skewed distribution was most commonly observed for the accesses to all  les, except to very short  les, which are usually fully accessed, as discussed in sections 5.4 and 5.6.
The distribution of segment access frequencies has a direct impact on the design of ef cient caching strategies.
The decision between full  le versus partial  le caching and the most cost-effective method for estimating segment access frequencies depends on this distribution.
If it is roughly uniform (as in Figure 12-a), a single ( le) measure is enough to capture the distribution of segment access frequencies, and full  le caching is the best strategy for unicast delivery.
In the cases where a skewed distribution was found, the curve is usually well behaved (as shown in Figure 12-b) and can be roughly approximated using only two or three measures.
Moreover, caching of a pre x may be a better strategy for unicast delivery.
In [5], the authors conjecture that traditional caching strategies that insert new content into the cache without evaluating its histori-
new  les accessed Workload eTeach

 ISP/Audio



 Time Until Next Access % % 4hr 32hr







 % 16hr



 % 8hr



 once



 Table 9: Summary of Accesses to New Files.
cal popularity information may result in signi cant disk write overhead.
This is because they may frequently insert unpopular media content into the cache.
This insight was drawn from the observation that a large amount of content is accessed only very sporadically.
= 4.
Similar results were also found for other values of We reevaluated this conjecture for the more recent eTeach educational workload and for the three entertainment workloads.
Table
 new  les accessed each hour on a typical day.
A new  le is a  le hours.
We show results for that was not accessed in the previous .
On average, from 76% to 87% of the new  les accessed each hour are acccessed only once on that hour (column 3).
Furthermore, a sig-ni cant fraction of those  les are not accessed again in the next 4,
 were observed for accesses to new  le segments as well.
These results show that the conjecture introduced in [5] also holds for our educational and entertainment workloads.
This paper provides a thorough characterization of pre-stored streaming media workloads, focusing on client interactive behavior.
The workloads analyzed are more diverse and signi cantly heavier than the ones previously studied.
They fall into three categories, namely, educational, entertainment video and entertainment audio.
In our audio workloads, typical sessions consist of only one request for a  le pre x.
In our video workloads, clients are much more interactive, issuing a number of requests within the same session.
The degree of interactivity increases with  le size.
Furthermore, we found that the probability of a client pausing, jumping forwards or backwards depends strongly on which interaction he/she issued immediately before within the same session, but not on the number of requests issued since the beginning of the session.
This result greatly facilitates the generation of realistic synthetic workload.
We also found that clients tend to interact with a video in the same way (e.g., pausing), repeatedly, within a session.
Possible directions for future work include characterizing other educational and entertainment workloads, further analyzing the correlation between different workload parameters and generating more realistic synthetic workloads.
We would like to thank Mike Litzkow and Victor Ribeiro for providing the access logs to eTeach and to the Universo Online services, respectively.
We would also like to thank M rcio Drumond, from Universo Online, for the helpful comments on the paper.
Finally, Jussara Almeida and Berthier Ribeiro-Neto are supported by grants from CNPq/Brazil.
