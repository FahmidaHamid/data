Various applications in a search engine require a measurement of similarities between objects.
One obvious example is to suggest related terms in interactive query expansion, which require the similarity calculation of query terms to other terms.
Existing algorithms measure the similarity of objects based on the content features [1][2][4][5] or object interrelationship [3][6].
However, the influence of similarities between objects of one type on the similarities between objects of another type has not been taken into account.
As shown in Figure 1, the two types of objects are queries and Web pages.
They are interrelated by click-through relationships.
It is obvious that, when we compute the similarity of the any two queries, the similarity of the corresponding Web pages should be considered.
Meanwhile, when computing the similarity of the Web page, the similarity of the corresponding queries should be considered.
The similarity of two objects of one type can propagate similarity of their respective interrelated objects of the other type through the mutual effect above.
The propagated similarity also propagates similarity of the two original objects conversely.
Copyright is held by the author/owner(s).
Figure 1 Objects of a search engine In this paper, we propose a unified framework to calculate the similarities over the interrelated objects in a search engine.
Under this framework, the intra-type feature, the inter-type feature and mutual effect of two types of similarity are considered.
Besides, such process is iterative until the similarity converges to a stable state.
We model objects on the Web and their relationships as a directed graph G=(V, E), where nodes in V represent Web objects and edges E represent relationships between Web objects.
In this paper, we consider V as consisting of two subsets Q= {q1, q2,  , qm} and P={p1, p2,  , pn}, where Q represents the query objects and P represents the Web page objects.
Three kinds of relationships among the Web objects are studied in this paper, including Web page in-link relationship (IL), Web page out-link relationship (OL), and query-page click-through relationship (CT).
For any Web object v in G, the set of the adjacent objects which have any of the three relationships with the object v, is denoted as MR(v) (R represents the corresponding relationship).
For example, MIL(v) denotes the set of Web pages that contains hyperlinks leading to Web page v. Individual , where 1 i |MR(v)|.
objects in the set MR(v) are denoted as Furthermore, we use S to denote a similarity matrix for objects; thus, S[a,b] is the similarity between objects a and b.
In this section, we propose the a unified framework of similarity spreading algorithm, to calculate the similarity of different Web objects by utilizing different kinds of object relationships in a mutually reinforcing manner.
The query similarities can be calculated as: )(vM i


 s qq , [ t ] = Keyword ( Keyword ( q q s s ) )    

 s qq , [ t ] s qqS ,
 [ = t ]
 t t | ) ) |) Keyword q ( Keyword q ( qM (     |) = i
 t s qq ] , qM ( =
 [

 j t s |
  

 = |  

 ||) + ] s (
 s qq , [ t qMqM ( t |) qMqMS (
 i
 j
 ), ( [ s (1) t )] where qs and qt are two queries;  + =1; SQ and SP are the similarity matrices of the queries and the Web pages, respectively.
As shown in Eq.
1, the inter-type similarity of the queries is affected by the similarity of Web pages via the click-through relationship (MCT).
The similarity matrix (SQ), for the current iterative result, is a linear combination of intra- and inter-type query similarity.
Similarity of Web pages can be defined in a very similar fashion as:

 [ p s , t p ] = Keyword Keyword ( ( p p s s ) )     Keyword Keyword ( ( t t p p ) )
 [
 t s pp , ] = |

 s ||) pMpM ( (

 t |)

 s pp , t ] [ = |

 s ||) t pMpM ( (

 | |) s | pM (
 )| | pM (
     t )| t pMpMS (
 i
 j
 ), ( [ s i pM (
 =
 s )| | = j
 t pM )| ( t pMpMS (
 i
 ), j
 ( [
 s     =
 i =
 j )] (2) t |) t pMpMS [ (
 i
 j
 ), ( s )]
 [
 t s pp , ] =

 s ||) t s pp | ( t pMpM (


    

 (' [

 + ] , |) s | pM (
 |) | pM (
     = = j i

 t s   +
 pp ' , ]) s , , , ] [ ] ] + = [
 [
  
 ' [
 t s pp t s pp t ppS
 where ps and pt are two Web pages, and  '+ '+ '=1.
The similarity of the queries is spread to the similarity of Web pages through the click-through relationship (MCT), and the similarity matrix (SP), for the current iterative result, is a linear combination of intra- and inter-type Web page similarity.
The similarity calculation can be continued iteratively until values converge.
We used a trace of query sessions from the MSN search engine that was collected in August, 2003.
It contains almost 1.2 million requests recorded over a period of three hours.
We define a quantitative measure Precision to evaluate the performance of the algorithm.
Given an object, the top 10 of similar objects as M is present to the user.
Then ten volunteers were asked to identify which object is similar to the given object and the set N is the voting results we collected.
The precision of the algorithm is defined as |N|/|M|.
We do two types of experiments: one is to measure the performance of finding the similar queries and the other is to measure the performance of finding the related Web pages.
n o i s i c e r

















 Num Figure 2 Precision of the similarity between the queries )]



 We compare several methods: our unified framework (UF), content based method (CB) which is only based on the keywords, hyperlink based method (HB) which is only based on the hyperlink relationship, and query log based method (QLB) which is only based on the clickthrough data.
For query similarity calculation, linear combination method (LC) is linear combination of CB and QLB, while for Web page similarity calculation, linear combination method (LC) is linear combination of HB and QLB.
The comparison of 4 algorithms is shown in Figure 2.
The rightmost label  AVG  stands for the average value for the 10 queries.
Our algorithm can improve the accuracy of similarity among the queries.
The ten volunteers were also asked to evaluate the precision of the similarity calculation for the random selected 10 Web pages.
The comparison of 4 algorithms is shown in Figure 3.
