Milgram s six-degrees-of-separation experiment [28] and the fascinating small world hypothesis that follows from it have been rich sources of interesting research in recent years.
In this landmark experiment, human subjects were asked to deliver a letter to a target person in a faraway city, following a simple rule: If they knew the target on a  rst name basis, they would deliver the letter; otherwise, they would pass  Research done during an internship at Google when the author was in the Dipartimento di Informatica of Sapienza University  The author is supported by a Google Research Award and  Research conducted while author was at Google Inc.
a Yahoo!
Faculty Award Copyright is held by the International World Wide Web Conference Committee (IW3C2).
Distribution of these papers is limited to classroom use, and personal use by others.
the letter along to a friend, with the same instructions.
The surprising outcome was that a reasonably large fraction of the letters reached the target and moreover, they did so in very few hops.
The success of Milgram s experiments led to the fascinating small world hypothesis: take any two people in a social network, and they will be connected by a short chain of acquaintances.
The extent to which the hypothesis is true is still actively debated.
In this paper we give new experimental and theoretical results concerning Milgram s experiment.
Empirical results: We perform an  in silico  replica of the experiment where a cognitive  space of interests  is navigated.
In our experiment we consider a social network of co-authorships of computer science papers.
Two people in this networks are  friends  if they are coauthors.
We then extract a space of interests consisting of computer science topics.
In simulating the experiment, we go from person to person by moving to the friend of the current person that has more interests in common with the target.
To the best of our knowledge, this is the  rst time that the concept of an interest space is used in a pure digital replica.
Previous studies such as [25, 30] made use of geographical proximity only (the move is toward the friend that is geographically closest to the target), an overly constrained rendition of the experiment.
Theoretical results: Motivated by the experiment above, we give a new evolutionary model that captures the small world phenomenon together with other important properties of real-world social networks.
Among these there are dynamic properties, such as densi cation and shrinking diameter, and static properties like heavy-tailed distribution of popularity (number of friends).
The main aspect of the model is its builtin  interest space,  a space of concepts that is navigable.
An important issue with Milgram s small world hypothesis is the di culty of its veri cation.
Milgram s painstaking work enabled him to collect data on a few hundreds of individuals.
The advent of the internet has made it possible to perform large-scale replicas of the experiment, as in [6], or genuine  in silico  experiments, where there is no human participation  the experiment is made only with social data in digital form.
Such  genuine  digital replicas are the main focus of this paper.
One such instance is the study in [30].
A snapshot of the social networking site LiveJournal was downloaded to obtain a social network of roughly 15 million individuals.
The experiment was simulated by picking source and target at random, and by moving toward the target according to geographical proximity (geo-greedy): from closest to the target.
In another instance [25], the diameter of the social network of IM chat exchanges was estimated and found to be compatible with the small world hypothesis.
These  cyber-replicas  have the obvious advantage that one can test the small-world hypothesis with millions of individuals.
The main problem is how to make them realistic.
The limitation of the approaches in [25, 30] is that they only take into account geographical or positional information, while it is clear that cognitive cues play a role in the original experiment.
As mentioned, in this paper we present a cyber-replica of Milgram s experiment in which a  space of concepts  is navigated.
In simulating the experiment, we go from person to person by moving to the friend of the current person that has more interests in common with the target.
Our experiments strongly reinforce two signi cant pieces of work in the sociology literature   the importance of weak ties [12] and the signi cance of the social status of the target node in Milgram s experiment [17].
Finally, since our experiments are based on publicly available data, it should be possible for other researchers to replicate our work as well as derive additional insights underlying small-world routing.
There is a rich literature on stochastic models that reproduce several salient features of real-world social networks (e.g.
power law distributions of popularity [5, 8], high clustering coe cient [26], densi cation and shrinking diameter [24]).
There is, however, no model that seamlessly captures all of them.
It would also be nice to have an evolutionary, as opposed to static, model of small world, where the network is evolving as new entrants join instead of being  xed.
And of course, most interestingly, such a model should have a natural notion of  space of interests  that is navigable and that co-evolves with the social network.
In this paper we do precisely this, by introducing a new evolutionary model that builds on the work in [21] and that captures nicely many salient sociological properties of real-world networks.
The model is based on a liation networks, a concept  rst introduced in sociology by Breiger [4] and extended in [21].
An a liation network is a bipartite graph with people on one side and interests on the other.
The a liation network comes with an associated friendship graph in which two people are friends if they share an interest.
In the friendship graph people can also become friends because of  popularity  of one of the two parties, that is, preferential attachment is also in e ect.
In the original model people and interests join dynamically [21].
Each new node (person or interest) is a random perturbation of one preexisting node.
In our new model, a new interest that joins the network can be a perturbation of a mixture of preexisting interests and, similarly, a new person joining the network will share a subset of the interests of several friends, as opposed to just one of them.
Thus, this extension is more natural.
While this is a small variation of the original model, the new model exhibits several interesting new properties (that are not known to be enjoyed by the original model).
Our model is the  rst to exhibit simultaneously three di erent (sets of) properties of social networks: small world phenomena, evolutionary properties, and navigability of the interest space.
In previous attempts, these features were somehow captured but separately.
For instance, the models in [9, 10, 16, 35] deal with the small world phenomenon, but they are static and unable to explain evolutionary properties or even the heavy-tailed distribution of popularity (number of friends).
Furthermore they assume that every person knows the distance between its neighbors and the target, while we only assume that every person knows how similar interests are.
There have been also some attempts to de ne and navigate an interest space instead of geographic information [15, 34] or to use a latent space of interests to de ne the friendship graph [31, 33].
But, again, these models are static (the number of nodes in the graph does not increase with time) and unable to explain evolutionary properties.
In contrast, in our proposal all these di erent aspects come forth naturally from the same simple model.
Our enhanced model has several strong properties that are especially relevant for modeling small worlds, matching the experimental evidence from a quantitative point of view.
The e ective diameter of the friendship graph is bounded from above by a constant.
This is compatible with the empirical observations of [25] where a very large social-network of hundreds of millions of nodes was analyzed, and its e ec-tive diameter found to be a very small number.
When we analyze the actual working of Milgram routing in the friendship graph (not to be confused with the mere existence of short paths), we  nd that when source and target are chosen at random, their expected routing distance is O(log2 n).
The novelty here is that to  nd this short chain we navigate the interest space associated with the a liation network, and not the friendship graph itself.
When the target is chosen by popularity, i.e. with probability proportional to the numbers of friends, then the expected length of the chain can be upper bounded by a constant.
This is in line with the experimental evidence with human subjects.
It has been pointed out that the successful outcome of Milgram s experiment could depend on the fact that the target was a person of high social status and had a profession that contributed even more than his status to establish and nurture many social connections [17].
Our model captures these features of the real world very nicely.
Further, in accordance with the observation of Granovetter [12], the proofs of the upper bound for the diameter and the expected routing distance use heavily the presence of weak ties (i.e. preferential attachment edges in the model).
To summarize, our analysis shows that our model incorporates not only basic structural facts of real-world networks, but can also explain some of their more nuanced features.
We now overview the most relevant literature.
Local routing algorithms have been intensely studied in the context of distributed systems.
In this context there are some attempts to use the intuition behind the Milgram s experiments to build new algorithms.
Besides the work in [25, 30] that make use of social networks, other authors have replicated Milgram s experiment in the real world [13] or by using using email [2, 6].
These experimental  ndings are compatible with the small world hypothesis.
The issue of attrition, the natural tendency of human subjects to drop out of the experiment, is analyzed in [11].
This social attrition introduces a bias in favor of short chains, because long chains tend to be interrupted before reaching the target.
Taking this bias into account makes chains somewhat longer on average.
Other interesting critiques to the Milgram s experiment are presented in [17].
From a theoretical viewpoint, one of the  rst observations di erent from the classical Erd os R enyi models comes in the work of Faloutsos et al.[8], who noticed that the degree distribution of the Internet graph (the graph whose vertices are computers and whose edges are network links) is heavy-tailed, and roughly obeys a  power law,  that is, for some constant   > 0, the fraction of nodes of degree d is proportional to d .
Similar observations were made about the web graph (the graph whose vertices are web pages, and whose directed edges are hyperlinks among web pages) by Barabasi and Albert [3], who also presented models based on the notion of  preferential attachment,  wherein a network evolves by new nodes attaching themselves to existing nodes with probability proportional to the degrees of those nodes.
Both works draw their inspiration and mathematical precedents from classical works of Zipf [36], Mandelbrot [27], and Simon [32].
Later Broder et al.
[5] made a rich set of observations about the degree and connectivity structure of the web graph, and showed that besides power-law degree distribution, the web graph consisted of numerous dense bipartite subgraphs (often dubbed  communities ).
Aiello et al. [1] and Kumar et al. [19] presented three models of random graphs that o er rigorous explanations for power-law degree distributions.
After the discovery of some surprising evolutionary properties such as densi cation and shrinking diameter in [24], several new models have been introduced [24, 22, 23] but none of them could really explain the new properties before the introduction of the a liation network model [21].
The a liation network model is the  rst model where interests have a crucial role and so is the  rst evolution model where it is possible to study Milgram s experiment.
In two previous papers [20, 29], the connectivity and the degree distribution of a static version of a liation network model have been studied.
The works of Watts and Strogatz [35] and of Kleinberg [16] are the closest in spirit to ours in that they o er graph models that incorporate natural routing algorithms.
In Klein-berg s model, vertices reside in some metric space, and a vertex is usually connected to most other vertices in its metric neighborhood, and, in addition, to a few  long range  neighbors.
He proved the remarkable result that the network has small diameter and easily discoverable paths i  the long-range neighbors are chosen in a speci c way.
Klein-berg s models o er a nice starting point to analyze social networks, but because of its stylized nature, isn t applicable in developing an understanding of the structure of real social networks.
The other limitation of Kleinberg s model is that it is static, and is not a model of graph evolution.
For this reason several extensions of Kleinberg s model have been introduced in order to study the problem starting from a di erent initial topology [10] or adding some constraint on the  nal degree distribution of the graphs [9].
The model that we consider in this paper is a variation of the one presented in [21].
In both models, two graphs evolve at the same time.
The  rst is a bipartite graph, denoted as B(P, I), that represents the a liation network, with a set P of people on one side and a set of interests I on the other.
An edge (p, i) represents the fact that p is interested in i.
The second graph is a friendship network, denoted as G(P, E), representing friendship relations within the same set P of Figure 1: Insertion of a new person in the a lia-tion network and the social network derived from it.
(A)The initial a liation network and the related social graph.
(B)Insertion of P4 in the a liation network.
(C)P4 selects as prototype P3.
(D)P4 copies a perturbation of the edges of P3.
(E)The social graph is updated.
(F)P4 adds some preferential attachment edges in the social graph.
people.
In this graph, people can be friends for two di erent reasons: if they share an interest or because of preferential attachment.
Thus, G is the  folding  of B, plus a set of edges generated by preferential attachment.
In [21] the graph B evolves as follows.
When a new interest (resp.
person) comes in, it selects a prototype node among the existing interests (resp.
people) and copies it with a small perturbation.
In this new version, when a new node joins B it can select more than one prototype.
A new interest for example, will be a slightly perturbed mixture of a few existing interests, and a new person will be interested in a combination of interests of his/her friends.
This new model seems more realistic and, from the technical point of view, it presents a few complications that make it a non straightforward extension of the previous one.
More importantly, in this new version of the model it is possible to prove that it enjoys some interesting additional properties.
Figure 1 describes the insertion of a new person in the a liation network and the friendship network.
Table 1 describes the model precisely.
For readability, we present the two evolution processes separately even though the two graphs evolve together.
We say that an event occurs with high probability (whp) if it happens with probability 1   o(1), where the o(1) term goes to zero as n, the number of vertices, goes to  .
A random variable X is said to be heavy-tailed if limx  e xP r[X > x] =   for all constants   > 0.
Definition 1.
The graph G(P, E) will be referred to as the friendship graph.
An edge of G between two people that comes from the fact that they share an interest in B is called a folded edge.
(A)(B)(C)(D)(E)(F)P1P2P3I1I2I3P1P2P3P1P2P3I1I2I3P1P2P3P4P4P1P2P3I1I2I3P1P2P3P4P4P1P2P3I1I2I3P1P2P3P4P4P1P2P3I1I2I3P1P2P3P4P4P1P2P3I1I2I3P1P2P3P4P4WWW 2011   Session: Information SpreadMarch 28 April 1, 2011, Hyderabad, India727B(P, I) j=1 cpj = cp,(cid:80)k2 (cid:80)k1 Fix two integers k1 and k2,  x k + s integers j=1 cij = ci > 0, and let     (0, 1).
At time 0, the bipartite graph B0(P, I) is a simple graph with at least cpci edges, where each node in P has at least cp edges and each node in I has at least ci edges.
At time t > 0: (Evolution of P ) With probability  : (Arrival ) A new node p is added to P .
(Preferentially chosen Prototypes) A set of nodes p1,  , pk1   P , with k > 1, are chosen as prototypes for the new node, with probability proportional to their degrees.
(Edge copying) cpj edges are  copied  from pj, with j=1 cpj = cp; that is, cpj neighbors of pj, denoted by i1, .
.
.
, icpj , are chosen uniformly at random (without replacement), and the edges (p, i1),  , (p, icpj (Evolution of I) With probability 1   , a new node i is added to I following a symmetrical process, adding ci edges to i.
1   j   k1 and (cid:80)k1 ) are added to the graph.
j=1 cpj = cp,(cid:80)k2 (cid:80)k1
 Fix three integers k1, k2 and s,  x k + s integers j=1 cij = ci > 0, and let     (0, 1).
At time 0, G0(P, E) consists of the subset P of the vertices of B0(P, I), and two vertices have an edge between them for every neighbor in I that they have in common in B0(P, I).
At time t > 0: (Evolution of P ) With probability  : (Arrival ) A new node p is added to P .
(Edges via Prototype) An edge between p and another node in P is added for every neighbor that they have in common in B(P, I) (note that this is done after the edges for p are determined in B).
(Edges via evolution of I) With probability 1    : A new edge is added between two nodes p1 and p2 if the new node added to i   I is a neighbor of both p1 and p2 in B(P, I).
(Preferentially Chosen Edges) A set of s nodes pi1 , .
.
.
, pis is chosen, each node independently of the others (with replacement), by choosing vertices with probability proportional to their degrees, and the edges (p, pi1 ), .
.
.
, (p, pis ) are added to G(P, E).
Table 1: Description of the evolving model.
In this section we show that the properties of the original model in [21] are also enjoyed by the new model.
We begin by de ning the concept of e ective diameter that intuitively measures the largest distance between  almost all  pair of nodes in a graph.
Definition 2.
[E ective Diameter] For 0 < q < 1, the q-e ective diameter is the minimum de such that, for at least a q fraction of the node pairs, the length of the shortest path between the pair is at most de.
Then we de ne the core and hubs.
Intuitively, they de ne the popular interests and the people that are connected to them.
Definition 3.
[Core and hubs] Let d(v) be the degree of v. A set of interests C   I is an  -core of an a liation network B(P, I) if d(v)    n for all v   C. The hubs are the people in P at distance one from C.
In what follows we will refer to  -cores simply as cores.
We now list a set of properties that our model shares with the original a liation network of [21].
The proofs are similar and omitted from this extended abstract.
The properties are the heavy tailed distribution of degrees in both B(P, I) and G(P, E), and densi cation and shrinking diameter of
 Theorem 1.
[General properties of the model] (1)Given an a liation network B(P, I), the degree sequence of nodes in P (resp.
I), almost surely when n    , follows a power law distribution with exponent (cid:16)   =  2   cp  ci(1    ) (cid:17) resp.  =  2   ci(1 ) cp  , for every degree smaller than n  where   <   <
 4 + cp  ci(1 )  
 4 + ci(1 ) cp  .
(2) The degree distributions of the graphs G(P, E) is heavy-tailed with high probability.
(3) The number of edges in G(P, E) is  (n) with high probability.
(4) The q-e ective diameter of G(P, E) shrinks or stabilizes after time  n with high probability, for any constant 0 <   < 1 and for any constant 0 < q < 1.
Now we state two technical lemmas that we will use in the following sections.
The proofs are omitted from this extended abstract.
Lemma 2.
Let 1 >  > 0 be any constant and let v be a node in B(P, I) with degree g(n) at time n, with g(n)    (log2 n).
Then, with high probability, v s degree at time n is smaller than C   g(n), for some constant C > 0.
Furthermore, if a node v has degree o(log2 n) at time n or it is inserted after time n, then the  nal degree of v is in o(log2 n) with high probability.
Lemma 3.
With high probability, any node of P inserted after time  n, for any constant   > 0, will be connected to a hub via a preferential attachment edge.
Further we have that, with high probability for t >  n: V (hubs, t) = dG(v)     1+  and V (G/hubs, t) = dG(v)    
 t (cid:88) (cid:88) v hubs v / hubs (cid:32) (cid:32) t (cid:19)(cid:33) (cid:19)(cid:33) (cid:18) 1  ci (1 ) cp   (cid:18) 1  ci (1 ) cp   is the volume of the node in S at time t.
In this section we study the e ective diameter of G(P, E) and show that it is bounded by a constant (it is unknown if this property holds in the original a liation network model).
This property is a consequence of the coexistence of folded and preferential-attachment edges.
Several studies have shown that links in a social network are of two types, local and long-range, also called weak, ties [12].
Weak ties have several important structural properties, for instance they form bridges between di erent communities and, in particular, they are the crucial ingredient that makes small worlds possible.
In our model folded edges are local, for they connect people within a community of shared interests, while preferential attachment edges are the weak (or long-range) ties [12,
 and sociological intuition, in our model weak ties are very few compared to folded edges.
In this section we show that weak ties play another interesting structural function that is in accordance with the empirical evidence: weak ties are crucial to bound the e ective diameter of the friendship graph by a constant.
Our proof also uses in a fundamental way the presence of hubs.
This might seem in contrast with the results in [6] where the authors suggest that their role is not relevant.
A possible explanation is that they consider only the degree induced by the explored paths, and thus consider only a subgraph of the social network.
Thus it is possible that in their experiments a high degree node seems to have small degree just because only few messages passed through him.
In our proof we consider the real degree of a node.
We also note that our results are in line with the original  ndings of Milgram [27] and with our experiments.
Theorem 4.
For every q < 1, there is a constant  q such that the q-e ective diameter of G(P, E) is bounded from above above by  q.
The next lemma (proof omitted) on the distance between nodes in the core of the a liation network is crucial in the proof of Theorem 4.
Lemma 5.
Let C be the core of the a liation network B(P, I).
There exists a constant d, independent of n, such that, with high probability, the distance in the a liation network between any pair of nodes in the core is at most d.
Corollary 6.
Any two hubs are at constant distance in G(P, E) and B(P, I), with high probability.
Proof.
(of Theorem 4) Recall that from Lemma 3 we have that all nodes in P inserted after time  n, for any   > 0, will have at least one preferential attachment edge incident to a hub, with probability 1   o(1).
Now, let Xi be a random variable such that: (cid:26) 1 if i has a hub in its neighborhood neighborhood is (cid:80)n (cid:104)(cid:80)n i=1 Xi   (cid:80)n The number of nodes that have at least one hub in their i= n Xi.
From Lemma 3 it (cid:105)   (1   c)n, for any constant c > follows that E Xi = 0 otherwise i= n Xi Figure 2: An a liation network(A) and the induced social network(B) and hierarchy of interests(C).
The dotted lines from a to b in (A) represent that b is the prototype of a.
have that (cid:80)n  .
Observe that each Xi satis es the Lipschitz condition with di equal 1.
So by standard concentration results [7] we i= n Xi   (1   c(cid:48))n, for any constant c(cid:48) > c.
Hence the claim follows from Corollary 6.
In this section we analyze the performance of Milgram routing in our model.
It is clear that in Milgram s experiment cues other than geographic distance play a role.
For instance, the target was de ned not only by a location but, crucially, by a profession.
Therefore, if one wants more realistic models a more nuanced version of proximity must be used.
In this section we show that our model has a natural  space of interests  that is associated with the a liation network that is navigable.
We note that it is not known if the original a liation network model enjoys the same property [21].
Two more aspects make the following analysis interesting in our opinion.
This is the  rst study of the performance of local routing algorithm with an evolving model.
Furthermore, ours is the  rst model that can explain Milgram s experiment if we assume some constant attrition, as suggested in [11] (i.e. in this case only paths of constant length can be observed with high probability).
We start by de ning a notion of distance between interests.
In order to do so we de ne the prototype graph G(I,  E).
The nodes of the prototype graph are the interests in the a liation network, and two interest i1, i2 have an edge between them if i1 has been selected as a prototype for i2 or vice versa.
Furthermore, we have that two initial interests i(cid:48) and i(cid:48)(cid:48) contained in the graph B0(P, I) are connected if there is a person in B0(P, I) that is interested in (connected to) both.
Thus, the prototype graph consists of a clique of the initial interests and of links connecting nodes to their prototypes.
In Figure 2 it is shown an example of a lia-tion network with the induced friendship network and the prototype graph.
Definition 4.
[Distance between interests] For two nodes i1, i2   I, we de ne the distance between i1 and i2 as the shortest (hop) distance between the two nodes in the prototype graph.
Further, we de ne the interest distance between two people p1 and p2 as the smallest distance between any interest of p1 and any interest of p2.
In our analysis we assume that every person is able to assess the distance between any two interests.
In practice we are between any two interests, in order to decide which friend is closest to the target.
This natural assumption is made, perhaps implicitly, in every previous navigation model.
For example in [16] a node is always able to select the neighbor closest to the target in the metric space.
We de ne our routing algorithm as follows.
Definition 5.
[Local Routing algorithm] In each step the message holder u performs the following: (1) If the destination is a neighbor of u, the message is forwarded to it.
(2) Otherwise, u forwards the message to the neighbor that minimizes the interest distance to the destination.
We start by proving a basic property of our algorithm.
Lemma 7.
In every step of the local routing algorithm, either the interest distance between the message holder and the destination is reduced or the message is delivered to the target.
Proof.
If the message holder knows the target the lemma is true by de nition 5.
Otherwise let v be any interest of the message holder and let w(v) be an interest connected to v in the prototype graph but with smaller distance from the target.
Note that w(v) always exists because the graph is connected.
There are two cases: (i) if v, w(v)   B0(P, I) then there is a person in B0(P, I) interested to both v, w(v); (ii) if v is a prototype of w(v) (or, symmetrically, vice-versa) then v and w(v) have a neighbor in common in B(P, I) by de nition of the evolving process.
In any case, for any interest v of the message holder in the people graph, there is a person interested in both v and w(v).
It follows that in the neighborhood of the message holder, for any interest v, there is a person interested in w(v).
So using the local routing algorithm it is always possible to forward the message to the neighbor closest to the target, and the claim follows.
We now show that for most source-destination pairs it is possible to route the message within a constant number of steps, provided that the destination is selected with a probability that is proportional to its degree, i.e. its  popularity  in the social network.
This result is in accordance with the analysis of Milgram s experiment done by Kleinfeld [17], who pointed out that a successful outcome crucially depends on the social status of the target1.
1  cp.
Theorem 8.
Let ci <   If the destination is selected with probability proportional to its degree and the source is selected uniformly at random then, with probability (1    o(1)), for any constant   > 0, the local routing algorithm delivers the message in constant many steps.
Proof.
Let v be the destination.
We  rst prove that with probability 1   o(1) v is a hub.
Recall that the volume
 Kleinfeld s observation in [17].
She wrote  Take the selection of the sample.
I found in the archives the original advertisement recruiting subjects for the Wichita, Kansas study.
This advertisement was worded so as to attract not representative people but particularly sociable people proud of their social skills and con dent of their powers to reach someone across class barriers.  Apart from this skepticism there are experiments suggesting that social barriers can actually hinder Milgram s local routing [18].
of a vertex is its degree, and that the volume of a set of vertices is the sum of their volumes.
Let hubs denote the set of hubs.
Let V (hubs, t) be the total volume of the hubs at time t, and V (G/hubs, t) the total volume of the rest of the graph at time t. As shown in Lemma 3 we have that, for t >  n: (cid:32) (cid:32) t (cid:19)(cid:33) (cid:19)(cid:33) (cid:18) 1  ci (1 ) cp   (cid:18) 1  ci (1 ) cp   V (hubs, t) = dG(v)     1+  and V (G/hubs, t) = dG(v)    
 t (cid:88) (cid:88) v hubs v / hubs Where   > .
Thus, when the destination is selected with probability proportional to its degree, with probability 1   o(1), it will be a hub.
In addition, Lemma 5 implies that two hubs are within constant distance also in the interest space.
So, by Lemma 7, it holds with high probability that if a message reaches a hub it will need only a constant additional number of steps to reach every other hub using the local routing algorithm.
Now note that Lemma 2 implies that all the hubs are inserted before time  n with high probability, for every constant   > 0.
Further, by Lemma 3 every node inserted after time  n will be connected to a hub with probability
 destination is a hub and the source has a hub in its neighborhood.
It follows that the local routing algorithm will deliver a message in a constant number of rounds, with probability at least (1       o(1)).
We now consider a di erent setting.
Suppose that we expand the interests of the destination in such a way that they include the interest of its neighbors.
We call this case the expanded interests setting.
This is an attempt to capture the additional knowledge that human subjects have about the destination, apart from its personal information.
This is interesting because it captures some features of the original experiment.
For instance, in the  rst experiment presented by Milgram in [28], the sources knew also that the target was married to a divinity student in Cambridge, MA.
In this setting we can prove the following.
The proof is similar to the proof of the previous Theorem and omitted for lack of space.
Theorem 9.
Let ci <  
 setting when source and destination are selected uniformly at random then, with probability (1   2    o(1)), the local routing algorithm will route the message in constant many steps, for every constant   > 0.
Now we study the most general case, when source and target are chosen adversarially and we do not extend the interest space of the destination, in this setting we are able to show the following upper bound on the running time of the local routing algorithm.
Theorem 10.
If ci <   1  cp then, for any source and any destination, the local routing algorithm routes the message within O(log2 n) steps with high probability.
Proof.
To prove the result we will bound the diameter of the interest prototype graph.
By Lemma 7 the diameter is an easy upper bound for the delivery time of local routing.
of the prototype graph is O(log2 n).
log n is o (cid:17) .
Thus, the diameter is O(log2 n) whp.
The general idea of the proof is to divide the random process in O(log n) macro-phases, and to show that in each macro-phase the probability that diameter increases by   (log n) (cid:16) 1 constant  > 0.
Phase two is up to step(cid:4)(1 + )2 log n(cid:5).
In at step(cid:4)(1 + )i log n(cid:5).
Let us divide the evolving process in O(log n) phases.
In phase zero we group the  rst 600 log n steps.
Phase one is from the end of phase zero to step (cid:98)(1 + ) log n(cid:99), for a small general, phase i starts after the end of phase i   1 and ends Let us now consider a generic phase t > 0.
Let T = (1 + )t600 log n. First, we want a bound on the number of edges in the a liation network B(P, I) at the beginning of each phase.
Let At be the random variable that counts the number of edges at the beginning of phase t. We have that E[At] = ( cp + (1    )ci)T .
By the Cherno  bound, (cid:21) (cid:18) (cid:19) |E[At]   At| > P r

 E[At]   exp   E[At]
   1 n2 .
(cid:20) Using the union bound for the number of macro-phases, it follows that at the beginning of each phase t, At   11 we will assume that 9



 To get a bound on the diameter, we start by studying the
 two following events:  1(j) = {interest j, inserted in phase t, of degree ci is selected in a step during phase t as a prototype for the  rst time}  2(j) = {interest j, inserted in phase t, of degree ci increases its degree in a step during phase t} At First notice that from the de nition of the evolving process, we have that Pr[ 1(j)]   ci   10ci

 To bound Pr[ 2(j)], recall that interest j has degree ci, so there are ci people interested in it.
Denote them as p1, p2,  , pci .
Now, if j increases its degree, it must be because a new person joins the graph and copies the interest j from one of the person interested to it, p1, p2,  , pci .
This happens with probability: Pr[ 2(j)]   ci(cid:88) i=1 (cid:18) (cid:18) (cid:19)cp(cid:19) 10di



 di Using calculus, it is possible to see that this probability is maximized when d1 =   = dci = T .
Thus (cid:16) (cid:19)cp(cid:19) (cid:18) (cid:18) (cid:17)   cpci   ci 1   e cp


 Pr[ 2(j)]   ci

 So Pr[ 1(j)    2(j)]   2 cpci  2(j).
T .
Let us de ne  (j) :=  1(j)   Now we can compute the probability that in phase t the diameter of the prototype graph increases by more then C, with C > e. Let us call this event  C .
Note that if  C holds, a sequence of C new interests is added in phase t, increasing the diameter of the prototype graph of C. In order for this event to hold   has to occur at least C times in a phase.
So we can upper bound  C as follows.
Pr[ C ]   (# of steps in a phase)   (# of new nodes in a phase)   P [xi(j) holds for node j of degree ci]   (cid:100)T(cid:101)(cid:0)(cid:100)T(cid:101) (cid:1)P [xi holds for a node j in a step] (cid:1)(cid:16)   (cid:100)T(cid:101)(cid:0)(cid:100)T(cid:101) (cid:18) (cid:17)C   (cid:100)T(cid:101)eC(cid:16)  (cid:17)C (cid:19)T C(cid:16) 


   (cid:100)T(cid:101) (2cpcq)C (cid:17)C (2cpcq)C cpcq




 < (cid:100)T(cid:101) (2cpcq)C ,
 where in the third inequality we use Stirling s approximation.
Therefore the probability of  C decreases geometrically with C.
Finally, let us compute the probability that the  nal diameter is greater than K = k log2 n. After the  rst phase the diameter is at most 600 log n, so we can bound the previous probability as the probability that the diameter increases by at least (k   600) log n after phase 1.
Hence Pr[D   k log n]  
 log(1+) n i=2 Pr[ ki ] i=2 ki=K 600 log n k2,k3 ,  ,klog(1+) n (cid:88) (cid:80)log(1+) n log(1+) n   (K   600 log n) (cid:17)   T log n   (2cpcq)K 600 log n(cid:17) (cid:17)   (cid:16) log(1+) n   (K   600 log n)
   o(1)   (cid:16)  (cid:16)   (cid:16)  k log n(cid:17) nlog n   n Thus by choosing a large enough k the claim follows.
Our mathematical model of social networks, building on the a liation network model, suggests natural decentralized routing algorithms in social networks.
Namely, given a source vertex s and a target vertex t, identify the interests of s and t in the underlying a liation network and identify the neighbor of s whose interests are closer to that of t (with respect to the hierarchy of interests implied by the prototype selection step).
Inspired by this, one can de- ne natural algorithms that perform decentralized routing in real-world social networks by suitably approximating the process of navigating the interest hierarchy.
In this section, we do precisely this, and report our  ndings based on simple experiments with a modestly-sized social network.
Our social network consists of authors as nodes and edges de ned by co-authorship of one or more articles.
We downloaded a copy of the DBLP database of computer science papers, a DB of roughly 735,000 authors and 1.24M articles, and constructed the co-authorship graph with about
 per node).
On this network, we randomly selected about 575 pairs of source target pairs and attempted to construct paths between them.
The largest connected component in this network has roughly 80% of the vertices, with the rest of the vertices in very small isolated components, so that the probability that two randomly selected nodes belong to Expand, Local-Monotone-Expand, and so on.
Figure 3, 4 report the percentage of succesful chains for the eight variations of the decentralized routing algorithm we studied.
For reference, we compare the performance of the decentralized routing algorithms to that of the omniscient algorithm that has full information about the network structure and employs a standard  shortest path  computation.
The  success percentage  in Figure 3, 4 is the percentage of source target pairs successfully routed, divided by 0.64 (which is the fraction for this omniscient algorithm).
The results are presented in four groups, each corresponding to one value of a parameter called   , which restricts the sampling of the target nodes to be uniform among all nodes of degree at least   ; this is done to explore the role of the centrality of the target in determining the success of decentralized routing.
the largest connected component is roughly 64%.
The mean length of the shortest path between nodes in this component is roughly 6.3 (with a median length of 6).
Notice that in this way, we construct an a liation network where two authors are friends if they coauthor a paper, now we have to infer a metric on the interest in order to route the messages.
Unfortunately this is not easy, because there is not a clear de nition of closeness between papers and all the standard classi cation system for the papers are too poor for our purpose.
To overcome this di culty we de ne the interest space not as the set of papers but as the set of bigrams and unigrams contained in the title of the paper.
In particular we begin by segmenting article titles into one-word and two-word sequences (unigrams and bigrams) after suitably eliminating stopwords that occur commonly ( and ,  the , etc.).
For instance, the title  Small world experiments for everyone  generates four unigrams    small ,  world ,  experiments , and  everyone , and two bigrams    small world ,  world experiments .
Both bigrams and un-igrams are treated as interests, with the latter of a more generic kind; for instance, the unigram  physics  is somewhat general, whereas the bigram  particle physics  is much more speci c.
In this fashion, for every author, their interest pro le is identi ed; speci cally, for author a and interest i, we de ne s(i, a) to be the strength of interest i for author a, and is de ned as the number of occurrences of interest (unigram/bigram) i within author a s publications.
To simulate Milgram s experiment, our basic algorithm operates as follows: if we are currently at node x, we move to the neighbor y of x whose interest pro le is closest to the target t, where the measure of proximity of y to t is computed according to the formula (cid:88) Interest i proximity(y, t) = s(i, y)s(i, t) p(i) , Figure 3: Success Rate without extended interests.
 ned by p(i) =(cid:80) where p(i) denotes the overall popularity of interest i, de-a s(i, a).
If there is no neighbor with nonzero proximity, we either declare failure, or in a variation of the experiment, proceed greedily to the neighbor of highest degree.
The most basic variant of the algorithm outlined insists that the proximity measure strictly increase in each step of the routing: this version is called Local-Monotone, and the version without this restriction is called Local.
The next variation we consider is to allow one step of  lookahead , where we not only evaluate neighbors of x, but also evaluate neighbors of neighbors of x, and route through the neigho-bor whose neighbor achieves the highest proximity to the target; this idea of  lookahead , very common in computer science, captures the belief that in real social networks, one not only has knowledge about their friends, one often has partial knowledge about friends-of-friends.
The corresponding non-monotone and monotone variations are called, respectively, Lookahead and Lookahead-Monotone.
In a third variation, we allow the algorithm the knowledge not only of the target s interests, but also those of its neighbors ; this is a  reverse  and limited form of lookahead, and has precedent in Milgram s experiment, where the sources had the knowledge that the target was the wife of a student of divinity in Cambridge, Mass.
This is naturally aimed at routing to hard-to-reach destinations by augmenting the algorithm with extra information.
The corresponding vari-Figure 4: Success Rate with extended interests.
We brie y highlight some salient observations based on Figures 3, 4, 5 and 6 and other related experiments.
(1) Navigation based on interests is an extremely powerful paradigm; the success of the basic algorithm Local in achieving 21% successful routing is, a priori, unexpected, given how crude our construction of the interest space is.
In particular the previous replicas of the small-world experiment had always lower successful rate [6, 30].
(2) Adding even one of two natural cues to local routing (either expanding the interests of the target or adding a step of lookahead) is enormously powerful   with each cue
 computed the average and median of its degree.
While the average degree of author nodes in the co-authorship network is 6.7, the average and median values of the degree of the node with the most connections along shortest paths are, respectively, 133 and 163.
For Lookahead-Expand, our most successful decentralized routing algorithm, these values are, respectively, 189 and 228.
These  ndings reinforce the arguments of Granovetter [12] concerning the strength of weak ties, as well as our analytical results proving the importance of core nodes for decentralized routing.
