Ranking, reputation, recommendation, and trust systems have become essential ingredients of web-based multi-agent systems (e.g.
[16, 22, 8, 25, 11]).
These systems aggregate agents  reviews of products, services, and each other, into valuable information.
Notable commercial examples include Amazon and EBay s recommendation and reputation systems (e.g.
[21]), Google s page ranking system [19], and the Epinions web of trust/reputation system (e.g.
[18]).
This paper is concerned particularly with the setting where there is a single item of interest (e.g., a product, service, or political candidate).
A subset of the agents have prior opinions about this item.
Any of the remaining agents might desire to estimate whether or not they would like the item, based on the opinions of others.
In the o ine world, a person might  rst consult her friends for their recommendations.
In turn, the friends, if they do not have opinions of their own, may consult their friends, and so on.
Based on the cumulative feedback the initial consulter receives, she might form her own subjective opinion.
An automated trust-based recommendation system aims to provide a similar process to produce high-quality personalized recommendations for agents.
We model this setting as an annotated directed graph in which some of the nodes are labeled by votes of + and  .
Here a node represents an agent, and an edge directed from a to b represents the fact that agent a trusts agent b.
A subset of the nodes are labeled by + or   votes, indicating that these nodes have already formed opinions about the item under question.
Based on this input, a recommendation system must output a recommendation for each unlabeled node.
We call such an abstraction a voting network because it models a variety of two-candidate voting systems, where the candidates are + and  .
For an example, consider a directed star graph where a single root node points to n agents with labels, which models a committee making a recommendation to the root node.
In that setting, majority and consensus are two common voting rules.
For another example, The U.S. presidential voting system can be modeled as a more complicated digraph, where the root points
 and the electoral college nodes point to nodes representing the voters in the state or congressional district that they represent.
A multitude of recommendation systems have been proposed and implemented, and many  t in to the network-based framework described above.
This raises the question of how to determine the relative merits of alternative approaches to providing trust-based recommendations.
The task of comparing recommendation systems is complicated by the di culty of producing an objective measure of recommendation quality.
We begin with an impossibility theorem: for a small, natural set of axioms, there is no recommendation system simultaneously consistent with all axioms in the set.
However, for any proper subset of the axioms there exists a recommendation system that satis es all axioms in the subset.
We consider two ways past this negative result, both by replacing the transitivity axiom (de ned below).
We prove that there are recommendation systems consistent with both new sets of axioms.
We also show that when one of these new sets is augmented with an additional axiom, the resulting set of axioms is uniquely satis ed by a recommendation system based on random walks.
We also consider the descriptive approach, in which we characterize existing (acyclic) systems, like simple committees and the U.S. presidential elections, by a simple majority axiom.
We generalize this to an axiom that leads to a unique  minimum cut  system on general undirected (possibly cyclic) graphs.
Prior work on personalized ranking systems has produced a ranking system called personalized PageRank [13].
This system can be translated into a recommendation system by augmenting it to handle votes, creating a natural hybrid of a ranking and recommendation system.
The details are discussed in Section 3.4.
We de ne a notion of incentive compatibility for recommendation systems.
This is important when designing systems for deployment in monetized settings, because, as experience has shown, self-interested agents will not respect the rules of the system when there is money to be made by doing otherwise.
We  nd that all of the recommendation systems for which we provide a characterizing set of axioms turn out to be incentive compatible, including the random walk system, majority of majorities system, and minimum cut system.
In contrast, the personalized PageRank system and various other natural systems are not incentive compatible.
For simplicity, this paper focuses on the case of unweighted multigraphs and binary votes.
Most of our observations carry over to the more general cases of weighted graphs and fractional votes.
The rest of this paper is organized is follows.
The next section contains related work.
Section 1.2 is a brief summary of our axioms, algorithms, and results.
Some formal de nitions and notations appear in Section 2, and in Section
 we formally de ne our axioms.
Section 5 provides the outline of the proofs of our results.
Section 6 shows that our systems are incentive compatibility.
There are several ways to study recommendation systems.
Standard evaluation tools include simulations and  eld experiments (e.g.
[7, 21, 15]).
In addition, one may also consider computational properties of suggested systems.
Our work builds on previous work on axiomatizations of ranking systems.
The literature on the axiomatic approach to ranking systems deals with both global ranking systems [1, 2, 24, 9, 25, 4, 5] and personalized ranking systems [7, 10,
 based recommendation systems.
In such systems, agents rank some of the other agents.
Then an aggregated ranking of agents, personalized to the perspective of a particular agent, is generated based on that information.
However, previous studies on the axiomatic approach have not been concerned with situations where the participants share reviews or opinions on items of interest which are not the other agents in the system.
Many existing recommendation system are based on collaborative  ltering (CF), which is a completely di erent approach than the trust-based systems considered in this paper.
An axiomatic approach to analyzing CF systems appears in [20].
Combining trust-based and CF approaches is a direction of current research [23].
We model a voting network by a partially labeled directed multigraph whose nodes represent agents.
A subset of the nodes, called voters, is labeled with votes of + and  .
The remaining nodes are nonvoters.
The recommendation system must assign, to each source nonvoter, a recommendation in { , 0, +}.1 Below we informally summarize our axioms.
Many of them are illustrated in Figure 1.
We caution that our aim is only to succinctly convey the spirit of the axioms; formal de nitions are found in Section 2.
ing isomorphic recommendations (anonymity), and the system is also symmetric with respect to + and   votes (neutrality).
and an edge is added to a + voter, then the former s recommendation becomes +.
recommendation is independent of agents not reachable from that node.
Recommendations are also independent of edges leaving voters.
If a nonvoter s neighbors unanimously vote +, then the recommendation of other nodes will remain unchanged if that node instead becomes a + voter.
If, in a particular graph, a source node is recommended +, then we say that the source trusts the set of agents that voted + more than those that voted  .
The following axiom states that this relation should be transitive, as we imagine varying the votes of various subsets of agents.
A, B, C   N , for any source s, if s trusts A more than B, and s trusts B more than C, then s trusts A more than C.
(Axiom 1) is impossible with   recommendations alone.
s + a) b) + u   v s c) + v d)     s e)   f) Figure 1: Illustrative voting networks.
Labels   indicate votes, not recommendations.
a) IIS: Node s s recommendation does not depend on any of the dashed node or dashed edges, since we ignore unreachable nodes as well as edges out of voters.
b) Neighborhood consensus: Node v can be assigned + vote.
c) If the recommendation for s is + then we say s trusts {v} more than {u}.
d) Trust propagation: The dashed edges the upper part can be removed and replaced by dashed edges in the lower part.
e) Scale invariance: Edges leaving s are tripled without consequence.
f ) No groupthink: The three nonvoting nodes cannot all be given + recommendations.
Theorem 1.
Axioms 1-5 are inconsistent.
Any proper subset of these axioms is satis ed by some recommendation system.
Instead of transitivity, we consider the following two axioms.
Similar axioms have been used in the axiomatization of PageRank in the context of ranking systems [2].
v. Suppose that u has k edges to v and v has k edges to other nodes.
Then the edges from u to v can be replaced directly by edges from u to the nodes that v trusts without changing any resulting recommendations.
a node does not change recommendations.
We specify a random walk algorithm, a (deterministic) algorithm that computes a recommendation for node s by considering a (hypothetical) random walk in the directed graph that starts at node s and follows outgoing edges, uniformly at random, until the  rst voter is reached.
Its recommendation for s is based on whether it is more likely that the  rst voter reached votes + or  .
The system computed by the random walk algorithm is called the Random Walk recommendation system (RW).
Theorem 2.
Axioms 1-4 and 6-7 are satis ed uniquely by RW.
As we will see in the proof of Theorem 1, the transitivity axiom and the IIS axiom are hard to reconcile because IIS implies the edges out of the voting nodes do not matter while transitivity implies that the sets in the trust graph must obey a certain relation regardless of who is voting.
A weaker version of transitivity which does not con ict with IIS is the following: (cid:3)
 .
Sink Transitivity.
For any graph (N, E) and any disjoint sets A, B, C   N for which A, B, C contain only vertices with out-degree 0, for any source s, if s trusts A more than B and s trusts B more than C, then s trusts A more than C.
(cid:3) Theorem 3.
Axioms 1-4 and 5 are satis ed by RW.
We also consider axioms which lead uniquely to known recommendation systems:
 equal to the majority of the votes and recommendations of its trusted neighbors.
mously have the same nonzero recommendation.
Then their recommendation should equal the majority of their trusted (external) neighbors  votes and recommendations.
The majority axiom represents a reasonable semantics   an agent might like to wait for its trusted neighbors to receive a recommendation and then take a simple majority.
However, this axiom alone still permits a large clique of nonvoters to all have positive recommendations when they only point to external agents with negative recommendations (see Figure 1f).
The no-groupthink axiom is a natural extension to larger sets.
It implies the majority axiom when one considers just singleton sets.
Unfortunately, on general directed graphs axiom 9 is inconsistent.
However, it is a statement about a single graph G, so we can consider it on limited classes of graphs.
Two interesting classes of graphs are directed acyclic graphs and undirected graphs,where axioms 8 and 9 lead uniquely to two interesting solutions.
These are the majority-of-majorities and minimum-cut systems are de ned in Section 3.
Theorem 4.
(a) Axiom 8 on a rooted DAG implies the majority-of-majorities system.
(b) Axiom 9 on an undirected graph implies the min-cut recommendation system.
Following the motivation provided in the previous section, we now formally de ne the basic setting of a trust-based recommendation system.
In the remainder of the paper, we refer to such systems simply as recommendation systems, for brevity.
tated multigraph G = (N, V+, V , E) where N is a set of nodes, V+, V    N are disjoint subsets of positive and negative voters, and E   N 2 is a multiset of edges with parallel edges allowed but no self-loops.
When V+ and V  are clear from context, we denote the set of voters by V = V+   V  and the set of nonvoters by
 Definition 2.
A recommendation system R takes as input a voting network G and source s   V and outputs recommendation R(G, s)   { , 0, +}.
For convenience, we will use R+(G), R (G), and R0(G) to denote the set of sources to which R gives a particular recommendation, i.e. R+ = {s   V | R(G, s) = +}.
Also, we de ne R(G) = (cid:5)R+(G), R (G), R0(G)(cid:6).
We denote by sgn : R   { , 0, +} the function that computes the sign of its input.
We denote by PredE(v) and SuccE(v) the multisets of nodes that point to v and that v points to, respectively (where, for example, u appears in PredE(v) with multiplicity equal to the number of arcs (u, v) in multiset E).
Given a multiset of recommendations, S   { , 0, +}, we de ne the majority MAJ(S) to be: + if more than half the elements of S are +;   if more than half of S are  ; and 0 otherwise.
We  rst describe a recommendation system based on random walks.
Given a voting network G = (N, V+, V , E) and a source s   V , the random walk system simulates the following: start a walker at node s and, at each step, choose an outgoing edge uniformly at random and follow it to the destination node.
Continue this random walk until a node with a   vote is reached, or until a node with no outgoing edges is reached (note this walk may reach a node whose strongly connected component contains no voters, and thus never terminate).
Let ps be the probability that the random walk terminates at a node with positive vote and qs be the probability that the random walk terminates at node with negative vote.
Let rs = ps   qs.
The random walk recommendation system recommends sgn(rs) to s.
The algorithm given in Figure 2 correctly computes recommendations as de ned by the RW system.
To see this,  rst note that, for any node that cannot reach a voter, the recommendation must be 0 in both the RW system and the RW algorithm.
Next, probabilistic arguments show that the equations de ned must be obeyed by the random walk.
Finally, the uniqueness of the solution follows from the fact that, with probability 1, the random walk will reach a vertex in S   V+   V .
Also note that the algorithm can be implemented e ciently and in polynomial time.
As stated in Theorem 2 (Section 1.2), the RW recommendation system is the unique system which satis es axioms
 in Section 4 and the proof of Theorem 2 is sketched in Section 5 and provided in full in Appendix B. Theorem 3 states (cid:3) that RW satis es 1-4 and 5 .
The proof of this is omitted.
Input: G = (N, V+, V , E), s   V .
Output: recommendation   { , 0, +}.
any voter.
following from rv:    

  1, (cid:6) w SuccE (v) rw |SuccE (v)| if v   S if v   V+ if v   V  , otherwise rv =
 Figure 2: The random walk algorithm.
(Recall that V = V+   V  is the set of voters and V = N \ V is the set of nonvoters.)
The system in this section and in the next seem quite di erent at  rst glance, but both derive from the same single axiom.
In this section, we present a system that is well de ned only when the graph underlying the voting network is a Directed Acyclic Graph (DAG).
Nodes in a  nite DAG can always be partitioned into a  nite number of levels.
In level
 edges only to nodes in level j < i.
The Majority-of-majorities system assigns a recommendation as follows: each nonvoter that is a sink (i.e.
in level 0) receives recommendation 0; each voter in level i receives a recommendation equal to the majority of the recommendations and votes of its outgoing neighbors (where multiple edges are counted multiple times).
This can be computed recursively by an e cient algorithm.
Recall that we use the de nition of Majority from Section 2, which is conservative in the sense that in order to have a nonzero recommendation, there must be a strict majority of matching recommendations.
As stated in Theorem 4a, the majority-of-majorities recommendation system is the unique system which satis es axiom 8 when the voting network is a DAG.
The proof of Theorem 4 is sketched in Section 5 and provided in full in Appendix C.
Let G = (N, V+, V , E) be a voting network.
Let E(cid:3)   E be the set of edges in E that originate at nonvoters, i.e., eliminate edges out of voters.
We say that cut C   E(cid:3) is a (V+, V )cut of G if there is no path from V+ to V  using edges in E(cid:3) \ C. We say that C is a min-cut of G if its size |C| is minimal among all (V+, V )cuts.
The minimum cut system can be de ned as follows.
The recommendation of a source s is + if in all min-cuts there is a path from s to V+ among edges in E(cid:3) \ C. The recommendation is   if all min-cuts leave a path from s to V .
Otherwise, the recommendation is 0.
This may be computed as follows:  rst, compute a min-cut C in G. Next, consider network G+ which is formed
 compute C+ in G+.
If |C| < |C+| then the recommendation is  .
Otherwise, consider network G , formed from G by adding an edge from s to a   voter.
For a min-cut C  of G , if |C| < |C | then the recommendation for s is +.
Otherwise, the recommendation for s is 0.
This can be computed in polynomial time by repeatedly using a polynomial-time algorithm for (s, t)-minimum cut.
To see that it correctly computes the min-cut recommendation, note that if s is connected to V+ in all min-cuts then adding an edge from s to a   voter will create a path from V  to V+ in all min-cuts.
This will increase the min-cut cost by 1.
On the other hand, if there is a cut of G where s is not connected to V+, then this edge set will still be a cut in G  so the min-cut cost will not increase.
Similarly, |C| < |C+| if and only if s is connected to V  in all min-cuts of G. In the remaining case, the sizes of all three min-cuts will be the same because there are some min-cuts in which s is connected to V  and some in which s is connected to V+.
As stated in Theorem 4b, the min-cut recommendation system is the unique system which satis es axiom 8 on undi-rected graphs.
The proof of Theorem 4 is sketched in Section 5 and provided in full in Appendix C.
In designing a recommendation system, we can consider systems based on aggregating the level of trust a node has for other nodes.
The idea is to de ne a trust level wuv for any two nodes u and v in the network, and to compute the recommendation for a nonvoter u by comparing two values: W+(u) = wuv and W (u) = (cid:6) (cid:6) v V+ v V  wuv.
A natural way to capture the level of trust in a network is to apply a personalized ranking system such as personalized PageRank (as introduced by Haveliwala in [13]).
The personalized PageRank of node v for a node u is denoted by ppr (u   v), and is de ned to be the probability mass at node v in the stationary distribution of a biased random walk R (u) with restart probability     (0, 1).
The random walk R (u) is de ned as follows: at each step, with probability  , we restart the random walk at node u; and with probability 1    , we go uniformly to one of the outgoing neighbors, i.e, from a node w we go to one of the neighbors of w with probability out-degree(w) ; if there are no outgoing neighbors, we restart the walk at node u .
Note that, unlike the RW system in Section 3.1, this random walk continues regardless of whether the vertex it is currently visiting is a voter or nonvoter.
The personalized PageRank values can be computed e ciently by simulating this random walk.
For details of computation and extensions, see [13, 14].
1  Using this notation, the personalized PageRank recommendation system is as follows: Given a voting network G = (N, V+, V , E), and a parameter  , we compute the personalized PageRank ppr (u   v) for all pairs of nodes.
v V+ ppr (s   v), (cid:6) For a nonvoter s, we compute W+(s) = v V  ppr (s   v), and we set R(G, s) = and W (s) = sgn(W+   W ).
(cid:6) It is not hard to see that the personalized PageRank system satis es the axioms symmetry, positive response, and transitivity, but it does not satisfy the axioms IIS, and neighborhood consensus.
The proofs of these statements are omitted due to space constraints.
We are now ready to consider various properties of recommendation systems as candidate axioms.
These properties are motivated by related literature on social choice and ranking systems, and also by the machinery used in practical recommendation systems.
Similar to other axiomatic studies, the choice of axioms is to some extent arbitrary, and other sets of axioms are possible.
Nevertheless, we believe that any one of our axioms by itself does capture a desirable property for recommendation systems, and that the study of the combination of these axioms leads to informative insights and interesting algorithms.
The  rst property, symmetry, is purely structural.
The symmetry axiom contains two parts, anonymity and neutrality.
Anonynmity means that the names of the agents do not matter for the source node; all that matters is the structure of the trust graph and the votes provided.
Neutrality means that the values +/- are arbitrary.
Axiom 1.
(Symmetry) Let G = (N, V+, V , E) be a voting network.
Anonymity: For any permutation   : N   N , let G(cid:3) , be the isomorphic voting network under  .
Then R+(G(cid:3) ) =  (R (G)).
Neutrality: Also, let G(cid:3)(cid:3) = (N, V , V+, E) be the voting network where the sets of voters V  and V+ have been interchanged.
Then R+(G) = R (G(cid:3)(cid:3) ) =  (R+(G)) and R (G(cid:3) ) and R (G) = R+(G(cid:3)(cid:3) ).
The next axiom is a classic social choice axiom.
It states that if a node s has recommendation 0 (or +) and an additional +-voter is added to the network along with an edge from s to the new node, then s s new recommendation should be +.
It re ects a razor sedge view of a 0 recommendation.
The axiom  pushes  the systems towards strict recommendations.
(Without such an axiom, systems may almost always recommend 0.)
Axiom 2.
(Positive response) Let w (cid:9)  N , s   V , = (N   {w}, V+   {w}, V , E (cid:10) G = (N, V+,V , E), and G(cid:3) {(s, w)}).
If s /  R (G) then s   R+(G(cid:3) ).
Note that the above axiom is presented asymmetrically in terms of   votes and recommendations.
In combination with the Symmetry axiom, the corresponding version with   votes and recommendations follows directly.
We use an asymmetric presentation for readability in several of the axioms.
The next axiom, Independence of Irrelevant Stu  (IIS) captures the semantics of recommendation systems discussed in the introduction: a source node is viewed as consulting neighboring agents in the trust graph, who consult their neighbors etc., while agents who have formed opinions just vote according to their opinion.
This means that when considering the recommendation for a particular source node in a particular trust graph, where part of the agents vote (perhaps based on  rst-hand experience), feedback from these agents is independent of who they trust (i.e., they trust themselves in nitely more than others) and the recommendation system should consider only reachable nodes and ignore links out of voters.
While one may consider other types of semantics, something similar to this axiom appears in many previously designed systems.
Axiom 3.
(IIS) Let G = (N, V+, V , E) and e   V   N = be an edge leaving a voter.
Then for the subgraph G(cid:3)
 ).
Similarly, if v   N is a node not reachable from R(G(cid:3) s   V , then for the subgraph G(cid:3)(cid:3) in which node v (and its associated edges) have been removed, R(G, s) = R(G(cid:3)(cid:3), s).
When we write R(G) = R(G(cid:3) ), as in the above, it means that the recommendations on the two voting networks are identical.
The following requirement deals with some minimal rationality we wish to attribute to the agents; as in the classical theory of choice we are willing to assume something about the vote of an agent who has no a priori opinion only in extreme cases.
The neighborhood-consensus axiom does just if all the agents trusted by a node v vote +, and no that: other nodes touch v s neighbors, then the recommendation of any other nonvoter u will remain unchanged if v instead becomes a + voter.
Axiom 4.
(Neighborhood Consensus) Fix a voting network G = (N, V+, V , E), and let s, u   V be distinct nonvoters.
Suppose u has at least one outgoing edge, and suppose that each outgoing edge (u, v)   E points to v such that v   V+ and v has no (incoming or outgoing) neigh-= (N, V+   {u}, V , E).
Then bors other than u.
Let G(cid:3) R(G, s) = R(G(cid:3), s).
Transitivity is a central concept in the axiomatization of voting [6].
In our context, we consider the case where the underlying trust graph is  xed, but the system needs to deal with more than one item, and di erent subsets of nodes vote on di erent items.
The de nition of transitivity is based on the following binary relation, which describes whether a speci ed source node trusts a set of nodes A more than another set of nodes B.
Definition 3.
Let G = (N, V+, V , E) be a voting net-If s   R+(G), then we say that s trusts V+ more work.
than V  relative to multigraph (N, E).
For each source node, a binary relation is generated.
The transitivity axiom stipulates that each of these binary relations must be transitive.
Axiom 5.
(Transitivity) For all multigraphs (N, E), s   V , and disjoint A, B, C   N , if, relative to (N, E), s trusts A more than B and s trusts B more than C, then s trusts A more than C.
In this section, we consider propagation of trust.
Intuitively, if u trusts v and v trusts w, then u should trust w, at least to some extent.
Much has been written about trust propagation within social networks (see, e.g., [12]) and the axiom below is a conservative interpretation that agrees with much of the literature.
One would like to say that if u trusts nonvoter v, and v trusts w, then we can simply add an edge from u to w without changing anything.
However, our system is supposed to re ect degrees of trust, and this would falsely in ate such trust.
Instead, we count edges as follows.
Suppose there are k edges leaving v (that don t point to u).
Suppose that there happen to be k edges from u to v. Then we can remove k edges from u to v and replace them by k new edges from u to the k nodes that v trusts (besides u), and no recommendations should change.
Axiom 6.
(Trust propagation) Let voting network G = (N, V+, V , E), u (cid:9)= v   V , and suppose that the edges leaving v (besides those to u) are (v, w1), .
.
.
, (v, wk), (wi (cid:9)= u) E (cid:10) {(u, w1), .
.
.
, (u, wk)}(cid:8) \ for some integer k. Suppose that E contains exactly k copies of (u, v).
Then, for E(cid:3) {(u, v)   k} and G(cid:3) R(G(cid:3) = (N, V+, V , E(cid:3) ), we have that R(G) = (cid:7) = ).
Another natural axiom is scale invariance.
Loosely speaking, this means that the amount of trust placed in a node is relative.
Axiom 7.
(Scale invariance) In voting network G = = (N, V+, V , E (cid:10) ), where E(cid:3) is the multiset containing k copies of each of (N, V+, V , E), u   V , and k   1.
Let G(cid:3) E(cid:3) the edges leaving v. Then R(G) = R(G(cid:3) ).
It states that we can duplicate all edges leaving a node an arbitrary number of times without changing recommendations.
The majority axiom states that a node s recommendation should equal the majority of the recommendations and votes of its trusted neighbors.
We say the sign of an edge is positive, negative, or neutral if it points to a node with positive vote or recommendation, negative vote or recommendation, or 0 recommendation, respectively.
Axiom 8.
(Majority) Let G = (N, V+, V , E) be a voting network, and let let s   V be any nonvoter.
Then, the recommendation of s should be equal to the majority of the signs of the edges leaving s.
We are using the strict notion of majority as de ned in Section 2.
This choice is somewhat arbitrary, though it  ts well with the next axiom.
Also note that one can further axiomatize majority itself, but we leave it as is for the sake of brevity.
Unfortunately, the majority axiom by itself does not imply unique recommendations on cyclic graphs (think about a graph with two nonvoters that point to each other).
Instead, we consider the following property.
Groupthink refers to a social phenomenon in which an entire group of people arrive at a ridiculous conclusion through self-reinforcing interactions.
The no-groupthink axiom rules this out and imposes strong semantics on the system.
There are two parts to this axiom.
First, we consider the case that an entire group of nonvoters are all recommended +.
This strong position should be based on something external, since no member voted.
The requirement is that, among the edges leaving the group, a majority must point to nodes with + votes or recommendations.
Furthermore, if a majority of the edges leaving the group point to nodes with + votes or recommendations, then the group must contain at least one node with + recommendation.
Since no-groupthink is inconsistent for general directed graphs, we de ne it for speci c graphs.
We say that a recommendation system R avoids groupthink for G if the following holds: Axiom 9.
(No groupthink) Let S   V be a nonempty set of nonvoters.
Let E(cid:3) be the multiset of edges in E from S to N \ S. (a) If S   R+(G), then a strict majority of the must point to nodes in R+(G) V+.
(b) If a strict edges in E(cid:3) point to nodes in R+(G)   V+, majority of the edges in E(cid:3) then S   R+(G) (cid:9)=  .
s

 (ii) u v s w Figure 3: (i) Example demonstrating the impossibility of axioms 1-5.
(ii) In this example, s trusts {u} more than {v}, {v} more than {w} and {w} more than {u}.
The details are described in the text.
When S is a singleton the no-groupthink axiom reduces to the majority axiom.
Hence no-groupthink can be interpreted as a generalization of the majority axiom to larger sets.
Note that the no-groupthink axiom is incompatible with the scale-invariance axiom.
In this section, we give intuition underlying the proofs of the three theorems from Section 1.2.
Formal proofs are deferred to the Appendix.
For Theorem 1, the example in Figure 3(i) is used to demonstrate impossibility.
Relative to the depicted graph, one can show that s trusts set A more than B, B more than C, and C more than A, contradicting transitivity.
To show that the set of axioms is a minimal impossible set, we construct  ve recommendation systems, each one satisfying all but one of the axioms.
For example, the RW recommendation system satis es axioms 1-4 but does not satisfy axiom 5 (transitivity).
Figure 3(ii) gives another example worthy of discussion.
When u votes +, v votes  , and w does not vote, it is reasonable that s should be + due to its extra path to u through w and the fact that multiple edges in our system re ect additional trust.
However, continuing along these lines, symmetry leads to a cycle in the transitivity relation.
While this argument does not follow from axioms 1-5, it is suggestive of problems due to transitivity.
For Theorem 2, we  rst apply a sequence of transformations to the graph, to get the graph to a point in which all edges lead to voters.
Each of these transformations can be shown, by the axioms, not to change any recommendations.
Moreover, none of these transformations change the recommendations computed by RW.
Thus, the problem is reduced to showing that the theorem holds when all edges point to voters.
The transformation process iterates through the nonvoters, and, for each nonvoter, it removes all incoming edges by a combination of edge duplication and trust propagation.
When we are left with edges only to voters, axioms 1-4 are still not su cient to determine the recommenda- tions of nodes due to possible multiple edges.
However, by applying the trust propagation axiom again (in some sense in reverse), we complete the argument.
For Theorem 4, part (a) on rooted trees is much simpler than part (b).
For part (a), the no-groupthink axiom on an individual implies directly that its vote will equal the majority of its outgoing neighbors  recommendations.
This can be applied from the sinks upwards to get uniquely the MoM system.
For part (b), our proof is by contradiction.
We begin by assuming that the recommendations do not match those of the min-cut system and use a case analysis to show that, in each case, some set of nodes engages in groupthink.
Incentive compatibility is a desirable property for voting systems.
In our context, it not only means that an agent will have incentive to vote according to its prior opinion, but it means that an agent (or a set of agents) cannot be more e ective by creating false edges (or even false nodes).
To discuss incentive compatibility, one needs to discuss preferences.
We say an agent has positive preferences if an agent prefers a set of recommendations that is, node by node, larger than or equal to another set of recommendations (where + is larger than 0 and  , and 0 is larger than  ).
Similarly, for negative preferences.
We say a recommendation system is incentive compatible if (1) every set of agents with positive preferences is at least as happy with the outcomes when they all vote + and report trust honestly, as they would be in any other scenario that they can collude to create; and (2) the same is true for every set of agents with negative preferences when they all vote  .
For example, suppose a set of agents T have positive preferences, and node s (cid:9)  T receives a 0 or   when all agents in S vote +.
Incentive compatibility implies that s cannot receive a greater recommendation when agents in T take any of the following strategic actions (sometimes called Sybil attacks):   T creates an arbitrarily large set of  ctitious agents F .
  T and F create arbitrary edges between themselves, and arbitrary outgoing edges from themselves to other agents.
(They are not allowed to alter edges which start at non-malicious agents.)
  Arbitrary subsets of S   F vote +, vote  , and do not vote.
This implies that the set S will never strictly prefer any outcome (under their control) other than that achieved when they all vote +.
It is relatively straightforward to see that RW satis es incentive compatibility, as the best strategy for a group of agents to maximize another node s vote is to maximize the probability that the  rst voting node encountered votes +.
Before a random walk reaches that malicious agents, it is out of their control.
Once it reaches them, they might as well terminate the walk with a + vote.
It is similarly straightforward to verify that the MoM system also satis es incentive compatibility if we enforce the fact that the cheating agents cannot create any cycles in the graph.
Lastly, the min-cut system also obeys the above type of incentive compatibility.
Note that personalized PageRank does not satisfy incentive compatibility, since a voting node with positive preferences might have an incentive to alter its outlinks.
Incentive compatibility is closely linked to axiom 3 (IIS), but they are not equivalent.
In this paper, we initiated the axiomatic study of trust-based recommendation systems.
This allows for rigorous evaluation of recommendation systems.
Our work deals both with a normative approach, where the rami cations of natural postulates are considered, and with the descriptive approach where we aim at fully characterizing particular systems.
In particular, we have found  ve basic axioms that cannot be satis ed simultaneously, for which any proper subset can be satis ed.
In addition, we have given a sharp characterization of the random walk recommendation system.
This was obtained by replacing an axiom capturing a notion of transitivity with ones capturing trust propagation and duplication.
Acknowledgments.
We thank the attendees of the  DI-MACS Workshop on the Boundary between Economic Theory and Computer Science  for their many helpful comments.
