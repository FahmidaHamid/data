[1] D. Agarwal, B.-C. Chen, P. Elango, and et al. Online

models for content optimization. In NIPS, 2008.

[2] P. Auer, N. Cesa-Bianchi, and P. Fischer. Finite-time
analysis of the multiarmed bandit problem. Machine
Learning, 2002.

[3] Y. Benjamini and Y. Hochberg. Controlling the false
discovery rate: a practical and powerful approach to
multiple testing. Journal of the Royal Statistical
Society B, 1995.

[4] C.A.Colin and P.K.Trivedi. Regression Analysis of

Count Data. Cambridge University Press, 1998.

[5] J. M. Chambers. Software for Data Analysis:

Programming with R. Springer, 2008.

[6] C.R.Rao. Linear Statistical Inference and Its

Applications. Wiley, 2002.

[7] D.K.Stangl and D.A.Berry. Meta-analysis in Medicine

and Health Policy. CRC Press, 2000.

[8] D.Lambert and C.Liu. Adaptive thresholds:

Monitoring streams of network counts. Journal of the
American Statistical Association, 2006.

[9] C. Kaufman, V. Ventura, and R. Kass. Spline-based
non-parametric regression for periodic functions and
its application to directional tuning of neurons.
Statistics in Medicine, 2005.

[10] Q. Mei and K. W. Church. Entropy of search logs:

how hard is search? with personalization? with
backoﬀ? In WSDM, 2008.

0.010.050.100.501.005.0010.000.0020.0060.0100.014F1−to−others traffic ratioMean absolute errorDGP−F1DLR0.020.050.100.200.500.0030.0050.007Fraction of time with F1 dataMean absolute errorDGP−F1DLR0.20.40.60.81.00.900.940.98M1M2/M1WWW 2009 MADRID!Track: Data Mining / Session: Click Models29[11] M.West and J.Harrison. Bayesian Forecasting and

Dynamic Models. Springer-Verlag, 1997.

[12] F. Radlinski and T. Joachims. Active exploration for

learning rankings from clickthrough data. In KDD,
2007.

[13] M. Richardson, E. Dominowska, and R. Ragno.

Predicting clicks: estimating the click-through rate for
new ads. In WWW, 2007.

[14] S.P.Ellner and Y.Seifu. Using spatial statistics to

select model complexity. Journal of Computational
and Graphical Statistics, 2002.

[15] F. Wu and B. A. Huberman. Novelty and collective

attention. In Proceedings of National Academy of
Sciences, 2007.

[16] F. Wu and B. A. Huberman. Popularity, novelty and

attention. In EC. ACM, 2008.

APPENDIX
Eﬀect of Concurrent articles: Ranking of articles at
diﬀerent slots depends on correlation in article CTR that
are shown concurrently to users.
If CTR of an article is
inﬂuenced by other concurrent articles in the content pool,
it is important to adjust for such eﬀects in ranking articles.
In general, it is hard to conduct such correlation studies from
serving bucket data; the availability of random bucket data
in our scenario makes this study feasible.

To measure such correlations, we compare the observed
number of clicks cij for article i displayed at F1 when shown
concurrently with article j shown at Fx (x= 2, 3, 4) with
baseline Eij, expected number of clicks under the null hy-
pothesis of no correlation. Large deviations of cij’s from the
corresponding Eij’s would be indicative of correlation.

If

h Nij,h

(cid:80)

Computing baseline frequency Eij: To avoid data spar-
sity, we only considered pairs that were shown together at
least 1000 times during their lifetimes. To adjust for tem-
poral variations, we partitioned the data into several 2 hour
ˆCT Ri,h denote the empirical CTR of article
windows.
i in time window h and Nij,h is the number of joint oc-
curences of article i at F1 with article j at Fx in time win-
ˆCT Ri,h. We then compute p-values
dow h, Eij =
(Pij,low,Pij,high) that measures extremeness of cij under a
Poisson model with mean Eij.
In particular, Pij,low =
P r(X ≤ cij); Pij,high = P r(X > cij), where X follows
P oisson(Eij). Low values of Pij,low(Pij,high) are indicative
of strong negative(positive) correlations. Figure 5 shows
the quantile-quantile plot of normal scores of the p-values
against a standard normal distribution. The close agree-
ment indicates no signiﬁcant correlations in our data. We
also conducted formal hypothesis testing by adjusting the
p-values for multiple testing using the FDR procedure([3]).
The test ﬂagged only 3 pairs as signiﬁcant (out of a total of
about 26K) at 5% error rate. This further shows there is no
need to incorporate the eﬀect of other articles while select-
ing the set of top 4, perhaps the editors are already ensuring
a diverse pool of articles through their programming.

Validating Gamma-Poisson Assumption To validate
the Gamma-Poisson assumption empirically, we consider click
and view time series of all articles appearing in a month
in RND. Our method is motivated by techniques proposed
in [8]. Recall the Gamma-Poisson model:
if the CTR or
state θt at each time interval is known, then clicks ct ∼
P oisson(vtθt) and ct’s are independent of each other. Of

Figure 12: Q-Q plot of normal scores for Pij,high.
Similar patterns observed for normal scores of Pij,low

(a) Poisson Q-Q

(b) Gamma Q-Q

Figure 13: Validating Gamma-Poisson assumption

course the states are unknown and estimated from data,
which introduces uncertainty modeled through a Gamma
distribution. We ﬁrst ﬁt a non-parametric curve to the time
series using loess (local polynomial regression) available in
software R [5]; the neighborhood size (span) is selected such
that the autocorrelations in the residuals is close to zero as
suggested in [8]. In fact, this ensures the assumption of in-
dependence of clicks in diﬀerent intervals is approximately
true. The autocorrelation measure we use is based on Moran
I statistic as recommended in [14].

Assuming the estimated loess curve ˜θt for an article in
time t is the truth, we draw observations from P oisson(˜θtvt).
Figure 13(a) shows a quantile-quantile plot of observed clicks
versus simulated clicks from ﬁtted Poisson distribution. The
close agreement among the quantiles clearly shows the Pois-
son assumption is reasonable.

To validate the Gamma assumption, we assume CTR of
an article in a given hour changes very slowly and can be
assumed to be almost a constant. We ﬁt a Gamma distri-
bution to each of the 12 loess ﬁtted article CTR in a given
hour by matching moments and draw 12 samples from the
ﬁtted Gamma distribution. The quantile-quantile plot of
estimated loess CTR’s and Gamma samples shown in ﬁg-
ure 13(b) shows the Gamma assumption is reasonable for
our data. (Similar patterns observed over large number of
simulations.) This one-time oﬄine analysis clearly shows
the Gamma-Poisson assumption is appropriate for tracking
article CTR in our data. A similar analysis showed Beta-
Binomial is also reasonable but slightly worse than Gamma-
Poisson.

−4−2024−6−2024Standard normalnormal scores0408012004080120Obs ClicksExpected clicks0.050.150.050.15True CTRExpected CTRWWW 2009 MADRID!Track: Data Mining / Session: Click Models30
